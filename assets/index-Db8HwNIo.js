var Rj=Object.defineProperty;var tm=e=>{throw TypeError(e)};var Aj=(e,t,r)=>t in e?Rj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var W=(e,t,r)=>Aj(e,typeof t!="symbol"?t+"":t,r),hu=(e,t,r)=>t.has(e)||tm("Cannot "+r);var R=(e,t,r)=>(hu(e,t,"read from private field"),r?r.call(e):t.get(e)),ge=(e,t,r)=>t.has(e)?tm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),ne=(e,t,r,n)=>(hu(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),at=(e,t,r)=>(hu(e,t,"access private method"),r);var Ma=(e,t,r,n)=>({set _(s){ne(e,t,s,r)},get _(){return R(e,t,n)}});function Oj(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $v(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Mj(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Fv={exports:{}},gc={},Uv={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=Symbol.for("react.element"),Dj=Symbol.for("react.portal"),Ij=Symbol.for("react.fragment"),Lj=Symbol.for("react.strict_mode"),$j=Symbol.for("react.profiler"),Fj=Symbol.for("react.provider"),Uj=Symbol.for("react.context"),zj=Symbol.for("react.forward_ref"),Bj=Symbol.for("react.suspense"),Wj=Symbol.for("react.memo"),Hj=Symbol.for("react.lazy"),rm=Symbol.iterator;function Vj(e){return e===null||typeof e!="object"?null:(e=rm&&e[rm]||e["@@iterator"],typeof e=="function"?e:null)}var zv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bv=Object.assign,Wv={};function Ko(e,t,r){this.props=e,this.context=t,this.refs=Wv,this.updater=r||zv}Ko.prototype.isReactComponent={};Ko.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ko.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Hv(){}Hv.prototype=Ko.prototype;function zf(e,t,r){this.props=e,this.context=t,this.refs=Wv,this.updater=r||zv}var Bf=zf.prototype=new Hv;Bf.constructor=zf;Bv(Bf,Ko.prototype);Bf.isPureReactComponent=!0;var nm=Array.isArray,Vv=Object.prototype.hasOwnProperty,Wf={current:null},qv={key:!0,ref:!0,__self:!0,__source:!0};function Gv(e,t,r){var n,s={},o=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Vv.call(t,n)&&!qv.hasOwnProperty(n)&&(s[n]=t[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ma,type:e,key:o,ref:i,props:s,_owner:Wf.current}}function qj(e,t){return{$$typeof:ma,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hf(e){return typeof e=="object"&&e!==null&&e.$$typeof===ma}function Gj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var sm=/\/+/g;function pu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Gj(""+e.key):t.toString(36)}function fl(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ma:case Dj:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+pu(i,0):n,nm(s)?(r="",e!=null&&(r=e.replace(sm,"$&/")+"/"),fl(s,t,r,"",function(u){return u})):s!=null&&(Hf(s)&&(s=qj(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(sm,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",nm(e))for(var a=0;a<e.length;a++){o=e[a];var c=n+pu(o,a);i+=fl(o,t,r,c,s)}else if(c=Vj(e),typeof c=="function")for(e=c.call(e),a=0;!(o=e.next()).done;)o=o.value,c=n+pu(o,a++),i+=fl(o,t,r,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Da(e,t,r){if(e==null)return e;var n=[],s=0;return fl(e,n,"","",function(o){return t.call(r,o,s++)}),n}function Kj(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var kt={current:null},hl={transition:null},Yj={ReactCurrentDispatcher:kt,ReactCurrentBatchConfig:hl,ReactCurrentOwner:Wf};function Kv(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Da,forEach:function(e,t,r){Da(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Da(e,function(){t++}),t},toArray:function(e){return Da(e,function(t){return t})||[]},only:function(e){if(!Hf(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Ko;oe.Fragment=Ij;oe.Profiler=$j;oe.PureComponent=zf;oe.StrictMode=Lj;oe.Suspense=Bj;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Yj;oe.act=Kv;oe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Bv({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Wf.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)Vv.call(t,c)&&!qv.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ma,type:e.type,key:s,ref:o,props:n,_owner:i}};oe.createContext=function(e){return e={$$typeof:Uj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Fj,_context:e},e.Consumer=e};oe.createElement=Gv;oe.createFactory=function(e){var t=Gv.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:zj,render:e}};oe.isValidElement=Hf;oe.lazy=function(e){return{$$typeof:Hj,_payload:{_status:-1,_result:e},_init:Kj}};oe.memo=function(e,t){return{$$typeof:Wj,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=hl.transition;hl.transition={};try{e()}finally{hl.transition=t}};oe.unstable_act=Kv;oe.useCallback=function(e,t){return kt.current.useCallback(e,t)};oe.useContext=function(e){return kt.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return kt.current.useDeferredValue(e)};oe.useEffect=function(e,t){return kt.current.useEffect(e,t)};oe.useId=function(){return kt.current.useId()};oe.useImperativeHandle=function(e,t,r){return kt.current.useImperativeHandle(e,t,r)};oe.useInsertionEffect=function(e,t){return kt.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return kt.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return kt.current.useMemo(e,t)};oe.useReducer=function(e,t,r){return kt.current.useReducer(e,t,r)};oe.useRef=function(e){return kt.current.useRef(e)};oe.useState=function(e){return kt.current.useState(e)};oe.useSyncExternalStore=function(e,t,r){return kt.current.useSyncExternalStore(e,t,r)};oe.useTransition=function(){return kt.current.useTransition()};oe.version="18.3.1";Uv.exports=oe;var h=Uv.exports;const A=$v(h),Yv=Oj({__proto__:null,default:A},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qj=h,Xj=Symbol.for("react.element"),Jj=Symbol.for("react.fragment"),Zj=Object.prototype.hasOwnProperty,eS=Qj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tS={key:!0,ref:!0,__self:!0,__source:!0};function Qv(e,t,r){var n,s={},o=null,i=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)Zj.call(t,n)&&!tS.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Xj,type:e,key:o,ref:i,props:s,_owner:eS.current}}gc.Fragment=Jj;gc.jsx=Qv;gc.jsxs=Qv;Fv.exports=gc;var l=Fv.exports,ud={},Xv={exports:{}},Gt={},Jv={exports:{}},Zv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,P){var F=C.length;C.push(P);e:for(;0<F;){var $=F-1>>>1,q=C[$];if(0<s(q,P))C[$]=P,C[F]=q,F=$;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var P=C[0],F=C.pop();if(F!==P){C[0]=F;e:for(var $=0,q=C.length,J=q>>>1;$<J;){var ce=2*($+1)-1,Fe=C[ce],Z=ce+1,G=C[Z];if(0>s(Fe,F))Z<q&&0>s(G,Fe)?(C[$]=G,C[Z]=F,$=Z):(C[$]=Fe,C[ce]=F,$=ce);else if(Z<q&&0>s(G,F))C[$]=G,C[Z]=F,$=Z;else break e}}return P}function s(C,P){var F=C.sortIndex-P.sortIndex;return F!==0?F:C.id-P.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var c=[],u=[],d=1,f=null,p=3,v=!1,y=!1,g=!1,x=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(C){for(var P=r(u);P!==null;){if(P.callback===null)n(u);else if(P.startTime<=C)n(u),P.sortIndex=P.expirationTime,t(c,P);else break;P=r(u)}}function _(C){if(g=!1,b(C),!y)if(r(c)!==null)y=!0,U(k);else{var P=r(u);P!==null&&Q(_,P.startTime-C)}}function k(C,P){y=!1,g&&(g=!1,w(S),S=-1),v=!0;var F=p;try{for(b(P),f=r(c);f!==null&&(!(f.expirationTime>P)||C&&!z());){var $=f.callback;if(typeof $=="function"){f.callback=null,p=f.priorityLevel;var q=$(f.expirationTime<=P);P=e.unstable_now(),typeof q=="function"?f.callback=q:f===r(c)&&n(c),b(P)}else n(c);f=r(c)}if(f!==null)var J=!0;else{var ce=r(u);ce!==null&&Q(_,ce.startTime-P),J=!1}return J}finally{f=null,p=F,v=!1}}var j=!1,E=null,S=-1,N=5,T=-1;function z(){return!(e.unstable_now()-T<N)}function D(){if(E!==null){var C=e.unstable_now();T=C;var P=!0;try{P=E(!0,C)}finally{P?B():(j=!1,E=null)}}else j=!1}var B;if(typeof m=="function")B=function(){m(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,Y=M.port2;M.port1.onmessage=D,B=function(){Y.postMessage(null)}}else B=function(){x(D,0)};function U(C){E=C,j||(j=!0,B())}function Q(C,P){S=x(function(){C(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,U(k))},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(C){switch(p){case 1:case 2:case 3:var P=3;break;default:P=p}var F=p;p=P;try{return C()}finally{p=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(C,P){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=p;p=C;try{return P()}finally{p=F}},e.unstable_scheduleCallback=function(C,P,F){var $=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?$+F:$):F=$,C){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=F+q,C={id:d++,callback:P,priorityLevel:C,startTime:F,expirationTime:q,sortIndex:-1},F>$?(C.sortIndex=F,t(u,C),r(c)===null&&C===r(u)&&(g?(w(S),S=-1):g=!0,Q(_,F-$))):(C.sortIndex=q,t(c,C),y||v||(y=!0,U(k))),C},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(C){var P=p;return function(){var F=p;p=P;try{return C.apply(this,arguments)}finally{p=F}}}})(Zv);Jv.exports=Zv;var rS=Jv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nS=h,Vt=rS;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ey=new Set,Ui={};function Rs(e,t){Do(e,t),Do(e+"Capture",t)}function Do(e,t){for(Ui[e]=t,e=0;e<t.length;e++)ey.add(t[e])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dd=Object.prototype.hasOwnProperty,sS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,om={},im={};function oS(e){return dd.call(im,e)?!0:dd.call(om,e)?!1:sS.test(e)?im[e]=!0:(om[e]=!0,!1)}function iS(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aS(e,t,r,n){if(t===null||typeof t>"u"||iS(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function jt(e,t,r,n,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var st={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){st[e]=new jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];st[t]=new jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){st[e]=new jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){st[e]=new jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){st[e]=new jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){st[e]=new jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){st[e]=new jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){st[e]=new jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){st[e]=new jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Vf=/[\-:]([a-z])/g;function qf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Vf,qf);st[t]=new jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Vf,qf);st[t]=new jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Vf,qf);st[t]=new jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){st[e]=new jt(e,1,!1,e.toLowerCase(),null,!1,!1)});st.xlinkHref=new jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){st[e]=new jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gf(e,t,r,n){var s=st.hasOwnProperty(t)?st[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aS(t,r,s,n)&&(r=null),n||s===null?oS(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var nn=nS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ia=Symbol.for("react.element"),eo=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),Kf=Symbol.for("react.strict_mode"),fd=Symbol.for("react.profiler"),ty=Symbol.for("react.provider"),ry=Symbol.for("react.context"),Yf=Symbol.for("react.forward_ref"),hd=Symbol.for("react.suspense"),pd=Symbol.for("react.suspense_list"),Qf=Symbol.for("react.memo"),vn=Symbol.for("react.lazy"),ny=Symbol.for("react.offscreen"),am=Symbol.iterator;function ci(e){return e===null||typeof e!="object"?null:(e=am&&e[am]||e["@@iterator"],typeof e=="function"?e:null)}var Me=Object.assign,mu;function xi(e){if(mu===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);mu=t&&t[1]||""}return`
`+mu+e}var gu=!1;function vu(e,t){if(!e||gu)return"";gu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=a);break}}}finally{gu=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?xi(e):""}function lS(e){switch(e.tag){case 5:return xi(e.type);case 16:return xi("Lazy");case 13:return xi("Suspense");case 19:return xi("SuspenseList");case 0:case 2:case 15:return e=vu(e.type,!1),e;case 11:return e=vu(e.type.render,!1),e;case 1:return e=vu(e.type,!0),e;default:return""}}function md(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case to:return"Fragment";case eo:return"Portal";case fd:return"Profiler";case Kf:return"StrictMode";case hd:return"Suspense";case pd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ry:return(e.displayName||"Context")+".Consumer";case ty:return(e._context.displayName||"Context")+".Provider";case Yf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Qf:return t=e.displayName||null,t!==null?t:md(e.type)||"Memo";case vn:t=e._payload,e=e._init;try{return md(e(t))}catch{}}return null}function cS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return md(t);case 8:return t===Kf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sy(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uS(e){var t=sy(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function La(e){e._valueTracker||(e._valueTracker=uS(e))}function oy(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=sy(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function gd(e,t){var r=t.checked;return Me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function lm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Hn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function iy(e,t){t=t.checked,t!=null&&Gf(e,"checked",t,!1)}function vd(e,t){iy(e,t);var r=Hn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?yd(e,t.type,r):t.hasOwnProperty("defaultValue")&&yd(e,t.type,Hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function cm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function yd(e,t,r){(t!=="number"||Tl(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bi=Array.isArray;function po(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Hn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function wd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return Me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function um(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(bi(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Hn(r)}}function ay(e,t){var r=Hn(t.value),n=Hn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function dm(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ly(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ly(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var $a,cy=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for($a=$a||document.createElement("div"),$a.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$a.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zi(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ci={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dS=["Webkit","ms","Moz","O"];Object.keys(Ci).forEach(function(e){dS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ci[t]=Ci[e]})});function uy(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ci.hasOwnProperty(e)&&Ci[e]?(""+t).trim():t+"px"}function dy(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=uy(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var fS=Me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bd(e,t){if(t){if(fS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function _d(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kd=null;function Xf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jd=null,mo=null,go=null;function fm(e){if(e=ya(e)){if(typeof jd!="function")throw Error(O(280));var t=e.stateNode;t&&(t=bc(t),jd(e.stateNode,e.type,t))}}function fy(e){mo?go?go.push(e):go=[e]:mo=e}function hy(){if(mo){var e=mo,t=go;if(go=mo=null,fm(e),t)for(e=0;e<t.length;e++)fm(t[e])}}function py(e,t){return e(t)}function my(){}var yu=!1;function gy(e,t,r){if(yu)return e(t,r);yu=!0;try{return py(e,t,r)}finally{yu=!1,(mo!==null||go!==null)&&(my(),hy())}}function Bi(e,t){var r=e.stateNode;if(r===null)return null;var n=bc(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var Sd=!1;if(Xr)try{var ui={};Object.defineProperty(ui,"passive",{get:function(){Sd=!0}}),window.addEventListener("test",ui,ui),window.removeEventListener("test",ui,ui)}catch{Sd=!1}function hS(e,t,r,n,s,o,i,a,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ni=!1,Rl=null,Al=!1,Ed=null,pS={onError:function(e){Ni=!0,Rl=e}};function mS(e,t,r,n,s,o,i,a,c){Ni=!1,Rl=null,hS.apply(pS,arguments)}function gS(e,t,r,n,s,o,i,a,c){if(mS.apply(this,arguments),Ni){if(Ni){var u=Rl;Ni=!1,Rl=null}else throw Error(O(198));Al||(Al=!0,Ed=u)}}function As(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function vy(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hm(e){if(As(e)!==e)throw Error(O(188))}function vS(e){var t=e.alternate;if(!t){if(t=As(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return hm(s),e;if(o===n)return hm(s),t;o=o.sibling}throw Error(O(188))}if(r.return!==n.return)r=s,n=o;else{for(var i=!1,a=s.child;a;){if(a===r){i=!0,r=s,n=o;break}if(a===n){i=!0,n=s,r=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===r){i=!0,r=o,n=s;break}if(a===n){i=!0,n=o,r=s;break}a=a.sibling}if(!i)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function yy(e){return e=vS(e),e!==null?wy(e):null}function wy(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wy(e);if(t!==null)return t;e=e.sibling}return null}var xy=Vt.unstable_scheduleCallback,pm=Vt.unstable_cancelCallback,yS=Vt.unstable_shouldYield,wS=Vt.unstable_requestPaint,Ue=Vt.unstable_now,xS=Vt.unstable_getCurrentPriorityLevel,Jf=Vt.unstable_ImmediatePriority,by=Vt.unstable_UserBlockingPriority,Ol=Vt.unstable_NormalPriority,bS=Vt.unstable_LowPriority,_y=Vt.unstable_IdlePriority,vc=null,Mr=null;function _S(e){if(Mr&&typeof Mr.onCommitFiberRoot=="function")try{Mr.onCommitFiberRoot(vc,e,void 0,(e.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:SS,kS=Math.log,jS=Math.LN2;function SS(e){return e>>>=0,e===0?32:31-(kS(e)/jS|0)|0}var Fa=64,Ua=4194304;function _i(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ml(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,i=r&268435455;if(i!==0){var a=i&~s;a!==0?n=_i(a):(o&=i,o!==0&&(n=_i(o)))}else i=r&~s,i!==0?n=_i(i):o!==0&&(n=_i(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gr(t),s=1<<r,n|=e[r],t&=~s;return n}function ES(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function CS(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-gr(o),a=1<<i,c=s[i];c===-1?(!(a&r)||a&n)&&(s[i]=ES(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}function Cd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ky(){var e=Fa;return Fa<<=1,!(Fa&4194240)&&(Fa=64),e}function wu(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ga(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gr(t),e[t]=r}function NS(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-gr(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Zf(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ye=0;function jy(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sy,eh,Ey,Cy,Ny,Nd=!1,za=[],An=null,On=null,Mn=null,Wi=new Map,Hi=new Map,xn=[],PS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mm(e,t){switch(e){case"focusin":case"focusout":An=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Mn=null;break;case"pointerover":case"pointerout":Wi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hi.delete(t.pointerId)}}function di(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=ya(t),t!==null&&eh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function TS(e,t,r,n,s){switch(t){case"focusin":return An=di(An,e,t,r,n,s),!0;case"dragenter":return On=di(On,e,t,r,n,s),!0;case"mouseover":return Mn=di(Mn,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return Wi.set(o,di(Wi.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Hi.set(o,di(Hi.get(o)||null,e,t,r,n,s)),!0}return!1}function Py(e){var t=fs(e.target);if(t!==null){var r=As(t);if(r!==null){if(t=r.tag,t===13){if(t=vy(r),t!==null){e.blockedOn=t,Ny(e.priority,function(){Ey(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Pd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);kd=n,r.target.dispatchEvent(n),kd=null}else return t=ya(r),t!==null&&eh(t),e.blockedOn=r,!1;t.shift()}return!0}function gm(e,t,r){pl(e)&&r.delete(t)}function RS(){Nd=!1,An!==null&&pl(An)&&(An=null),On!==null&&pl(On)&&(On=null),Mn!==null&&pl(Mn)&&(Mn=null),Wi.forEach(gm),Hi.forEach(gm)}function fi(e,t){e.blockedOn===t&&(e.blockedOn=null,Nd||(Nd=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,RS)))}function Vi(e){function t(s){return fi(s,e)}if(0<za.length){fi(za[0],e);for(var r=1;r<za.length;r++){var n=za[r];n.blockedOn===e&&(n.blockedOn=null)}}for(An!==null&&fi(An,e),On!==null&&fi(On,e),Mn!==null&&fi(Mn,e),Wi.forEach(t),Hi.forEach(t),r=0;r<xn.length;r++)n=xn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<xn.length&&(r=xn[0],r.blockedOn===null);)Py(r),r.blockedOn===null&&xn.shift()}var vo=nn.ReactCurrentBatchConfig,Dl=!0;function AS(e,t,r,n){var s=ye,o=vo.transition;vo.transition=null;try{ye=1,th(e,t,r,n)}finally{ye=s,vo.transition=o}}function OS(e,t,r,n){var s=ye,o=vo.transition;vo.transition=null;try{ye=4,th(e,t,r,n)}finally{ye=s,vo.transition=o}}function th(e,t,r,n){if(Dl){var s=Pd(e,t,r,n);if(s===null)Pu(e,t,n,Il,r),mm(e,n);else if(TS(s,e,t,r,n))n.stopPropagation();else if(mm(e,n),t&4&&-1<PS.indexOf(e)){for(;s!==null;){var o=ya(s);if(o!==null&&Sy(o),o=Pd(e,t,r,n),o===null&&Pu(e,t,n,Il,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else Pu(e,t,n,null,r)}}var Il=null;function Pd(e,t,r,n){if(Il=null,e=Xf(n),e=fs(e),e!==null)if(t=As(e),t===null)e=null;else if(r=t.tag,r===13){if(e=vy(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Il=e,null}function Ty(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xS()){case Jf:return 1;case by:return 4;case Ol:case bS:return 16;case _y:return 536870912;default:return 16}default:return 16}}var Pn=null,rh=null,ml=null;function Ry(){if(ml)return ml;var e,t=rh,r=t.length,n,s="value"in Pn?Pn.value:Pn.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[o-n];n++);return ml=s.slice(e,1<n?1-n:void 0)}function gl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ba(){return!0}function vm(){return!1}function Kt(e){function t(r,n,s,o,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ba:vm,this.isPropagationStopped=vm,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),t}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nh=Kt(Yo),va=Me({},Yo,{view:0,detail:0}),MS=Kt(va),xu,bu,hi,yc=Me({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(xu=e.screenX-hi.screenX,bu=e.screenY-hi.screenY):bu=xu=0,hi=e),xu)},movementY:function(e){return"movementY"in e?e.movementY:bu}}),ym=Kt(yc),DS=Me({},yc,{dataTransfer:0}),IS=Kt(DS),LS=Me({},va,{relatedTarget:0}),_u=Kt(LS),$S=Me({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),FS=Kt($S),US=Me({},Yo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zS=Kt(US),BS=Me({},Yo,{data:0}),wm=Kt(BS),WS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=VS[e])?!!t[e]:!1}function sh(){return qS}var GS=Me({},va,{key:function(e){if(e.key){var t=WS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?HS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sh,charCode:function(e){return e.type==="keypress"?gl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),KS=Kt(GS),YS=Me({},yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xm=Kt(YS),QS=Me({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sh}),XS=Kt(QS),JS=Me({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZS=Kt(JS),eE=Me({},yc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tE=Kt(eE),rE=[9,13,27,32],oh=Xr&&"CompositionEvent"in window,Pi=null;Xr&&"documentMode"in document&&(Pi=document.documentMode);var nE=Xr&&"TextEvent"in window&&!Pi,Ay=Xr&&(!oh||Pi&&8<Pi&&11>=Pi),bm=" ",_m=!1;function Oy(e,t){switch(e){case"keyup":return rE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function My(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ro=!1;function sE(e,t){switch(e){case"compositionend":return My(t);case"keypress":return t.which!==32?null:(_m=!0,bm);case"textInput":return e=t.data,e===bm&&_m?null:e;default:return null}}function oE(e,t){if(ro)return e==="compositionend"||!oh&&Oy(e,t)?(e=Ry(),ml=rh=Pn=null,ro=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ay&&t.locale!=="ko"?null:t.data;default:return null}}var iE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function km(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!iE[e.type]:t==="textarea"}function Dy(e,t,r,n){fy(n),t=Ll(t,"onChange"),0<t.length&&(r=new nh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ti=null,qi=null;function aE(e){qy(e,0)}function wc(e){var t=oo(e);if(oy(t))return e}function lE(e,t){if(e==="change")return t}var Iy=!1;if(Xr){var ku;if(Xr){var ju="oninput"in document;if(!ju){var jm=document.createElement("div");jm.setAttribute("oninput","return;"),ju=typeof jm.oninput=="function"}ku=ju}else ku=!1;Iy=ku&&(!document.documentMode||9<document.documentMode)}function Sm(){Ti&&(Ti.detachEvent("onpropertychange",Ly),qi=Ti=null)}function Ly(e){if(e.propertyName==="value"&&wc(qi)){var t=[];Dy(t,qi,e,Xf(e)),gy(aE,t)}}function cE(e,t,r){e==="focusin"?(Sm(),Ti=t,qi=r,Ti.attachEvent("onpropertychange",Ly)):e==="focusout"&&Sm()}function uE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wc(qi)}function dE(e,t){if(e==="click")return wc(t)}function fE(e,t){if(e==="input"||e==="change")return wc(t)}function hE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yr=typeof Object.is=="function"?Object.is:hE;function Gi(e,t){if(yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!dd.call(t,s)||!yr(e[s],t[s]))return!1}return!0}function Em(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cm(e,t){var r=Em(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Em(r)}}function $y(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$y(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fy(){for(var e=window,t=Tl();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Tl(e.document)}return t}function ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pE(e){var t=Fy(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&$y(r.ownerDocument.documentElement,r)){if(n!==null&&ih(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=Cm(r,o);var i=Cm(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mE=Xr&&"documentMode"in document&&11>=document.documentMode,no=null,Td=null,Ri=null,Rd=!1;function Nm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rd||no==null||no!==Tl(n)||(n=no,"selectionStart"in n&&ih(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ri&&Gi(Ri,n)||(Ri=n,n=Ll(Td,"onSelect"),0<n.length&&(t=new nh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=no)))}function Wa(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var so={animationend:Wa("Animation","AnimationEnd"),animationiteration:Wa("Animation","AnimationIteration"),animationstart:Wa("Animation","AnimationStart"),transitionend:Wa("Transition","TransitionEnd")},Su={},Uy={};Xr&&(Uy=document.createElement("div").style,"AnimationEvent"in window||(delete so.animationend.animation,delete so.animationiteration.animation,delete so.animationstart.animation),"TransitionEvent"in window||delete so.transitionend.transition);function xc(e){if(Su[e])return Su[e];if(!so[e])return e;var t=so[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Uy)return Su[e]=t[r];return e}var zy=xc("animationend"),By=xc("animationiteration"),Wy=xc("animationstart"),Hy=xc("transitionend"),Vy=new Map,Pm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jn(e,t){Vy.set(e,t),Rs(t,[e])}for(var Eu=0;Eu<Pm.length;Eu++){var Cu=Pm[Eu],gE=Cu.toLowerCase(),vE=Cu[0].toUpperCase()+Cu.slice(1);Jn(gE,"on"+vE)}Jn(zy,"onAnimationEnd");Jn(By,"onAnimationIteration");Jn(Wy,"onAnimationStart");Jn("dblclick","onDoubleClick");Jn("focusin","onFocus");Jn("focusout","onBlur");Jn(Hy,"onTransitionEnd");Do("onMouseEnter",["mouseout","mouseover"]);Do("onMouseLeave",["mouseout","mouseover"]);Do("onPointerEnter",["pointerout","pointerover"]);Do("onPointerLeave",["pointerout","pointerover"]);Rs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ki="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yE=new Set("cancel close invalid load scroll toggle".split(" ").concat(ki));function Tm(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gS(n,t,void 0,e),e.currentTarget=null}function qy(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var i=n.length-1;0<=i;i--){var a=n[i],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==o&&s.isPropagationStopped())break e;Tm(s,a,u),o=c}else for(i=0;i<n.length;i++){if(a=n[i],c=a.instance,u=a.currentTarget,a=a.listener,c!==o&&s.isPropagationStopped())break e;Tm(s,a,u),o=c}}}if(Al)throw e=Ed,Al=!1,Ed=null,e}function Ne(e,t){var r=t[Id];r===void 0&&(r=t[Id]=new Set);var n=e+"__bubble";r.has(n)||(Gy(t,e,2,!1),r.add(n))}function Nu(e,t,r){var n=0;t&&(n|=4),Gy(r,e,n,t)}var Ha="_reactListening"+Math.random().toString(36).slice(2);function Ki(e){if(!e[Ha]){e[Ha]=!0,ey.forEach(function(r){r!=="selectionchange"&&(yE.has(r)||Nu(r,!1,e),Nu(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ha]||(t[Ha]=!0,Nu("selectionchange",!1,t))}}function Gy(e,t,r,n){switch(Ty(t)){case 1:var s=AS;break;case 4:s=OS;break;default:s=th}r=s.bind(null,t,r,e),s=void 0,!Sd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Pu(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;a!==null;){if(i=fs(a),i===null)return;if(c=i.tag,c===5||c===6){n=o=i;continue e}a=a.parentNode}}n=n.return}gy(function(){var u=o,d=Xf(r),f=[];e:{var p=Vy.get(e);if(p!==void 0){var v=nh,y=e;switch(e){case"keypress":if(gl(r)===0)break e;case"keydown":case"keyup":v=KS;break;case"focusin":y="focus",v=_u;break;case"focusout":y="blur",v=_u;break;case"beforeblur":case"afterblur":v=_u;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ym;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=IS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=XS;break;case zy:case By:case Wy:v=FS;break;case Hy:v=ZS;break;case"scroll":v=MS;break;case"wheel":v=tE;break;case"copy":case"cut":case"paste":v=zS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=xm}var g=(t&4)!==0,x=!g&&e==="scroll",w=g?p!==null?p+"Capture":null:p;g=[];for(var m=u,b;m!==null;){b=m;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,w!==null&&(_=Bi(m,w),_!=null&&g.push(Yi(m,_,b)))),x)break;m=m.return}0<g.length&&(p=new v(p,y,null,r,d),f.push({event:p,listeners:g}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&r!==kd&&(y=r.relatedTarget||r.fromElement)&&(fs(y)||y[Jr]))break e;if((v||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=u,y=y?fs(y):null,y!==null&&(x=As(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(g=ym,_="onMouseLeave",w="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(g=xm,_="onPointerLeave",w="onPointerEnter",m="pointer"),x=v==null?p:oo(v),b=y==null?p:oo(y),p=new g(_,m+"leave",v,r,d),p.target=x,p.relatedTarget=b,_=null,fs(d)===u&&(g=new g(w,m+"enter",y,r,d),g.target=b,g.relatedTarget=x,_=g),x=_,v&&y)t:{for(g=v,w=y,m=0,b=g;b;b=Hs(b))m++;for(b=0,_=w;_;_=Hs(_))b++;for(;0<m-b;)g=Hs(g),m--;for(;0<b-m;)w=Hs(w),b--;for(;m--;){if(g===w||w!==null&&g===w.alternate)break t;g=Hs(g),w=Hs(w)}g=null}else g=null;v!==null&&Rm(f,p,v,g,!1),y!==null&&x!==null&&Rm(f,x,y,g,!0)}}e:{if(p=u?oo(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var k=lE;else if(km(p))if(Iy)k=fE;else{k=uE;var j=cE}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(k=dE);if(k&&(k=k(e,u))){Dy(f,k,r,d);break e}j&&j(e,p,u),e==="focusout"&&(j=p._wrapperState)&&j.controlled&&p.type==="number"&&yd(p,"number",p.value)}switch(j=u?oo(u):window,e){case"focusin":(km(j)||j.contentEditable==="true")&&(no=j,Td=u,Ri=null);break;case"focusout":Ri=Td=no=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,Nm(f,r,d);break;case"selectionchange":if(mE)break;case"keydown":case"keyup":Nm(f,r,d)}var E;if(oh)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ro?Oy(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(Ay&&r.locale!=="ko"&&(ro||S!=="onCompositionStart"?S==="onCompositionEnd"&&ro&&(E=Ry()):(Pn=d,rh="value"in Pn?Pn.value:Pn.textContent,ro=!0)),j=Ll(u,S),0<j.length&&(S=new wm(S,e,null,r,d),f.push({event:S,listeners:j}),E?S.data=E:(E=My(r),E!==null&&(S.data=E)))),(E=nE?sE(e,r):oE(e,r))&&(u=Ll(u,"onBeforeInput"),0<u.length&&(d=new wm("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=E))}qy(f,t)})}function Yi(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ll(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Bi(e,r),o!=null&&n.unshift(Yi(e,o,s)),o=Bi(e,t),o!=null&&n.push(Yi(e,o,s))),e=e.return}return n}function Hs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rm(e,t,r,n,s){for(var o=t._reactName,i=[];r!==null&&r!==n;){var a=r,c=a.alternate,u=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&u!==null&&(a=u,s?(c=Bi(r,o),c!=null&&i.unshift(Yi(r,c,a))):s||(c=Bi(r,o),c!=null&&i.push(Yi(r,c,a)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var wE=/\r\n?/g,xE=/\u0000|\uFFFD/g;function Am(e){return(typeof e=="string"?e:""+e).replace(wE,`
`).replace(xE,"")}function Va(e,t,r){if(t=Am(t),Am(e)!==t&&r)throw Error(O(425))}function $l(){}var Ad=null,Od=null;function Md(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Dd=typeof setTimeout=="function"?setTimeout:void 0,bE=typeof clearTimeout=="function"?clearTimeout:void 0,Om=typeof Promise=="function"?Promise:void 0,_E=typeof queueMicrotask=="function"?queueMicrotask:typeof Om<"u"?function(e){return Om.resolve(null).then(e).catch(kE)}:Dd;function kE(e){setTimeout(function(){throw e})}function Tu(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Vi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Vi(t)}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Mm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Qo=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Qo,Qi="__reactProps$"+Qo,Jr="__reactContainer$"+Qo,Id="__reactEvents$"+Qo,jE="__reactListeners$"+Qo,SE="__reactHandles$"+Qo;function fs(e){var t=e[Tr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Jr]||r[Tr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Mm(e);e!==null;){if(r=e[Tr])return r;e=Mm(e)}return t}e=r,r=e.parentNode}return null}function ya(e){return e=e[Tr]||e[Jr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function oo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function bc(e){return e[Qi]||null}var Ld=[],io=-1;function Zn(e){return{current:e}}function Pe(e){0>io||(e.current=Ld[io],Ld[io]=null,io--)}function ke(e,t){io++,Ld[io]=e.current,e.current=t}var Vn={},ht=Zn(Vn),Tt=Zn(!1),ks=Vn;function Io(e,t){var r=e.type.contextTypes;if(!r)return Vn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Rt(e){return e=e.childContextTypes,e!=null}function Fl(){Pe(Tt),Pe(ht)}function Dm(e,t,r){if(ht.current!==Vn)throw Error(O(168));ke(ht,t),ke(Tt,r)}function Ky(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(O(108,cS(e)||"Unknown",s));return Me({},r,n)}function Ul(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vn,ks=ht.current,ke(ht,e),ke(Tt,Tt.current),!0}function Im(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=Ky(e,t,ks),n.__reactInternalMemoizedMergedChildContext=e,Pe(Tt),Pe(ht),ke(ht,e)):Pe(Tt),ke(Tt,r)}var Wr=null,_c=!1,Ru=!1;function Yy(e){Wr===null?Wr=[e]:Wr.push(e)}function EE(e){_c=!0,Yy(e)}function es(){if(!Ru&&Wr!==null){Ru=!0;var e=0,t=ye;try{var r=Wr;for(ye=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Wr=null,_c=!1}catch(s){throw Wr!==null&&(Wr=Wr.slice(e+1)),xy(Jf,es),s}finally{ye=t,Ru=!1}}return null}var ao=[],lo=0,zl=null,Bl=0,Zt=[],er=0,js=null,Hr=1,Vr="";function as(e,t){ao[lo++]=Bl,ao[lo++]=zl,zl=e,Bl=t}function Qy(e,t,r){Zt[er++]=Hr,Zt[er++]=Vr,Zt[er++]=js,js=e;var n=Hr;e=Vr;var s=32-gr(n)-1;n&=~(1<<s),r+=1;var o=32-gr(t)+s;if(30<o){var i=s-s%5;o=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Hr=1<<32-gr(t)+s|r<<s|n,Vr=o+e}else Hr=1<<o|r<<s|n,Vr=e}function ah(e){e.return!==null&&(as(e,1),Qy(e,1,0))}function lh(e){for(;e===zl;)zl=ao[--lo],ao[lo]=null,Bl=ao[--lo],ao[lo]=null;for(;e===js;)js=Zt[--er],Zt[er]=null,Vr=Zt[--er],Zt[er]=null,Hr=Zt[--er],Zt[er]=null}var Wt=null,Bt=null,Te=!1,mr=null;function Xy(e,t){var r=tr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Lm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Wt=e,Bt=Dn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Wt=e,Bt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=js!==null?{id:Hr,overflow:Vr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=tr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Wt=e,Bt=null,!0):!1;default:return!1}}function $d(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fd(e){if(Te){var t=Bt;if(t){var r=t;if(!Lm(e,t)){if($d(e))throw Error(O(418));t=Dn(r.nextSibling);var n=Wt;t&&Lm(e,t)?Xy(n,r):(e.flags=e.flags&-4097|2,Te=!1,Wt=e)}}else{if($d(e))throw Error(O(418));e.flags=e.flags&-4097|2,Te=!1,Wt=e}}}function $m(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Wt=e}function qa(e){if(e!==Wt)return!1;if(!Te)return $m(e),Te=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Md(e.type,e.memoizedProps)),t&&(t=Bt)){if($d(e))throw Jy(),Error(O(418));for(;t;)Xy(e,t),t=Dn(t.nextSibling)}if($m(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Bt=Dn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Bt=null}}else Bt=Wt?Dn(e.stateNode.nextSibling):null;return!0}function Jy(){for(var e=Bt;e;)e=Dn(e.nextSibling)}function Lo(){Bt=Wt=null,Te=!1}function ch(e){mr===null?mr=[e]:mr.push(e)}var CE=nn.ReactCurrentBatchConfig;function pi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Fm(e){var t=e._init;return t(e._payload)}function Zy(e){function t(w,m){if(e){var b=w.deletions;b===null?(w.deletions=[m],w.flags|=16):b.push(m)}}function r(w,m){if(!e)return null;for(;m!==null;)t(w,m),m=m.sibling;return null}function n(w,m){for(w=new Map;m!==null;)m.key!==null?w.set(m.key,m):w.set(m.index,m),m=m.sibling;return w}function s(w,m){return w=Fn(w,m),w.index=0,w.sibling=null,w}function o(w,m,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<m?(w.flags|=2,m):b):(w.flags|=2,m)):(w.flags|=1048576,m)}function i(w){return e&&w.alternate===null&&(w.flags|=2),w}function a(w,m,b,_){return m===null||m.tag!==6?(m=$u(b,w.mode,_),m.return=w,m):(m=s(m,b),m.return=w,m)}function c(w,m,b,_){var k=b.type;return k===to?d(w,m,b.props.children,_,b.key):m!==null&&(m.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vn&&Fm(k)===m.type)?(_=s(m,b.props),_.ref=pi(w,m,b),_.return=w,_):(_=kl(b.type,b.key,b.props,null,w.mode,_),_.ref=pi(w,m,b),_.return=w,_)}function u(w,m,b,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==b.containerInfo||m.stateNode.implementation!==b.implementation?(m=Fu(b,w.mode,_),m.return=w,m):(m=s(m,b.children||[]),m.return=w,m)}function d(w,m,b,_,k){return m===null||m.tag!==7?(m=xs(b,w.mode,_,k),m.return=w,m):(m=s(m,b),m.return=w,m)}function f(w,m,b){if(typeof m=="string"&&m!==""||typeof m=="number")return m=$u(""+m,w.mode,b),m.return=w,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ia:return b=kl(m.type,m.key,m.props,null,w.mode,b),b.ref=pi(w,null,m),b.return=w,b;case eo:return m=Fu(m,w.mode,b),m.return=w,m;case vn:var _=m._init;return f(w,_(m._payload),b)}if(bi(m)||ci(m))return m=xs(m,w.mode,b,null),m.return=w,m;Ga(w,m)}return null}function p(w,m,b,_){var k=m!==null?m.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return k!==null?null:a(w,m,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ia:return b.key===k?c(w,m,b,_):null;case eo:return b.key===k?u(w,m,b,_):null;case vn:return k=b._init,p(w,m,k(b._payload),_)}if(bi(b)||ci(b))return k!==null?null:d(w,m,b,_,null);Ga(w,b)}return null}function v(w,m,b,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return w=w.get(b)||null,a(m,w,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ia:return w=w.get(_.key===null?b:_.key)||null,c(m,w,_,k);case eo:return w=w.get(_.key===null?b:_.key)||null,u(m,w,_,k);case vn:var j=_._init;return v(w,m,b,j(_._payload),k)}if(bi(_)||ci(_))return w=w.get(b)||null,d(m,w,_,k,null);Ga(m,_)}return null}function y(w,m,b,_){for(var k=null,j=null,E=m,S=m=0,N=null;E!==null&&S<b.length;S++){E.index>S?(N=E,E=null):N=E.sibling;var T=p(w,E,b[S],_);if(T===null){E===null&&(E=N);break}e&&E&&T.alternate===null&&t(w,E),m=o(T,m,S),j===null?k=T:j.sibling=T,j=T,E=N}if(S===b.length)return r(w,E),Te&&as(w,S),k;if(E===null){for(;S<b.length;S++)E=f(w,b[S],_),E!==null&&(m=o(E,m,S),j===null?k=E:j.sibling=E,j=E);return Te&&as(w,S),k}for(E=n(w,E);S<b.length;S++)N=v(E,w,S,b[S],_),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?S:N.key),m=o(N,m,S),j===null?k=N:j.sibling=N,j=N);return e&&E.forEach(function(z){return t(w,z)}),Te&&as(w,S),k}function g(w,m,b,_){var k=ci(b);if(typeof k!="function")throw Error(O(150));if(b=k.call(b),b==null)throw Error(O(151));for(var j=k=null,E=m,S=m=0,N=null,T=b.next();E!==null&&!T.done;S++,T=b.next()){E.index>S?(N=E,E=null):N=E.sibling;var z=p(w,E,T.value,_);if(z===null){E===null&&(E=N);break}e&&E&&z.alternate===null&&t(w,E),m=o(z,m,S),j===null?k=z:j.sibling=z,j=z,E=N}if(T.done)return r(w,E),Te&&as(w,S),k;if(E===null){for(;!T.done;S++,T=b.next())T=f(w,T.value,_),T!==null&&(m=o(T,m,S),j===null?k=T:j.sibling=T,j=T);return Te&&as(w,S),k}for(E=n(w,E);!T.done;S++,T=b.next())T=v(E,w,S,T.value,_),T!==null&&(e&&T.alternate!==null&&E.delete(T.key===null?S:T.key),m=o(T,m,S),j===null?k=T:j.sibling=T,j=T);return e&&E.forEach(function(D){return t(w,D)}),Te&&as(w,S),k}function x(w,m,b,_){if(typeof b=="object"&&b!==null&&b.type===to&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ia:e:{for(var k=b.key,j=m;j!==null;){if(j.key===k){if(k=b.type,k===to){if(j.tag===7){r(w,j.sibling),m=s(j,b.props.children),m.return=w,w=m;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===vn&&Fm(k)===j.type){r(w,j.sibling),m=s(j,b.props),m.ref=pi(w,j,b),m.return=w,w=m;break e}r(w,j);break}else t(w,j);j=j.sibling}b.type===to?(m=xs(b.props.children,w.mode,_,b.key),m.return=w,w=m):(_=kl(b.type,b.key,b.props,null,w.mode,_),_.ref=pi(w,m,b),_.return=w,w=_)}return i(w);case eo:e:{for(j=b.key;m!==null;){if(m.key===j)if(m.tag===4&&m.stateNode.containerInfo===b.containerInfo&&m.stateNode.implementation===b.implementation){r(w,m.sibling),m=s(m,b.children||[]),m.return=w,w=m;break e}else{r(w,m);break}else t(w,m);m=m.sibling}m=Fu(b,w.mode,_),m.return=w,w=m}return i(w);case vn:return j=b._init,x(w,m,j(b._payload),_)}if(bi(b))return y(w,m,b,_);if(ci(b))return g(w,m,b,_);Ga(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,m!==null&&m.tag===6?(r(w,m.sibling),m=s(m,b),m.return=w,w=m):(r(w,m),m=$u(b,w.mode,_),m.return=w,w=m),i(w)):r(w,m)}return x}var $o=Zy(!0),ew=Zy(!1),Wl=Zn(null),Hl=null,co=null,uh=null;function dh(){uh=co=Hl=null}function fh(e){var t=Wl.current;Pe(Wl),e._currentValue=t}function Ud(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function yo(e,t){Hl=e,uh=co=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Pt=!0),e.firstContext=null)}function ir(e){var t=e._currentValue;if(uh!==e)if(e={context:e,memoizedValue:t,next:null},co===null){if(Hl===null)throw Error(O(308));co=e,Hl.dependencies={lanes:0,firstContext:e}}else co=co.next=e;return t}var hs=null;function hh(e){hs===null?hs=[e]:hs.push(e)}function tw(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,hh(t)):(r.next=s.next,s.next=r),t.interleaved=r,Zr(e,n)}function Zr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var yn=!1;function ph(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function In(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,de&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Zr(e,r)}return s=n.interleaved,s===null?(t.next=t,hh(n)):(t.next=s.next,s.next=t),n.interleaved=t,Zr(e,r)}function vl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zf(e,r)}}function Um(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=i:o=o.next=i,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vl(e,t,r,n){var s=e.updateQueue;yn=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,u=c.next;c.next=null,i===null?o=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;i=0,d=u=c=null,a=o;do{var p=a.lane,v=a.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=e,g=a;switch(p=t,v=r,g.tag){case 1:if(y=g.payload,typeof y=="function"){f=y.call(v,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,p=typeof y=="function"?y.call(v,f,p):y,p==null)break e;f=Me({},f,p);break e;case 2:yn=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else v={eventTime:v,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=v,c=f):d=d.next=v,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Es|=i,e.lanes=i,e.memoizedState=f}}function zm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(O(191,s));s.call(n)}}}var wa={},Dr=Zn(wa),Xi=Zn(wa),Ji=Zn(wa);function ps(e){if(e===wa)throw Error(O(174));return e}function mh(e,t){switch(ke(Ji,t),ke(Xi,e),ke(Dr,wa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:xd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=xd(t,e)}Pe(Dr),ke(Dr,t)}function Fo(){Pe(Dr),Pe(Xi),Pe(Ji)}function nw(e){ps(Ji.current);var t=ps(Dr.current),r=xd(t,e.type);t!==r&&(ke(Xi,e),ke(Dr,r))}function gh(e){Xi.current===e&&(Pe(Dr),Pe(Xi))}var Re=Zn(0);function ql(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Au=[];function vh(){for(var e=0;e<Au.length;e++)Au[e]._workInProgressVersionPrimary=null;Au.length=0}var yl=nn.ReactCurrentDispatcher,Ou=nn.ReactCurrentBatchConfig,Ss=0,Oe=null,Ve=null,Qe=null,Gl=!1,Ai=!1,Zi=0,NE=0;function lt(){throw Error(O(321))}function yh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yr(e[r],t[r]))return!1;return!0}function wh(e,t,r,n,s,o){if(Ss=o,Oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,yl.current=e===null||e.memoizedState===null?AE:OE,e=r(n,s),Ai){o=0;do{if(Ai=!1,Zi=0,25<=o)throw Error(O(301));o+=1,Qe=Ve=null,t.updateQueue=null,yl.current=ME,e=r(n,s)}while(Ai)}if(yl.current=Kl,t=Ve!==null&&Ve.next!==null,Ss=0,Qe=Ve=Oe=null,Gl=!1,t)throw Error(O(300));return e}function xh(){var e=Zi!==0;return Zi=0,e}function Er(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Oe.memoizedState=Qe=e:Qe=Qe.next=e,Qe}function ar(){if(Ve===null){var e=Oe.alternate;e=e!==null?e.memoizedState:null}else e=Ve.next;var t=Qe===null?Oe.memoizedState:Qe.next;if(t!==null)Qe=t,Ve=e;else{if(e===null)throw Error(O(310));Ve=e,e={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Qe===null?Oe.memoizedState=Qe=e:Qe=Qe.next=e}return Qe}function ea(e,t){return typeof t=="function"?t(e):t}function Mu(e){var t=ar(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=Ve,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var a=i=null,c=null,u=o;do{var d=u.lane;if((Ss&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,i=n):c=c.next=f,Oe.lanes|=d,Es|=d}u=u.next}while(u!==null&&u!==o);c===null?i=n:c.next=a,yr(n,t.memoizedState)||(Pt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,Oe.lanes|=o,Es|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Du(e){var t=ar(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);yr(o,t.memoizedState)||(Pt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function sw(){}function ow(e,t){var r=Oe,n=ar(),s=t(),o=!yr(n.memoizedState,s);if(o&&(n.memoizedState=s,Pt=!0),n=n.queue,bh(lw.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||Qe!==null&&Qe.memoizedState.tag&1){if(r.flags|=2048,ta(9,aw.bind(null,r,n,s,t),void 0,null),Xe===null)throw Error(O(349));Ss&30||iw(r,t,s)}return s}function iw(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function aw(e,t,r,n){t.value=r,t.getSnapshot=n,cw(t)&&uw(e)}function lw(e,t,r){return r(function(){cw(t)&&uw(e)})}function cw(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yr(e,r)}catch{return!0}}function uw(e){var t=Zr(e,1);t!==null&&vr(t,e,1,-1)}function Bm(e){var t=Er();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:e},t.queue=e,e=e.dispatch=RE.bind(null,Oe,e),[t.memoizedState,e]}function ta(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Oe.updateQueue,t===null?(t={lastEffect:null,stores:null},Oe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function dw(){return ar().memoizedState}function wl(e,t,r,n){var s=Er();Oe.flags|=e,s.memoizedState=ta(1|t,r,void 0,n===void 0?null:n)}function kc(e,t,r,n){var s=ar();n=n===void 0?null:n;var o=void 0;if(Ve!==null){var i=Ve.memoizedState;if(o=i.destroy,n!==null&&yh(n,i.deps)){s.memoizedState=ta(t,r,o,n);return}}Oe.flags|=e,s.memoizedState=ta(1|t,r,o,n)}function Wm(e,t){return wl(8390656,8,e,t)}function bh(e,t){return kc(2048,8,e,t)}function fw(e,t){return kc(4,2,e,t)}function hw(e,t){return kc(4,4,e,t)}function pw(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function mw(e,t,r){return r=r!=null?r.concat([e]):null,kc(4,4,pw.bind(null,t,e),r)}function _h(){}function gw(e,t){var r=ar();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function vw(e,t){var r=ar();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function yw(e,t,r){return Ss&21?(yr(r,t)||(r=ky(),Oe.lanes|=r,Es|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Pt=!0),e.memoizedState=r)}function PE(e,t){var r=ye;ye=r!==0&&4>r?r:4,e(!0);var n=Ou.transition;Ou.transition={};try{e(!1),t()}finally{ye=r,Ou.transition=n}}function ww(){return ar().memoizedState}function TE(e,t,r){var n=$n(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xw(e))bw(t,r);else if(r=tw(e,t,r,n),r!==null){var s=_t();vr(r,e,n,s),_w(r,t,n)}}function RE(e,t,r){var n=$n(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xw(e))bw(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,r);if(s.hasEagerState=!0,s.eagerState=a,yr(a,i)){var c=t.interleaved;c===null?(s.next=s,hh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=tw(e,t,s,n),r!==null&&(s=_t(),vr(r,e,n,s),_w(r,t,n))}}function xw(e){var t=e.alternate;return e===Oe||t!==null&&t===Oe}function bw(e,t){Ai=Gl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _w(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zf(e,r)}}var Kl={readContext:ir,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},AE={readContext:ir,useCallback:function(e,t){return Er().memoizedState=[e,t===void 0?null:t],e},useContext:ir,useEffect:Wm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,wl(4194308,4,pw.bind(null,t,e),r)},useLayoutEffect:function(e,t){return wl(4194308,4,e,t)},useInsertionEffect:function(e,t){return wl(4,2,e,t)},useMemo:function(e,t){var r=Er();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Er();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=TE.bind(null,Oe,e),[n.memoizedState,e]},useRef:function(e){var t=Er();return e={current:e},t.memoizedState=e},useState:Bm,useDebugValue:_h,useDeferredValue:function(e){return Er().memoizedState=e},useTransition:function(){var e=Bm(!1),t=e[0];return e=PE.bind(null,e[1]),Er().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Oe,s=Er();if(Te){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),Xe===null)throw Error(O(349));Ss&30||iw(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,Wm(lw.bind(null,n,o,e),[e]),n.flags|=2048,ta(9,aw.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Er(),t=Xe.identifierPrefix;if(Te){var r=Vr,n=Hr;r=(n&~(1<<32-gr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Zi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=NE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},OE={readContext:ir,useCallback:gw,useContext:ir,useEffect:bh,useImperativeHandle:mw,useInsertionEffect:fw,useLayoutEffect:hw,useMemo:vw,useReducer:Mu,useRef:dw,useState:function(){return Mu(ea)},useDebugValue:_h,useDeferredValue:function(e){var t=ar();return yw(t,Ve.memoizedState,e)},useTransition:function(){var e=Mu(ea)[0],t=ar().memoizedState;return[e,t]},useMutableSource:sw,useSyncExternalStore:ow,useId:ww,unstable_isNewReconciler:!1},ME={readContext:ir,useCallback:gw,useContext:ir,useEffect:bh,useImperativeHandle:mw,useInsertionEffect:fw,useLayoutEffect:hw,useMemo:vw,useReducer:Du,useRef:dw,useState:function(){return Du(ea)},useDebugValue:_h,useDeferredValue:function(e){var t=ar();return Ve===null?t.memoizedState=e:yw(t,Ve.memoizedState,e)},useTransition:function(){var e=Du(ea)[0],t=ar().memoizedState;return[e,t]},useMutableSource:sw,useSyncExternalStore:ow,useId:ww,unstable_isNewReconciler:!1};function ur(e,t){if(e&&e.defaultProps){t=Me({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function zd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var jc={isMounted:function(e){return(e=e._reactInternals)?As(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=_t(),s=$n(e),o=Kr(n,s);o.payload=t,r!=null&&(o.callback=r),t=In(e,o,s),t!==null&&(vr(t,e,s,n),vl(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=_t(),s=$n(e),o=Kr(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=In(e,o,s),t!==null&&(vr(t,e,s,n),vl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=_t(),n=$n(e),s=Kr(r,n);s.tag=2,t!=null&&(s.callback=t),t=In(e,s,n),t!==null&&(vr(t,e,n,r),vl(t,e,n))}};function Hm(e,t,r,n,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,i):t.prototype&&t.prototype.isPureReactComponent?!Gi(r,n)||!Gi(s,o):!0}function kw(e,t,r){var n=!1,s=Vn,o=t.contextType;return typeof o=="object"&&o!==null?o=ir(o):(s=Rt(t)?ks:ht.current,n=t.contextTypes,o=(n=n!=null)?Io(e,s):Vn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=jc,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&jc.enqueueReplaceState(t,t.state,null)}function Bd(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ph(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=ir(o):(o=Rt(t)?ks:ht.current,s.context=Io(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(zd(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&jc.enqueueReplaceState(s,s.state,null),Vl(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Uo(e,t){try{var r="",n=t;do r+=lS(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Iu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Wd(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var DE=typeof WeakMap=="function"?WeakMap:Map;function jw(e,t,r){r=Kr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ql||(Ql=!0,Zd=n),Wd(e,t)},r}function Sw(e,t,r){r=Kr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Wd(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Wd(e,t),typeof n!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function qm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new DE;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=YE.bind(null,e,t,r),t.then(e,e))}function Gm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Km(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Kr(-1,1),t.tag=2,In(r,t,1))),r.lanes|=1),e)}var IE=nn.ReactCurrentOwner,Pt=!1;function gt(e,t,r,n){t.child=e===null?ew(t,null,r,n):$o(t,e.child,r,n)}function Ym(e,t,r,n,s){r=r.render;var o=t.ref;return yo(t,s),n=wh(e,t,r,n,o,s),r=xh(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,en(e,t,s)):(Te&&r&&ah(t),t.flags|=1,gt(e,t,n,s),t.child)}function Qm(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!Th(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Ew(e,t,o,n,s)):(e=kl(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(r=r.compare,r=r!==null?r:Gi,r(i,n)&&e.ref===t.ref)return en(e,t,s)}return t.flags|=1,e=Fn(o,n),e.ref=t.ref,e.return=t,t.child=e}function Ew(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Gi(o,n)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Pt=!0);else return t.lanes=e.lanes,en(e,t,s)}return Hd(e,t,r,n,s)}function Cw(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(fo,$t),$t|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ke(fo,$t),$t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,ke(fo,$t),$t|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,ke(fo,$t),$t|=n;return gt(e,t,s,r),t.child}function Nw(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Hd(e,t,r,n,s){var o=Rt(r)?ks:ht.current;return o=Io(t,o),yo(t,s),r=wh(e,t,r,n,o,s),n=xh(),e!==null&&!Pt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,en(e,t,s)):(Te&&n&&ah(t),t.flags|=1,gt(e,t,r,s),t.child)}function Xm(e,t,r,n,s){if(Rt(r)){var o=!0;Ul(t)}else o=!1;if(yo(t,s),t.stateNode===null)xl(e,t),kw(t,r,n),Bd(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=ir(u):(u=Rt(r)?ks:ht.current,u=Io(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||c!==u)&&Vm(t,i,n,u),yn=!1;var p=t.memoizedState;i.state=p,Vl(t,n,i,s),c=t.memoizedState,a!==n||p!==c||Tt.current||yn?(typeof d=="function"&&(zd(t,r,d,n),c=t.memoizedState),(a=yn||Hm(t,r,a,n,p,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,rw(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ur(t.type,a),i.props=u,f=t.pendingProps,p=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=ir(c):(c=Rt(r)?ks:ht.current,c=Io(t,c));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==f||p!==c)&&Vm(t,i,n,c),yn=!1,p=t.memoizedState,i.state=p,Vl(t,n,i,s);var y=t.memoizedState;a!==f||p!==y||Tt.current||yn?(typeof v=="function"&&(zd(t,r,v,n),y=t.memoizedState),(u=yn||Hm(t,r,u,n,p,y,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),i.props=n,i.state=y,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Vd(e,t,r,n,o,s)}function Vd(e,t,r,n,s,o){Nw(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Im(t,r,!1),en(e,t,o);n=t.stateNode,IE.current=t;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=$o(t,e.child,null,o),t.child=$o(t,null,a,o)):gt(e,t,a,o),t.memoizedState=n.state,s&&Im(t,r,!0),t.child}function Pw(e){var t=e.stateNode;t.pendingContext?Dm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Dm(e,t.context,!1),mh(e,t.containerInfo)}function Jm(e,t,r,n,s){return Lo(),ch(s),t.flags|=256,gt(e,t,r,n),t.child}var qd={dehydrated:null,treeContext:null,retryLane:0};function Gd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Tw(e,t,r){var n=t.pendingProps,s=Re.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ke(Re,s&1),e===null)return Fd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,o?(n=t.mode,o=t.child,i={mode:"hidden",children:i},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Cc(i,n,0,null),e=xs(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Gd(r),t.memoizedState=qd,e):kh(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return LE(e,t,i,n,a,s,r);if(o){o=n.fallback,i=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Fn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Fn(a,o):(o=xs(o,i,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,i=e.child.memoizedState,i=i===null?Gd(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~r,t.memoizedState=qd,n}return o=e.child,e=o.sibling,n=Fn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function kh(e,t){return t=Cc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ka(e,t,r,n){return n!==null&&ch(n),$o(t,e.child,null,r),e=kh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function LE(e,t,r,n,s,o,i){if(r)return t.flags&256?(t.flags&=-257,n=Iu(Error(O(422))),Ka(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=Cc({mode:"visible",children:n.children},s,0,null),o=xs(o,s,i,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&$o(t,e.child,null,i),t.child.memoizedState=Gd(i),t.memoizedState=qd,o);if(!(t.mode&1))return Ka(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(O(419)),n=Iu(o,n,void 0),Ka(e,t,i,n)}if(a=(i&e.childLanes)!==0,Pt||a){if(n=Xe,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Zr(e,s),vr(n,e,s,-1))}return Ph(),n=Iu(Error(O(421))),Ka(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=QE.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Bt=Dn(s.nextSibling),Wt=t,Te=!0,mr=null,e!==null&&(Zt[er++]=Hr,Zt[er++]=Vr,Zt[er++]=js,Hr=e.id,Vr=e.overflow,js=t),t=kh(t,n.children),t.flags|=4096,t)}function Zm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ud(e.return,t,r)}function Lu(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Rw(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(gt(e,t,n.children,r),n=Re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zm(e,r,t);else if(e.tag===19)Zm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ke(Re,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ql(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Lu(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ql(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Lu(t,!0,r,null,o);break;case"together":Lu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function xl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function en(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Es|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=Fn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Fn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $E(e,t,r){switch(t.tag){case 3:Pw(t),Lo();break;case 5:nw(t);break;case 1:Rt(t.type)&&Ul(t);break;case 4:mh(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ke(Wl,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ke(Re,Re.current&1),t.flags|=128,null):r&t.child.childLanes?Tw(e,t,r):(ke(Re,Re.current&1),e=en(e,t,r),e!==null?e.sibling:null);ke(Re,Re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Rw(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ke(Re,Re.current),n)break;return null;case 22:case 23:return t.lanes=0,Cw(e,t,r)}return en(e,t,r)}var Aw,Kd,Ow,Mw;Aw=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Kd=function(){};Ow=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ps(Dr.current);var o=null;switch(r){case"input":s=gd(e,s),n=gd(e,n),o=[];break;case"select":s=Me({},s,{value:void 0}),n=Me({},n,{value:void 0}),o=[];break;case"textarea":s=wd(e,s),n=wd(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$l)}bd(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ui.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&a[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(o||(o=[]),o.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(o=o||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ui.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ne("scroll",e),o||a===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};Mw=function(e,t,r,n){r!==n&&(t.flags|=4)};function mi(e,t){if(!Te)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function FE(e,t,r){var n=t.pendingProps;switch(lh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(t),null;case 1:return Rt(t.type)&&Fl(),ct(t),null;case 3:return n=t.stateNode,Fo(),Pe(Tt),Pe(ht),vh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,mr!==null&&(rf(mr),mr=null))),Kd(e,t),ct(t),null;case 5:gh(t);var s=ps(Ji.current);if(r=t.type,e!==null&&t.stateNode!=null)Ow(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return ct(t),null}if(e=ps(Dr.current),qa(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[Tr]=t,n[Qi]=o,e=(t.mode&1)!==0,r){case"dialog":Ne("cancel",n),Ne("close",n);break;case"iframe":case"object":case"embed":Ne("load",n);break;case"video":case"audio":for(s=0;s<ki.length;s++)Ne(ki[s],n);break;case"source":Ne("error",n);break;case"img":case"image":case"link":Ne("error",n),Ne("load",n);break;case"details":Ne("toggle",n);break;case"input":lm(n,o),Ne("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Ne("invalid",n);break;case"textarea":um(n,o),Ne("invalid",n)}bd(r,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Va(n.textContent,a,e),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Va(n.textContent,a,e),s=["children",""+a]):Ui.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Ne("scroll",n)}switch(r){case"input":La(n),cm(n,o,!0);break;case"textarea":La(n),dm(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=$l)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ly(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Tr]=t,e[Qi]=n,Aw(e,t,!1,!1),t.stateNode=e;e:{switch(i=_d(r,n),r){case"dialog":Ne("cancel",e),Ne("close",e),s=n;break;case"iframe":case"object":case"embed":Ne("load",e),s=n;break;case"video":case"audio":for(s=0;s<ki.length;s++)Ne(ki[s],e);s=n;break;case"source":Ne("error",e),s=n;break;case"img":case"image":case"link":Ne("error",e),Ne("load",e),s=n;break;case"details":Ne("toggle",e),s=n;break;case"input":lm(e,n),s=gd(e,n),Ne("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Me({},n,{value:void 0}),Ne("invalid",e);break;case"textarea":um(e,n),s=wd(e,n),Ne("invalid",e);break;default:s=n}bd(r,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var c=a[o];o==="style"?dy(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&cy(e,c)):o==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&zi(e,c):typeof c=="number"&&zi(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Ui.hasOwnProperty(o)?c!=null&&o==="onScroll"&&Ne("scroll",e):c!=null&&Gf(e,o,c,i))}switch(r){case"input":La(e),cm(e,n,!1);break;case"textarea":La(e),dm(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Hn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?po(e,!!n.multiple,o,!1):n.defaultValue!=null&&po(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=$l)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ct(t),null;case 6:if(e&&t.stateNode!=null)Mw(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=ps(Ji.current),ps(Dr.current),qa(t)){if(n=t.stateNode,r=t.memoizedProps,n[Tr]=t,(o=n.nodeValue!==r)&&(e=Wt,e!==null))switch(e.tag){case 3:Va(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Va(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Tr]=t,t.stateNode=n}return ct(t),null;case 13:if(Pe(Re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Te&&Bt!==null&&t.mode&1&&!(t.flags&128))Jy(),Lo(),t.flags|=98560,o=!1;else if(o=qa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(O(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(O(317));o[Tr]=t}else Lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ct(t),o=!1}else mr!==null&&(rf(mr),mr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Re.current&1?qe===0&&(qe=3):Ph())),t.updateQueue!==null&&(t.flags|=4),ct(t),null);case 4:return Fo(),Kd(e,t),e===null&&Ki(t.stateNode.containerInfo),ct(t),null;case 10:return fh(t.type._context),ct(t),null;case 17:return Rt(t.type)&&Fl(),ct(t),null;case 19:if(Pe(Re),o=t.memoizedState,o===null)return ct(t),null;if(n=(t.flags&128)!==0,i=o.rendering,i===null)if(n)mi(o,!1);else{if(qe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ql(e),i!==null){for(t.flags|=128,mi(o,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ke(Re,Re.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ue()>zo&&(t.flags|=128,n=!0,mi(o,!1),t.lanes=4194304)}else{if(!n)if(e=ql(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),mi(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Te)return ct(t),null}else 2*Ue()-o.renderingStartTime>zo&&r!==1073741824&&(t.flags|=128,n=!0,mi(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(r=o.last,r!==null?r.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ue(),t.sibling=null,r=Re.current,ke(Re,n?r&1|2:r&1),t):(ct(t),null);case 22:case 23:return Nh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?$t&1073741824&&(ct(t),t.subtreeFlags&6&&(t.flags|=8192)):ct(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function UE(e,t){switch(lh(t),t.tag){case 1:return Rt(t.type)&&Fl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fo(),Pe(Tt),Pe(ht),vh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return gh(t),null;case 13:if(Pe(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Re),null;case 4:return Fo(),null;case 10:return fh(t.type._context),null;case 22:case 23:return Nh(),null;case 24:return null;default:return null}}var Ya=!1,ft=!1,zE=typeof WeakSet=="function"?WeakSet:Set,V=null;function uo(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ie(e,t,n)}else r.current=null}function Yd(e,t,r){try{r()}catch(n){Ie(e,t,n)}}var eg=!1;function BE(e,t){if(Ad=Dl,e=Fy(),ih(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var i=0,a=-1,c=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(a=i+s),f!==o||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(v=f.firstChild)!==null;)p=f,f=v;for(;;){if(f===e)break t;if(p===r&&++u===s&&(a=i),p===o&&++d===n&&(c=i),(v=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=v}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Od={focusedElem:e,selectionRange:r},Dl=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,x=y.memoizedState,w=t.stateNode,m=w.getSnapshotBeforeUpdate(t.elementType===t.type?g:ur(t.type,g),x);w.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(_){Ie(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return y=eg,eg=!1,y}function Oi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Yd(t,r,o)}s=s.next}while(s!==n)}}function Sc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Qd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Dw(e){var t=e.alternate;t!==null&&(e.alternate=null,Dw(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Tr],delete t[Qi],delete t[Id],delete t[jE],delete t[SE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Iw(e){return e.tag===5||e.tag===3||e.tag===4}function tg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Iw(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$l));else if(n!==4&&(e=e.child,e!==null))for(Xd(e,t,r),e=e.sibling;e!==null;)Xd(e,t,r),e=e.sibling}function Jd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Jd(e,t,r),e=e.sibling;e!==null;)Jd(e,t,r),e=e.sibling}var tt=null,hr=!1;function cn(e,t,r){for(r=r.child;r!==null;)Lw(e,t,r),r=r.sibling}function Lw(e,t,r){if(Mr&&typeof Mr.onCommitFiberUnmount=="function")try{Mr.onCommitFiberUnmount(vc,r)}catch{}switch(r.tag){case 5:ft||uo(r,t);case 6:var n=tt,s=hr;tt=null,cn(e,t,r),tt=n,hr=s,tt!==null&&(hr?(e=tt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):tt.removeChild(r.stateNode));break;case 18:tt!==null&&(hr?(e=tt,r=r.stateNode,e.nodeType===8?Tu(e.parentNode,r):e.nodeType===1&&Tu(e,r),Vi(e)):Tu(tt,r.stateNode));break;case 4:n=tt,s=hr,tt=r.stateNode.containerInfo,hr=!0,cn(e,t,r),tt=n,hr=s;break;case 0:case 11:case 14:case 15:if(!ft&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Yd(r,t,i),s=s.next}while(s!==n)}cn(e,t,r);break;case 1:if(!ft&&(uo(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ie(r,t,a)}cn(e,t,r);break;case 21:cn(e,t,r);break;case 22:r.mode&1?(ft=(n=ft)||r.memoizedState!==null,cn(e,t,r),ft=n):cn(e,t,r);break;default:cn(e,t,r)}}function rg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new zE),t.forEach(function(n){var s=XE.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function lr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,hr=!1;break e;case 3:tt=a.stateNode.containerInfo,hr=!0;break e;case 4:tt=a.stateNode.containerInfo,hr=!0;break e}a=a.return}if(tt===null)throw Error(O(160));Lw(o,i,s),tt=null,hr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ie(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$w(t,e),t=t.sibling}function $w(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lr(t,e),jr(e),n&4){try{Oi(3,e,e.return),Sc(3,e)}catch(g){Ie(e,e.return,g)}try{Oi(5,e,e.return)}catch(g){Ie(e,e.return,g)}}break;case 1:lr(t,e),jr(e),n&512&&r!==null&&uo(r,r.return);break;case 5:if(lr(t,e),jr(e),n&512&&r!==null&&uo(r,r.return),e.flags&32){var s=e.stateNode;try{zi(s,"")}catch(g){Ie(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=r!==null?r.memoizedProps:o,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&iy(s,o),_d(a,i);var u=_d(a,o);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?dy(s,f):d==="dangerouslySetInnerHTML"?cy(s,f):d==="children"?zi(s,f):Gf(s,d,f,u)}switch(a){case"input":vd(s,o);break;case"textarea":ay(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?po(s,!!o.multiple,v,!1):p!==!!o.multiple&&(o.defaultValue!=null?po(s,!!o.multiple,o.defaultValue,!0):po(s,!!o.multiple,o.multiple?[]:"",!1))}s[Qi]=o}catch(g){Ie(e,e.return,g)}}break;case 6:if(lr(t,e),jr(e),n&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(g){Ie(e,e.return,g)}}break;case 3:if(lr(t,e),jr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vi(t.containerInfo)}catch(g){Ie(e,e.return,g)}break;case 4:lr(t,e),jr(e);break;case 13:lr(t,e),jr(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Eh=Ue())),n&4&&rg(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ft=(u=ft)||d,lr(t,e),ft=u):lr(t,e),jr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(V=e,d=e.child;d!==null;){for(f=V=d;V!==null;){switch(p=V,v=p.child,p.tag){case 0:case 11:case 14:case 15:Oi(4,p,p.return);break;case 1:uo(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(g){Ie(n,r,g)}}break;case 5:uo(p,p.return);break;case 22:if(p.memoizedState!==null){sg(f);continue}}v!==null?(v.return=p,V=v):sg(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=uy("display",i))}catch(g){Ie(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(g){Ie(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:lr(t,e),jr(e),n&4&&rg(e);break;case 21:break;default:lr(t,e),jr(e)}}function jr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Iw(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(zi(s,""),n.flags&=-33);var o=tg(e);Jd(e,o,s);break;case 3:case 4:var i=n.stateNode.containerInfo,a=tg(e);Xd(e,a,i);break;default:throw Error(O(161))}}catch(c){Ie(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function WE(e,t,r){V=e,Fw(e)}function Fw(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var s=V,o=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Ya;if(!i){var a=s.alternate,c=a!==null&&a.memoizedState!==null||ft;a=Ya;var u=ft;if(Ya=i,(ft=c)&&!u)for(V=s;V!==null;)i=V,c=i.child,i.tag===22&&i.memoizedState!==null?og(s):c!==null?(c.return=i,V=c):og(s);for(;o!==null;)V=o,Fw(o),o=o.sibling;V=s,Ya=a,ft=u}ng(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,V=o):ng(e)}}function ng(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ft||Sc(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ft)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:ur(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&zm(t,o,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}zm(t,i,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Vi(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}ft||t.flags&512&&Qd(t)}catch(p){Ie(t,t.return,p)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function sg(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function og(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Sc(4,t)}catch(c){Ie(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ie(t,s,c)}}var o=t.return;try{Qd(t)}catch(c){Ie(t,o,c)}break;case 5:var i=t.return;try{Qd(t)}catch(c){Ie(t,i,c)}}}catch(c){Ie(t,t.return,c)}if(t===e){V=null;break}var a=t.sibling;if(a!==null){a.return=t.return,V=a;break}V=t.return}}var HE=Math.ceil,Yl=nn.ReactCurrentDispatcher,jh=nn.ReactCurrentOwner,rr=nn.ReactCurrentBatchConfig,de=0,Xe=null,We=null,nt=0,$t=0,fo=Zn(0),qe=0,ra=null,Es=0,Ec=0,Sh=0,Mi=null,Ct=null,Eh=0,zo=1/0,zr=null,Ql=!1,Zd=null,Ln=null,Qa=!1,Tn=null,Xl=0,Di=0,ef=null,bl=-1,_l=0;function _t(){return de&6?Ue():bl!==-1?bl:bl=Ue()}function $n(e){return e.mode&1?de&2&&nt!==0?nt&-nt:CE.transition!==null?(_l===0&&(_l=ky()),_l):(e=ye,e!==0||(e=window.event,e=e===void 0?16:Ty(e.type)),e):1}function vr(e,t,r,n){if(50<Di)throw Di=0,ef=null,Error(O(185));ga(e,r,n),(!(de&2)||e!==Xe)&&(e===Xe&&(!(de&2)&&(Ec|=r),qe===4&&bn(e,nt)),At(e,n),r===1&&de===0&&!(t.mode&1)&&(zo=Ue()+500,_c&&es()))}function At(e,t){var r=e.callbackNode;CS(e,t);var n=Ml(e,e===Xe?nt:0);if(n===0)r!==null&&pm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&pm(r),t===1)e.tag===0?EE(ig.bind(null,e)):Yy(ig.bind(null,e)),_E(function(){!(de&6)&&es()}),r=null;else{switch(jy(n)){case 1:r=Jf;break;case 4:r=by;break;case 16:r=Ol;break;case 536870912:r=_y;break;default:r=Ol}r=Gw(r,Uw.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Uw(e,t){if(bl=-1,_l=0,de&6)throw Error(O(327));var r=e.callbackNode;if(wo()&&e.callbackNode!==r)return null;var n=Ml(e,e===Xe?nt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Jl(e,n);else{t=n;var s=de;de|=2;var o=Bw();(Xe!==e||nt!==t)&&(zr=null,zo=Ue()+500,ws(e,t));do try{GE();break}catch(a){zw(e,a)}while(!0);dh(),Yl.current=o,de=s,We!==null?t=0:(Xe=null,nt=0,t=qe)}if(t!==0){if(t===2&&(s=Cd(e),s!==0&&(n=s,t=tf(e,s))),t===1)throw r=ra,ws(e,0),bn(e,n),At(e,Ue()),r;if(t===6)bn(e,n);else{if(s=e.current.alternate,!(n&30)&&!VE(s)&&(t=Jl(e,n),t===2&&(o=Cd(e),o!==0&&(n=o,t=tf(e,o))),t===1))throw r=ra,ws(e,0),bn(e,n),At(e,Ue()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:ls(e,Ct,zr);break;case 3:if(bn(e,n),(n&130023424)===n&&(t=Eh+500-Ue(),10<t)){if(Ml(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){_t(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Dd(ls.bind(null,e,Ct,zr),t);break}ls(e,Ct,zr);break;case 4:if(bn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-gr(n);o=1<<i,i=t[i],i>s&&(s=i),n&=~o}if(n=s,n=Ue()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*HE(n/1960))-n,10<n){e.timeoutHandle=Dd(ls.bind(null,e,Ct,zr),n);break}ls(e,Ct,zr);break;case 5:ls(e,Ct,zr);break;default:throw Error(O(329))}}}return At(e,Ue()),e.callbackNode===r?Uw.bind(null,e):null}function tf(e,t){var r=Mi;return e.current.memoizedState.isDehydrated&&(ws(e,t).flags|=256),e=Jl(e,t),e!==2&&(t=Ct,Ct=r,t!==null&&rf(t)),e}function rf(e){Ct===null?Ct=e:Ct.push.apply(Ct,e)}function VE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!yr(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~Sh,t&=~Ec,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gr(t),n=1<<r;e[r]=-1,t&=~n}}function ig(e){if(de&6)throw Error(O(327));wo();var t=Ml(e,0);if(!(t&1))return At(e,Ue()),null;var r=Jl(e,t);if(e.tag!==0&&r===2){var n=Cd(e);n!==0&&(t=n,r=tf(e,n))}if(r===1)throw r=ra,ws(e,0),bn(e,t),At(e,Ue()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ls(e,Ct,zr),At(e,Ue()),null}function Ch(e,t){var r=de;de|=1;try{return e(t)}finally{de=r,de===0&&(zo=Ue()+500,_c&&es())}}function Cs(e){Tn!==null&&Tn.tag===0&&!(de&6)&&wo();var t=de;de|=1;var r=rr.transition,n=ye;try{if(rr.transition=null,ye=1,e)return e()}finally{ye=n,rr.transition=r,de=t,!(de&6)&&es()}}function Nh(){$t=fo.current,Pe(fo)}function ws(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,bE(r)),We!==null)for(r=We.return;r!==null;){var n=r;switch(lh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fl();break;case 3:Fo(),Pe(Tt),Pe(ht),vh();break;case 5:gh(n);break;case 4:Fo();break;case 13:Pe(Re);break;case 19:Pe(Re);break;case 10:fh(n.type._context);break;case 22:case 23:Nh()}r=r.return}if(Xe=e,We=e=Fn(e.current,null),nt=$t=t,qe=0,ra=null,Sh=Ec=Es=0,Ct=Mi=null,hs!==null){for(t=0;t<hs.length;t++)if(r=hs[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var i=o.next;o.next=s,n.next=i}r.pending=n}hs=null}return e}function zw(e,t){do{var r=We;try{if(dh(),yl.current=Kl,Gl){for(var n=Oe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Gl=!1}if(Ss=0,Qe=Ve=Oe=null,Ai=!1,Zi=0,jh.current=null,r===null||r.return===null){qe=1,ra=t,We=null;break}e:{var o=e,i=r.return,a=r,c=t;if(t=nt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Gm(i);if(v!==null){v.flags&=-257,Km(v,i,a,o,t),v.mode&1&&qm(o,u,t),t=v,c=u;var y=t.updateQueue;if(y===null){var g=new Set;g.add(c),t.updateQueue=g}else y.add(c);break e}else{if(!(t&1)){qm(o,u,t),Ph();break e}c=Error(O(426))}}else if(Te&&a.mode&1){var x=Gm(i);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Km(x,i,a,o,t),ch(Uo(c,a));break e}}o=c=Uo(c,a),qe!==4&&(qe=2),Mi===null?Mi=[o]:Mi.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var w=jw(o,c,t);Um(o,w);break e;case 1:a=c;var m=o.type,b=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ln===null||!Ln.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=Sw(o,a,t);Um(o,_);break e}}o=o.return}while(o!==null)}Hw(r)}catch(k){t=k,We===r&&r!==null&&(We=r=r.return);continue}break}while(!0)}function Bw(){var e=Yl.current;return Yl.current=Kl,e===null?Kl:e}function Ph(){(qe===0||qe===3||qe===2)&&(qe=4),Xe===null||!(Es&268435455)&&!(Ec&268435455)||bn(Xe,nt)}function Jl(e,t){var r=de;de|=2;var n=Bw();(Xe!==e||nt!==t)&&(zr=null,ws(e,t));do try{qE();break}catch(s){zw(e,s)}while(!0);if(dh(),de=r,Yl.current=n,We!==null)throw Error(O(261));return Xe=null,nt=0,qe}function qE(){for(;We!==null;)Ww(We)}function GE(){for(;We!==null&&!yS();)Ww(We)}function Ww(e){var t=qw(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?Hw(e):We=t,jh.current=null}function Hw(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=UE(r,t),r!==null){r.flags&=32767,We=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{qe=6,We=null;return}}else if(r=FE(r,t,$t),r!==null){We=r;return}if(t=t.sibling,t!==null){We=t;return}We=t=e}while(t!==null);qe===0&&(qe=5)}function ls(e,t,r){var n=ye,s=rr.transition;try{rr.transition=null,ye=1,KE(e,t,r,n)}finally{rr.transition=s,ye=n}return null}function KE(e,t,r,n){do wo();while(Tn!==null);if(de&6)throw Error(O(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(NS(e,o),e===Xe&&(We=Xe=null,nt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qa||(Qa=!0,Gw(Ol,function(){return wo(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=rr.transition,rr.transition=null;var i=ye;ye=1;var a=de;de|=4,jh.current=null,BE(e,r),$w(r,e),pE(Od),Dl=!!Ad,Od=Ad=null,e.current=r,WE(r),wS(),de=a,ye=i,rr.transition=o}else e.current=r;if(Qa&&(Qa=!1,Tn=e,Xl=s),o=e.pendingLanes,o===0&&(Ln=null),_S(r.stateNode),At(e,Ue()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ql)throw Ql=!1,e=Zd,Zd=null,e;return Xl&1&&e.tag!==0&&wo(),o=e.pendingLanes,o&1?e===ef?Di++:(Di=0,ef=e):Di=0,es(),null}function wo(){if(Tn!==null){var e=jy(Xl),t=rr.transition,r=ye;try{if(rr.transition=null,ye=16>e?16:e,Tn===null)var n=!1;else{if(e=Tn,Tn=null,Xl=0,de&6)throw Error(O(331));var s=de;for(de|=4,V=e.current;V!==null;){var o=V,i=o.child;if(V.flags&16){var a=o.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(V=u;V!==null;){var d=V;switch(d.tag){case 0:case 11:case 15:Oi(8,d,o)}var f=d.child;if(f!==null)f.return=d,V=f;else for(;V!==null;){d=V;var p=d.sibling,v=d.return;if(Dw(d),d===u){V=null;break}if(p!==null){p.return=v,V=p;break}V=v}}}var y=o.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var x=g.sibling;g.sibling=null,g=x}while(g!==null)}}V=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,V=i;else e:for(;V!==null;){if(o=V,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Oi(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,V=w;break e}V=o.return}}var m=e.current;for(V=m;V!==null;){i=V;var b=i.child;if(i.subtreeFlags&2064&&b!==null)b.return=i,V=b;else e:for(i=m;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sc(9,a)}}catch(k){Ie(a,a.return,k)}if(a===i){V=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,V=_;break e}V=a.return}}if(de=s,es(),Mr&&typeof Mr.onPostCommitFiberRoot=="function")try{Mr.onPostCommitFiberRoot(vc,e)}catch{}n=!0}return n}finally{ye=r,rr.transition=t}}return!1}function ag(e,t,r){t=Uo(r,t),t=jw(e,t,1),e=In(e,t,1),t=_t(),e!==null&&(ga(e,1,t),At(e,t))}function Ie(e,t,r){if(e.tag===3)ag(e,e,r);else for(;t!==null;){if(t.tag===3){ag(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ln===null||!Ln.has(n))){e=Uo(r,e),e=Sw(t,e,1),t=In(t,e,1),e=_t(),t!==null&&(ga(t,1,e),At(t,e));break}}t=t.return}}function YE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=_t(),e.pingedLanes|=e.suspendedLanes&r,Xe===e&&(nt&r)===r&&(qe===4||qe===3&&(nt&130023424)===nt&&500>Ue()-Eh?ws(e,0):Sh|=r),At(e,t)}function Vw(e,t){t===0&&(e.mode&1?(t=Ua,Ua<<=1,!(Ua&130023424)&&(Ua=4194304)):t=1);var r=_t();e=Zr(e,t),e!==null&&(ga(e,t,r),At(e,r))}function QE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Vw(e,r)}function XE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),Vw(e,r)}var qw;qw=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tt.current)Pt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Pt=!1,$E(e,t,r);Pt=!!(e.flags&131072)}else Pt=!1,Te&&t.flags&1048576&&Qy(t,Bl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;xl(e,t),e=t.pendingProps;var s=Io(t,ht.current);yo(t,r),s=wh(null,t,n,e,s,r);var o=xh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Rt(n)?(o=!0,Ul(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ph(t),s.updater=jc,t.stateNode=s,s._reactInternals=t,Bd(t,n,e,r),t=Vd(null,t,n,!0,o,r)):(t.tag=0,Te&&o&&ah(t),gt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(xl(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=ZE(n),e=ur(n,e),s){case 0:t=Hd(null,t,n,e,r);break e;case 1:t=Xm(null,t,n,e,r);break e;case 11:t=Ym(null,t,n,e,r);break e;case 14:t=Qm(null,t,n,ur(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ur(n,s),Hd(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ur(n,s),Xm(e,t,n,s,r);case 3:e:{if(Pw(t),e===null)throw Error(O(387));n=t.pendingProps,o=t.memoizedState,s=o.element,rw(e,t),Vl(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Uo(Error(O(423)),t),t=Jm(e,t,n,r,s);break e}else if(n!==s){s=Uo(Error(O(424)),t),t=Jm(e,t,n,r,s);break e}else for(Bt=Dn(t.stateNode.containerInfo.firstChild),Wt=t,Te=!0,mr=null,r=ew(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Lo(),n===s){t=en(e,t,r);break e}gt(e,t,n,r)}t=t.child}return t;case 5:return nw(t),e===null&&Fd(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Md(n,s)?i=null:o!==null&&Md(n,o)&&(t.flags|=32),Nw(e,t),gt(e,t,i,r),t.child;case 6:return e===null&&Fd(t),null;case 13:return Tw(e,t,r);case 4:return mh(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$o(t,null,n,r):gt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ur(n,s),Ym(e,t,n,s,r);case 7:return gt(e,t,t.pendingProps,r),t.child;case 8:return gt(e,t,t.pendingProps.children,r),t.child;case 12:return gt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,ke(Wl,n._currentValue),n._currentValue=i,o!==null)if(yr(o.value,i)){if(o.children===s.children&&!Tt.current){t=en(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(o.tag===1){c=Kr(-1,r&-r),c.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,c=o.alternate,c!==null&&(c.lanes|=r),Ud(o.return,r,t),a.lanes|=r;break}c=c.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(O(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Ud(i,r,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}gt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,yo(t,r),s=ir(s),n=n(s),t.flags|=1,gt(e,t,n,r),t.child;case 14:return n=t.type,s=ur(n,t.pendingProps),s=ur(n.type,s),Qm(e,t,n,s,r);case 15:return Ew(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:ur(n,s),xl(e,t),t.tag=1,Rt(n)?(e=!0,Ul(t)):e=!1,yo(t,r),kw(t,n,s),Bd(t,n,s,r),Vd(null,t,n,!0,e,r);case 19:return Rw(e,t,r);case 22:return Cw(e,t,r)}throw Error(O(156,t.tag))};function Gw(e,t){return xy(e,t)}function JE(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(e,t,r,n){return new JE(e,t,r,n)}function Th(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ZE(e){if(typeof e=="function")return Th(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yf)return 11;if(e===Qf)return 14}return 2}function Fn(e,t){var r=e.alternate;return r===null?(r=tr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function kl(e,t,r,n,s,o){var i=2;if(n=e,typeof e=="function")Th(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case to:return xs(r.children,s,o,t);case Kf:i=8,s|=8;break;case fd:return e=tr(12,r,t,s|2),e.elementType=fd,e.lanes=o,e;case hd:return e=tr(13,r,t,s),e.elementType=hd,e.lanes=o,e;case pd:return e=tr(19,r,t,s),e.elementType=pd,e.lanes=o,e;case ny:return Cc(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ty:i=10;break e;case ry:i=9;break e;case Yf:i=11;break e;case Qf:i=14;break e;case vn:i=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=tr(i,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function xs(e,t,r,n){return e=tr(7,e,n,t),e.lanes=r,e}function Cc(e,t,r,n){return e=tr(22,e,n,t),e.elementType=ny,e.lanes=r,e.stateNode={isHidden:!1},e}function $u(e,t,r){return e=tr(6,e,null,t),e.lanes=r,e}function Fu(e,t,r){return t=tr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function eC(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wu(0),this.expirationTimes=wu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Rh(e,t,r,n,s,o,i,a,c){return e=new eC(e,t,r,a,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=tr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ph(o),e}function tC(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Kw(e){if(!e)return Vn;e=e._reactInternals;e:{if(As(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(Rt(r))return Ky(e,r,t)}return t}function Yw(e,t,r,n,s,o,i,a,c){return e=Rh(r,n,!0,e,s,o,i,a,c),e.context=Kw(null),r=e.current,n=_t(),s=$n(r),o=Kr(n,s),o.callback=t??null,In(r,o,s),e.current.lanes=s,ga(e,s,n),At(e,n),e}function Nc(e,t,r,n){var s=t.current,o=_t(),i=$n(s);return r=Kw(r),t.context===null?t.context=r:t.pendingContext=r,t=Kr(o,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=In(s,t,i),e!==null&&(vr(e,s,i,o),vl(e,s,i)),i}function Zl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ah(e,t){lg(e,t),(e=e.alternate)&&lg(e,t)}function rC(){return null}var Qw=typeof reportError=="function"?reportError:function(e){console.error(e)};function Oh(e){this._internalRoot=e}Pc.prototype.render=Oh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Nc(e,t,null,null)};Pc.prototype.unmount=Oh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cs(function(){Nc(null,e,null,null)}),t[Jr]=null}};function Pc(e){this._internalRoot=e}Pc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cy();e={blockedOn:null,target:e,priority:t};for(var r=0;r<xn.length&&t!==0&&t<xn[r].priority;r++);xn.splice(r,0,e),r===0&&Py(e)}};function Mh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function cg(){}function nC(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=Zl(i);o.call(u)}}var i=Yw(t,n,e,0,null,!1,!1,"",cg);return e._reactRootContainer=i,e[Jr]=i.current,Ki(e.nodeType===8?e.parentNode:e),Cs(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=Zl(c);a.call(u)}}var c=Rh(e,0,!1,null,null,!1,!1,"",cg);return e._reactRootContainer=c,e[Jr]=c.current,Ki(e.nodeType===8?e.parentNode:e),Cs(function(){Nc(t,c,r,n)}),c}function Rc(e,t,r,n,s){var o=r._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var c=Zl(i);a.call(c)}}Nc(t,i,e,s)}else i=nC(r,t,e,s,n);return Zl(i)}Sy=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_i(t.pendingLanes);r!==0&&(Zf(t,r|1),At(t,Ue()),!(de&6)&&(zo=Ue()+500,es()))}break;case 13:Cs(function(){var n=Zr(e,1);if(n!==null){var s=_t();vr(n,e,1,s)}}),Ah(e,1)}};eh=function(e){if(e.tag===13){var t=Zr(e,134217728);if(t!==null){var r=_t();vr(t,e,134217728,r)}Ah(e,134217728)}};Ey=function(e){if(e.tag===13){var t=$n(e),r=Zr(e,t);if(r!==null){var n=_t();vr(r,e,t,n)}Ah(e,t)}};Cy=function(){return ye};Ny=function(e,t){var r=ye;try{return ye=e,t()}finally{ye=r}};jd=function(e,t,r){switch(t){case"input":if(vd(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=bc(n);if(!s)throw Error(O(90));oy(n),vd(n,s)}}}break;case"textarea":ay(e,r);break;case"select":t=r.value,t!=null&&po(e,!!r.multiple,t,!1)}};py=Ch;my=Cs;var sC={usingClientEntryPoint:!1,Events:[ya,oo,bc,fy,hy,Ch]},gi={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},oC={bundleType:gi.bundleType,version:gi.version,rendererPackageName:gi.rendererPackageName,rendererConfig:gi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=yy(e),e===null?null:e.stateNode},findFiberByHostInstance:gi.findFiberByHostInstance||rC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xa.isDisabled&&Xa.supportsFiber)try{vc=Xa.inject(oC),Mr=Xa}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sC;Gt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mh(t))throw Error(O(200));return tC(e,t,null,r)};Gt.createRoot=function(e,t){if(!Mh(e))throw Error(O(299));var r=!1,n="",s=Qw;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Rh(e,1,!1,null,null,r,!1,n,s),e[Jr]=t.current,Ki(e.nodeType===8?e.parentNode:e),new Oh(t)};Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=yy(t),e=e===null?null:e.stateNode,e};Gt.flushSync=function(e){return Cs(e)};Gt.hydrate=function(e,t,r){if(!Tc(t))throw Error(O(200));return Rc(null,e,t,!0,r)};Gt.hydrateRoot=function(e,t,r){if(!Mh(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",i=Qw;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Yw(t,null,e,1,r??null,s,!1,o,i),e[Jr]=t.current,Ki(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Pc(t)};Gt.render=function(e,t,r){if(!Tc(t))throw Error(O(200));return Rc(null,e,t,!1,r)};Gt.unmountComponentAtNode=function(e){if(!Tc(e))throw Error(O(40));return e._reactRootContainer?(Cs(function(){Rc(null,null,e,!1,function(){e._reactRootContainer=null,e[Jr]=null})}),!0):!1};Gt.unstable_batchedUpdates=Ch;Gt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Tc(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Rc(e,t,r,!1,n)};Gt.version="18.3.1-next-f1338f8080-20240426";function Xw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xw)}catch(e){console.error(e)}}Xw(),Xv.exports=Gt;var Os=Xv.exports;const Jw=$v(Os);var ug=Os;ud.createRoot=ug.createRoot,ud.hydrateRoot=ug.hydrateRoot;const iC=1,aC=1e6;let Uu=0;function lC(){return Uu=(Uu+1)%Number.MAX_SAFE_INTEGER,Uu.toString()}const zu=new Map,dg=e=>{if(zu.has(e))return;const t=setTimeout(()=>{zu.delete(e),Ii({type:"REMOVE_TOAST",toastId:e})},aC);zu.set(e,t)},cC=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,iC)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=t;return r?dg(r):e.toasts.forEach(n=>{dg(n.id)}),{...e,toasts:e.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(r=>r.id!==t.toastId)}}},jl=[];let Sl={toasts:[]};function Ii(e){Sl=cC(Sl,e),jl.forEach(t=>{t(Sl)})}function uC({...e}){const t=lC(),r=s=>Ii({type:"UPDATE_TOAST",toast:{...s,id:t}}),n=()=>Ii({type:"DISMISS_TOAST",toastId:t});return Ii({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||n()}}}),{id:t,dismiss:n,update:r}}function Se(){const[e,t]=h.useState(Sl);return h.useEffect(()=>(jl.push(t),()=>{const r=jl.indexOf(t);r>-1&&jl.splice(r,1)}),[e]),{...e,toast:uC,dismiss:r=>Ii({type:"DISMISS_TOAST",toastId:r})}}function L(e,t,{checkForDefaultPrevented:r=!0}={}){return function(s){if(e==null||e(s),r===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function dC(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Ac(...e){return t=>e.forEach(r=>dC(r,t))}function se(...e){return h.useCallback(Ac(...e),e)}function fC(e,t=[]){let r=[];function n(o,i){const a=h.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:p,children:v,...y}=f,g=(p==null?void 0:p[e][c])||a,x=h.useMemo(()=>y,Object.values(y));return l.jsx(g.Provider,{value:x,children:v})}function d(f,p){const v=(p==null?void 0:p[e][c])||a,y=h.useContext(v);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,hC(s,...t)]}function hC(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var qn=h.forwardRef((e,t)=>{const{children:r,...n}=e,s=h.Children.toArray(r),o=s.find(pC);if(o){const i=o.props.children,a=s.map(c=>c===o?h.Children.count(i)>1?h.Children.only(null):h.isValidElement(i)?i.props.children:null:c);return l.jsx(nf,{...n,ref:t,children:h.isValidElement(i)?h.cloneElement(i,void 0,a):null})}return l.jsx(nf,{...n,ref:t,children:r})});qn.displayName="Slot";var nf=h.forwardRef((e,t)=>{const{children:r,...n}=e;if(h.isValidElement(r)){const s=gC(r);return h.cloneElement(r,{...mC(n,r.props),ref:t?Ac(t,s):s})}return h.Children.count(r)>1?h.Children.only(null):null});nf.displayName="SlotClone";var Dh=({children:e})=>l.jsx(l.Fragment,{children:e});function pC(e){return h.isValidElement(e)&&e.type===Dh}function mC(e,t){const r={...t};for(const n in t){const s=e[n],o=t[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...a)=>{o(...a),s(...a)}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...e,...r}}function gC(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function xa(e){const t=e+"CollectionProvider",[r,n]=fC(t),[s,o]=r(t,{collectionRef:{current:null},itemMap:new Map}),i=v=>{const{scope:y,children:g}=v,x=A.useRef(null),w=A.useRef(new Map).current;return l.jsx(s,{scope:y,itemMap:w,collectionRef:x,children:g})};i.displayName=t;const a=e+"CollectionSlot",c=A.forwardRef((v,y)=>{const{scope:g,children:x}=v,w=o(a,g),m=se(y,w.collectionRef);return l.jsx(qn,{ref:m,children:x})});c.displayName=a;const u=e+"CollectionItemSlot",d="data-radix-collection-item",f=A.forwardRef((v,y)=>{const{scope:g,children:x,...w}=v,m=A.useRef(null),b=se(y,m),_=o(u,g);return A.useEffect(()=>(_.itemMap.set(m,{ref:m,...w}),()=>void _.itemMap.delete(m))),l.jsx(qn,{[d]:"",ref:b,children:x})});f.displayName=u;function p(v){const y=o(e+"CollectionConsumer",v);return A.useCallback(()=>{const x=y.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${d}]`));return Array.from(y.itemMap.values()).sort((_,k)=>w.indexOf(_.ref.current)-w.indexOf(k.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:i,Slot:c,ItemSlot:f},p,n]}function vC(e,t){const r=h.createContext(t),n=o=>{const{children:i,...a}=o,c=h.useMemo(()=>a,Object.values(a));return l.jsx(r.Provider,{value:c,children:i})};n.displayName=e+"Provider";function s(o){const i=h.useContext(r);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[n,s]}function Yt(e,t=[]){let r=[];function n(o,i){const a=h.createContext(i),c=r.length;r=[...r,i];const u=f=>{var w;const{scope:p,children:v,...y}=f,g=((w=p==null?void 0:p[e])==null?void 0:w[c])||a,x=h.useMemo(()=>y,Object.values(y));return l.jsx(g.Provider,{value:x,children:v})};u.displayName=o+"Provider";function d(f,p){var g;const v=((g=p==null?void 0:p[e])==null?void 0:g[c])||a,y=h.useContext(v);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,yC(s,...t)]}function yC(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var wC=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],K=wC.reduce((e,t)=>{const r=h.forwardRef((n,s)=>{const{asChild:o,...i}=n,a=o?qn:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(a,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Ih(e,t){e&&Os.flushSync(()=>e.dispatchEvent(t))}function ot(e){const t=h.useRef(e);return h.useEffect(()=>{t.current=e}),h.useMemo(()=>(...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function xC(e,t=globalThis==null?void 0:globalThis.document){const r=ot(e);h.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var bC="DismissableLayer",sf="dismissableLayer.update",_C="dismissableLayer.pointerDownOutside",kC="dismissableLayer.focusOutside",fg,Zw=h.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xo=h.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...c}=e,u=h.useContext(Zw),[d,f]=h.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,v]=h.useState({}),y=se(t,E=>f(E)),g=Array.from(u.layers),[x]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),w=g.indexOf(x),m=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,_=m>=w,k=SC(E=>{const S=E.target,N=[...u.branches].some(T=>T.contains(S));!_||N||(s==null||s(E),i==null||i(E),E.defaultPrevented||a==null||a())},p),j=EC(E=>{const S=E.target;[...u.branches].some(T=>T.contains(S))||(o==null||o(E),i==null||i(E),E.defaultPrevented||a==null||a())},p);return xC(E=>{m===u.layers.size-1&&(n==null||n(E),!E.defaultPrevented&&a&&(E.preventDefault(),a()))},p),h.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(fg=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),hg(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=fg)}},[d,p,r,u]),h.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),hg())},[d,u]),h.useEffect(()=>{const E=()=>v({});return document.addEventListener(sf,E),()=>document.removeEventListener(sf,E)},[]),l.jsx(K.div,{...c,ref:y,style:{pointerEvents:b?_?"auto":"none":void 0,...e.style},onFocusCapture:L(e.onFocusCapture,j.onFocusCapture),onBlurCapture:L(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:L(e.onPointerDownCapture,k.onPointerDownCapture)})});Xo.displayName=bC;var jC="DismissableLayerBranch",ex=h.forwardRef((e,t)=>{const r=h.useContext(Zw),n=h.useRef(null),s=se(t,n);return h.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),l.jsx(K.div,{...e,ref:s})});ex.displayName=jC;function SC(e,t=globalThis==null?void 0:globalThis.document){const r=ot(e),n=h.useRef(!1),s=h.useRef(()=>{});return h.useEffect(()=>{const o=a=>{if(a.target&&!n.current){let c=function(){tx(_C,r,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=c,t.addEventListener("click",s.current,{once:!0})):c()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function EC(e,t=globalThis==null?void 0:globalThis.document){const r=ot(e),n=h.useRef(!1);return h.useEffect(()=>{const s=o=>{o.target&&!n.current&&tx(kC,r,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function hg(){const e=new CustomEvent(sf);document.dispatchEvent(e)}function tx(e,t,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Ih(s,o):s.dispatchEvent(o)}var CC=Xo,NC=ex,Ge=globalThis!=null&&globalThis.document?h.useLayoutEffect:()=>{},PC="Portal",ba=h.forwardRef((e,t)=>{var a;const{container:r,...n}=e,[s,o]=h.useState(!1);Ge(()=>o(!0),[]);const i=r||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Jw.createPortal(l.jsx(K.div,{...n,ref:t}),i):null});ba.displayName=PC;function TC(e,t){return h.useReducer((r,n)=>t[r][n]??r,e)}var Qt=e=>{const{present:t,children:r}=e,n=RC(t),s=typeof r=="function"?r({present:n.isPresent}):h.Children.only(r),o=se(n.ref,AC(s));return typeof r=="function"||n.isPresent?h.cloneElement(s,{ref:o}):null};Qt.displayName="Presence";function RC(e){const[t,r]=h.useState(),n=h.useRef({}),s=h.useRef(e),o=h.useRef("none"),i=e?"mounted":"unmounted",[a,c]=TC(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return h.useEffect(()=>{const u=Ja(n.current);o.current=a==="mounted"?u:"none"},[a]),Ge(()=>{const u=n.current,d=s.current;if(d!==e){const p=o.current,v=Ja(u);e?c("MOUNT"):v==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&p!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,c]),Ge(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=v=>{const g=Ja(n.current).includes(v.animationName);if(v.target===t&&g&&(c("ANIMATION_END"),!s.current)){const x=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=x)})}},p=v=>{v.target===t&&(o.current=Ja(n.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:h.useCallback(u=>{u&&(n.current=getComputedStyle(u)),r(u)},[])}}function Ja(e){return(e==null?void 0:e.animationName)||"none"}function AC(e){var n,s;let t=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function qt({prop:e,defaultProp:t,onChange:r=()=>{}}){const[n,s]=OC({defaultProp:t,onChange:r}),o=e!==void 0,i=o?e:n,a=ot(r),c=h.useCallback(u=>{if(o){const f=typeof u=="function"?u(e):u;f!==e&&a(f)}else s(u)},[o,e,s,a]);return[i,c]}function OC({defaultProp:e,onChange:t}){const r=h.useState(e),[n]=r,s=h.useRef(n),o=ot(t);return h.useEffect(()=>{s.current!==n&&(o(n),s.current=n)},[n,s,o]),r}var MC="VisuallyHidden",_a=h.forwardRef((e,t)=>l.jsx(K.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));_a.displayName=MC;var DC=_a,Lh="ToastProvider",[$h,IC,LC]=xa("Toast"),[rx,R5]=Yt("Toast",[LC]),[$C,Oc]=rx(Lh),nx=e=>{const{__scopeToast:t,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,c]=h.useState(null),[u,d]=h.useState(0),f=h.useRef(!1),p=h.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Lh}\`. Expected non-empty \`string\`.`),l.jsx($h.Provider,{scope:t,children:l.jsx($C,{scope:t,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:c,onToastAdd:h.useCallback(()=>d(v=>v+1),[]),onToastRemove:h.useCallback(()=>d(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:i})})};nx.displayName=Lh;var sx="ToastViewport",FC=["F8"],of="toast.viewportPause",af="toast.viewportResume",ox=h.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=FC,label:s="Notifications ({hotkey})",...o}=e,i=Oc(sx,r),a=IC(r),c=h.useRef(null),u=h.useRef(null),d=h.useRef(null),f=h.useRef(null),p=se(t,f,i.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=i.toastCount>0;h.useEffect(()=>{const x=w=>{var b;n.length!==0&&n.every(_=>w[_]||w.code===_)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[n]),h.useEffect(()=>{const x=c.current,w=f.current;if(y&&x&&w){const m=()=>{if(!i.isClosePausedRef.current){const j=new CustomEvent(of);w.dispatchEvent(j),i.isClosePausedRef.current=!0}},b=()=>{if(i.isClosePausedRef.current){const j=new CustomEvent(af);w.dispatchEvent(j),i.isClosePausedRef.current=!1}},_=j=>{!x.contains(j.relatedTarget)&&b()},k=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",m),x.addEventListener("focusout",_),x.addEventListener("pointermove",m),x.addEventListener("pointerleave",k),window.addEventListener("blur",m),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",m),x.removeEventListener("focusout",_),x.removeEventListener("pointermove",m),x.removeEventListener("pointerleave",k),window.removeEventListener("blur",m),window.removeEventListener("focus",b)}}},[y,i.isClosePausedRef]);const g=h.useCallback(({tabbingDirection:x})=>{const m=a().map(b=>{const _=b.ref.current,k=[_,...JC(_)];return x==="forwards"?k:k.reverse()});return(x==="forwards"?m.reverse():m).flat()},[a]);return h.useEffect(()=>{const x=f.current;if(x){const w=m=>{var k,j,E;const b=m.altKey||m.ctrlKey||m.metaKey;if(m.key==="Tab"&&!b){const S=document.activeElement,N=m.shiftKey;if(m.target===x&&N){(k=u.current)==null||k.focus();return}const D=g({tabbingDirection:N?"backwards":"forwards"}),B=D.findIndex(M=>M===S);Bu(D.slice(B+1))?m.preventDefault():N?(j=u.current)==null||j.focus():(E=d.current)==null||E.focus()}};return x.addEventListener("keydown",w),()=>x.removeEventListener("keydown",w)}},[a,g]),l.jsxs(NC,{ref:c,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&l.jsx(lf,{ref:u,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"forwards"});Bu(x)}}),l.jsx($h.Slot,{scope:r,children:l.jsx(K.ol,{tabIndex:-1,...o,ref:p})}),y&&l.jsx(lf,{ref:d,onFocusFromOutsideViewport:()=>{const x=g({tabbingDirection:"backwards"});Bu(x)}})]})});ox.displayName=sx;var ix="ToastFocusProxy",lf=h.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=e,o=Oc(ix,r);return l.jsx(_a,{"aria-hidden":!0,tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&n()}})});lf.displayName=ix;var Mc="Toast",UC="toast.swipeStart",zC="toast.swipeMove",BC="toast.swipeCancel",WC="toast.swipeEnd",ax=h.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...i}=e,[a=!0,c]=qt({prop:n,defaultProp:s,onChange:o});return l.jsx(Qt,{present:r||a,children:l.jsx(qC,{open:a,...i,ref:t,onClose:()=>c(!1),onPause:ot(e.onPause),onResume:ot(e.onResume),onSwipeStart:L(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:L(e.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:L(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:L(e.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});ax.displayName=Mc;var[HC,VC]=rx(Mc,{onClose(){}}),qC=h.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:v,...y}=e,g=Oc(Mc,r),[x,w]=h.useState(null),m=se(t,M=>w(M)),b=h.useRef(null),_=h.useRef(null),k=s||g.duration,j=h.useRef(0),E=h.useRef(k),S=h.useRef(0),{onToastAdd:N,onToastRemove:T}=g,z=ot(()=>{var Y;(x==null?void 0:x.contains(document.activeElement))&&((Y=g.viewport)==null||Y.focus()),i()}),D=h.useCallback(M=>{!M||M===1/0||(window.clearTimeout(S.current),j.current=new Date().getTime(),S.current=window.setTimeout(z,M))},[z]);h.useEffect(()=>{const M=g.viewport;if(M){const Y=()=>{D(E.current),u==null||u()},U=()=>{const Q=new Date().getTime()-j.current;E.current=E.current-Q,window.clearTimeout(S.current),c==null||c()};return M.addEventListener(of,U),M.addEventListener(af,Y),()=>{M.removeEventListener(of,U),M.removeEventListener(af,Y)}}},[g.viewport,k,c,u,D]),h.useEffect(()=>{o&&!g.isClosePausedRef.current&&D(k)},[o,k,g.isClosePausedRef,D]),h.useEffect(()=>(N(),()=>T()),[N,T]);const B=h.useMemo(()=>x?px(x):null,[x]);return g.viewport?l.jsxs(l.Fragment,{children:[B&&l.jsx(GC,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:B}),l.jsx(HC,{scope:r,onClose:z,children:Os.createPortal(l.jsx($h.ItemSlot,{scope:r,children:l.jsx(CC,{asChild:!0,onEscapeKeyDown:L(a,()=>{g.isFocusedToastEscapeKeyDownRef.current||z(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(K.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:m,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:L(e.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,z()))}),onPointerDown:L(e.onPointerDown,M=>{M.button===0&&(b.current={x:M.clientX,y:M.clientY})}),onPointerMove:L(e.onPointerMove,M=>{if(!b.current)return;const Y=M.clientX-b.current.x,U=M.clientY-b.current.y,Q=!!_.current,C=["left","right"].includes(g.swipeDirection),P=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,F=C?P(0,Y):0,$=C?0:P(0,U),q=M.pointerType==="touch"?10:2,J={x:F,y:$},ce={originalEvent:M,delta:J};Q?(_.current=J,Za(zC,f,ce,{discrete:!1})):pg(J,g.swipeDirection,q)?(_.current=J,Za(UC,d,ce,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(Y)>q||Math.abs(U)>q)&&(b.current=null)}),onPointerUp:L(e.onPointerUp,M=>{const Y=_.current,U=M.target;if(U.hasPointerCapture(M.pointerId)&&U.releasePointerCapture(M.pointerId),_.current=null,b.current=null,Y){const Q=M.currentTarget,C={originalEvent:M,delta:Y};pg(Y,g.swipeDirection,g.swipeThreshold)?Za(WC,v,C,{discrete:!0}):Za(BC,p,C,{discrete:!0}),Q.addEventListener("click",P=>P.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),GC=e=>{const{__scopeToast:t,children:r,...n}=e,s=Oc(Mc,t),[o,i]=h.useState(!1),[a,c]=h.useState(!1);return QC(()=>i(!0)),h.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:l.jsx(ba,{asChild:!0,children:l.jsx(_a,{...n,children:o&&l.jsxs(l.Fragment,{children:[s.label," ",r]})})})},KC="ToastTitle",lx=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(K.div,{...n,ref:t})});lx.displayName=KC;var YC="ToastDescription",cx=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return l.jsx(K.div,{...n,ref:t})});cx.displayName=YC;var ux="ToastAction",dx=h.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?l.jsx(hx,{altText:r,asChild:!0,children:l.jsx(Fh,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ux}\`. Expected non-empty \`string\`.`),null)});dx.displayName=ux;var fx="ToastClose",Fh=h.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,s=VC(fx,r);return l.jsx(hx,{asChild:!0,children:l.jsx(K.button,{type:"button",...n,ref:t,onClick:L(e.onClick,s.onClose)})})});Fh.displayName=fx;var hx=h.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...s}=e;return l.jsx(K.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:t})});function px(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),XC(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=n.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...px(n))}}),t}function Za(e,t,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?Ih(s,o):s.dispatchEvent(o)}var pg=(e,t,r=0)=>{const n=Math.abs(e.x),s=Math.abs(e.y),o=n>s;return t==="left"||t==="right"?o&&n>r:!o&&s>r};function QC(e=()=>{}){const t=ot(e);Ge(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function XC(e){return e.nodeType===e.ELEMENT_NODE}function JC(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function Bu(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var ZC=nx,mx=ox,gx=ax,vx=lx,yx=cx,wx=dx,xx=Fh;function bx(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=bx(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function _x(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=bx(e))&&(n&&(n+=" "),n+=t);return n}const mg=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,gg=_x,Jo=(e,t)=>r=>{var n;if((t==null?void 0:t.variants)==null)return gg(e,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=r==null?void 0:r[u],f=o==null?void 0:o[u];if(d===null)return null;const p=mg(d)||mg(f);return s[u][p]}),a=r&&Object.entries(r).reduce((u,d)=>{let[f,p]=d;return p===void 0||(u[f]=p),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:p,...v}=d;return Object.entries(v).every(y=>{let[g,x]=y;return Array.isArray(x)?x.includes({...o,...a}[g]):{...o,...a}[g]===x})?[...u,f,p]:u},[]);return gg(e,i,c,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kx=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=h.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:i,...a},c)=>h.createElement("svg",{ref:c,...tN,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:kx("lucide",s),...a},[...i.map(([u,d])=>h.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=(e,t)=>{const r=h.forwardRef(({className:n,...s},o)=>h.createElement(rN,{ref:o,iconNode:t,className:kx(`lucide-${eN(e)}`,n),...s}));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=xe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=xe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=xe("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=xe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=xe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uh=xe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=xe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=xe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=xe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=xe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=xe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=xe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=xe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=xe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=xe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fN=xe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=xe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=xe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=xe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=xe("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pN=xe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=xe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=xe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=xe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gN=xe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=xe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ds=xe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Bh="-",vN=e=>{const t=wN(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:i=>{const a=i.split(Bh);return a[0]===""&&a.length!==1&&a.shift(),Rx(a,t)||yN(i)},getConflictingClassGroupIds:(i,a)=>{const c=r[i]||[];return a&&n[i]?[...c,...n[i]]:c}}},Rx=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?Rx(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(Bh);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},vg=/^\[(.+)\]$/,yN=e=>{if(vg.test(e)){const t=vg.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},wN=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return bN(Object.entries(e.classGroups),r).forEach(([o,i])=>{cf(i,n,o,t)}),n},cf=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:yg(t,s);o.classGroupId=r;return}if(typeof s=="function"){if(xN(s)){cf(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,i])=>{cf(i,yg(t,o),r,n)})})},yg=(e,t)=>{let r=e;return t.split(Bh).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},xN=e=>e.isThemeGetter,bN=(e,t)=>t?e.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[r,s]}):e,_N=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(o,i)=>{r.set(o,i),t++,t>e&&(t=0,n=r,r=new Map)};return{get(o){let i=r.get(o);if(i!==void 0)return i;if((i=n.get(o))!==void 0)return s(o,i),i},set(o,i){r.has(o)?r.set(o,i):s(o,i)}}},Ax="!",kN=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],o=t.length,i=a=>{const c=[];let u=0,d=0,f;for(let x=0;x<a.length;x++){let w=a[x];if(u===0){if(w===s&&(n||a.slice(x,x+o)===t)){c.push(a.slice(d,x)),d=x+o;continue}if(w==="/"){f=x;continue}}w==="["?u++:w==="]"&&u--}const p=c.length===0?a:a.substring(d),v=p.startsWith(Ax),y=v?p.substring(1):p,g=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:i}):i},jN=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},SN=e=>({cache:_N(e.cacheSize),parseClassName:kN(e),...vN(e)}),EN=/\s+/,CN=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(EN);let a="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:v}=r(u);let y=!!v,g=n(y?p.substring(0,v):p);if(!g){if(!y){a=u+(a.length>0?" "+a:a);continue}if(g=n(p),!g){a=u+(a.length>0?" "+a:a);continue}y=!1}const x=jN(d).join(":"),w=f?x+Ax:x,m=w+g;if(o.includes(m))continue;o.push(m);const b=s(g,y);for(let _=0;_<b.length;++_){const k=b[_];o.push(w+k)}a=u+(a.length>0?" "+a:a)}return a};function NN(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=Ox(t))&&(n&&(n+=" "),n+=r);return n}const Ox=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=Ox(e[n]))&&(r&&(r+=" "),r+=t);return r};function PN(e,...t){let r,n,s,o=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return r=SN(u),n=r.cache.get,s=r.cache.set,o=a,a(c)}function a(c){const u=n(c);if(u)return u;const d=CN(c,r);return s(c,d),d}return function(){return o(NN.apply(null,arguments))}}const Ce=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},Mx=/^\[(?:([a-z-]+):)?(.+)\]$/i,TN=/^\d+\/\d+$/,RN=new Set(["px","full","screen"]),AN=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ON=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,MN=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,DN=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,IN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$r=e=>xo(e)||RN.has(e)||TN.test(e),un=e=>Zo(e,"length",HN),xo=e=>!!e&&!Number.isNaN(Number(e)),Wu=e=>Zo(e,"number",xo),vi=e=>!!e&&Number.isInteger(Number(e)),LN=e=>e.endsWith("%")&&xo(e.slice(0,-1)),te=e=>Mx.test(e),dn=e=>AN.test(e),$N=new Set(["length","size","percentage"]),FN=e=>Zo(e,$N,Dx),UN=e=>Zo(e,"position",Dx),zN=new Set(["image","url"]),BN=e=>Zo(e,zN,qN),WN=e=>Zo(e,"",VN),yi=()=>!0,Zo=(e,t,r)=>{const n=Mx.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},HN=e=>ON.test(e)&&!MN.test(e),Dx=()=>!1,VN=e=>DN.test(e),qN=e=>IN.test(e),GN=()=>{const e=Ce("colors"),t=Ce("spacing"),r=Ce("blur"),n=Ce("brightness"),s=Ce("borderColor"),o=Ce("borderRadius"),i=Ce("borderSpacing"),a=Ce("borderWidth"),c=Ce("contrast"),u=Ce("grayscale"),d=Ce("hueRotate"),f=Ce("invert"),p=Ce("gap"),v=Ce("gradientColorStops"),y=Ce("gradientColorStopPositions"),g=Ce("inset"),x=Ce("margin"),w=Ce("opacity"),m=Ce("padding"),b=Ce("saturate"),_=Ce("scale"),k=Ce("sepia"),j=Ce("skew"),E=Ce("space"),S=Ce("translate"),N=()=>["auto","contain","none"],T=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",te,t],D=()=>[te,t],B=()=>["",$r,un],M=()=>["auto",xo,te],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],C=()=>["start","end","center","between","around","evenly","stretch"],P=()=>["","0",te],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],$=()=>[xo,te];return{cacheSize:500,separator:":",theme:{colors:[yi],spacing:[$r,un],blur:["none","",dn,te],brightness:$(),borderColor:[e],borderRadius:["none","","full",dn,te],borderSpacing:D(),borderWidth:B(),contrast:$(),grayscale:P(),hueRotate:$(),invert:P(),gap:D(),gradientColorStops:[e],gradientColorStopPositions:[LN,un],inset:z(),margin:z(),opacity:$(),padding:D(),saturate:$(),scale:$(),sepia:P(),skew:$(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",te]}],container:["container"],columns:[{columns:[dn]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),te]}],overflow:[{overflow:T()}],"overflow-x":[{"overflow-x":T()}],"overflow-y":[{"overflow-y":T()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",vi,te]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",te]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",vi,te]}],"grid-cols":[{"grid-cols":[yi]}],"col-start-end":[{col:["auto",{span:["full",vi,te]},te]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[yi]}],"row-start-end":[{row:["auto",{span:[vi,te]},te]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",te]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",te]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...C()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...C(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...C(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[E]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[E]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",te,t]}],"min-w":[{"min-w":[te,t,"min","max","fit"]}],"max-w":[{"max-w":[te,t,"none","full","min","max","fit","prose",{screen:[dn]},dn]}],h:[{h:[te,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[te,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[te,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[te,t,"auto","min","max","fit"]}],"font-size":[{text:["base",dn,un]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Wu]}],"font-family":[{font:[yi]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",te]}],"line-clamp":[{"line-clamp":["none",xo,Wu]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$r,te]}],"list-image":[{"list-image":["none",te]}],"list-style-type":[{list:["none","disc","decimal",te]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$r,un]}],"underline-offset":[{"underline-offset":["auto",$r,te]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",te]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",te]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),UN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",FN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},BN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:U()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[$r,te]}],"outline-w":[{outline:[$r,un]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[$r,un]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",dn,WN]}],"shadow-color":[{shadow:[yi]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",dn,te]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",te]}],duration:[{duration:$()}],ease:[{ease:["linear","in","out","in-out",te]}],delay:[{delay:$()}],animate:[{animate:["none","spin","ping","pulse","bounce",te]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[vi,te]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",te]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",te]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",te]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[$r,un,Wu]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},KN=PN(GN);function H(...e){return KN(_x(e))}const YN=ZC,Ix=h.forwardRef(({className:e,...t},r)=>l.jsx(mx,{ref:r,className:H("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Ix.displayName=mx.displayName;const QN=Jo("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Lx=h.forwardRef(({className:e,variant:t,...r},n)=>l.jsx(gx,{ref:n,className:H(QN({variant:t}),e),...r}));Lx.displayName=gx.displayName;const XN=h.forwardRef(({className:e,...t},r)=>l.jsx(wx,{ref:r,className:H("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));XN.displayName=wx.displayName;const $x=h.forwardRef(({className:e,...t},r)=>l.jsx(xx,{ref:r,className:H("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:l.jsx(Ds,{className:"h-4 w-4"})}));$x.displayName=xx.displayName;const Fx=h.forwardRef(({className:e,...t},r)=>l.jsx(vx,{ref:r,className:H("text-sm font-semibold",e),...t}));Fx.displayName=vx.displayName;const Ux=h.forwardRef(({className:e,...t},r)=>l.jsx(yx,{ref:r,className:H("text-sm opacity-90",e),...t}));Ux.displayName=yx.displayName;function JN(){const{toasts:e}=Se();return l.jsxs(YN,{children:[e.map(function({id:t,title:r,description:n,action:s,...o}){return l.jsxs(Lx,{...o,children:[l.jsxs("div",{className:"grid gap-1",children:[r&&l.jsx(Fx,{children:r}),n&&l.jsx(Ux,{children:n})]}),s,l.jsx($x,{})]},t)}),l.jsx(Ix,{})]})}var wg=["light","dark"],ZN="(prefers-color-scheme: dark)",eP=h.createContext(void 0),tP={setTheme:e=>{},themes:[]},rP=()=>{var e;return(e=h.useContext(eP))!=null?e:tP};h.memo(({forcedTheme:e,storageKey:t,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:c})=>{let u=o==="system",d=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,f=s?wg.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(y,g=!1,x=!0)=>{let w=i?i[y]:y,m=g?y+"|| ''":`'${w}'`,b="";return s&&x&&!g&&wg.includes(y)&&(b+=`d.style.colorScheme = '${y}';`),r==="class"?g||w?b+=`c.add(${m})`:b+="null":w&&(b+=`d[s](n,${m})`),b},v=e?`!function(){${d}${p(e)}}()`:n?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${ZN}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${u?"":"else{"+p(o,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${f}}catch(t){}}();`;return h.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:v}})});var nP=e=>{switch(e){case"success":return iP;case"info":return lP;case"warning":return aP;case"error":return cP;default:return null}},sP=Array(12).fill(0),oP=({visible:e})=>A.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},A.createElement("div",{className:"sonner-spinner"},sP.map((t,r)=>A.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),iP=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),aP=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),lP=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),cP=A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},A.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),uP=()=>{let[e,t]=A.useState(document.hidden);return A.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},uf=1,dP=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:uf++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:r}),{...a,...e,id:s,dismissible:i,title:r}):a):this.addToast({title:r,...n,dismissible:i,id:s}),s},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),s=r!==void 0;return n.then(async o=>{if(hP(o)&&!o.ok){s=!1;let i=typeof t.error=="function"?await t.error(`HTTP error! status: ${o.status}`):t.error,a=typeof t.description=="function"?await t.description(`HTTP error! status: ${o.status}`):t.description;this.create({id:r,type:"error",message:i,description:a})}else if(t.success!==void 0){s=!1;let i=typeof t.success=="function"?await t.success(o):t.success,a=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"success",message:i,description:a})}}).catch(async o=>{if(t.error!==void 0){s=!1;let i=typeof t.error=="function"?await t.error(o):t.error,a=typeof t.description=="function"?await t.description(o):t.description;this.create({id:r,type:"error",message:i,description:a})}}).finally(()=>{var o;s&&(this.dismiss(r),r=void 0),(o=t.finally)==null||o.call(t)}),r},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||uf++;return this.create({jsx:e(r),id:r,...t}),r},this.subscribers=[],this.toasts=[]}},Lt=new dP,fP=(e,t)=>{let r=(t==null?void 0:t.id)||uf++;return Lt.addToast({title:e,...t,id:r}),r},hP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",pP=fP,mP=()=>Lt.toasts;Object.assign(pP,{success:Lt.success,info:Lt.info,warning:Lt.warning,error:Lt.error,custom:Lt.custom,message:Lt.message,promise:Lt.promise,dismiss:Lt.dismiss,loading:Lt.loading},{getHistory:mP});function gP(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}gP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function el(e){return e.label!==void 0}var vP=3,yP="32px",wP=4e3,xP=356,bP=14,_P=20,kP=200;function jP(...e){return e.filter(Boolean).join(" ")}var SP=e=>{var t,r,n,s,o,i,a,c,u,d;let{invert:f,toast:p,unstyled:v,interacting:y,setHeights:g,visibleToasts:x,heights:w,index:m,toasts:b,expanded:_,removeToast:k,defaultRichColors:j,closeButton:E,style:S,cancelButtonStyle:N,actionButtonStyle:T,className:z="",descriptionClassName:D="",duration:B,position:M,gap:Y,loadingIcon:U,expandByDefault:Q,classNames:C,icons:P,closeButtonAriaLabel:F="Close toast",pauseWhenPageIsHidden:$,cn:q}=e,[J,ce]=A.useState(!1),[Fe,Z]=A.useState(!1),[G,ue]=A.useState(!1),[fe,le]=A.useState(!1),[me,he]=A.useState(0),[pt,Mt]=A.useState(0),an=A.useRef(null),Xt=A.useRef(null),os=m===0,uu=m+1<=x,Ze=p.type,zs=p.dismissible!==!1,jj=p.className||"",Sj=p.descriptionClassName||"",Aa=A.useMemo(()=>w.findIndex(ee=>ee.toastId===p.id)||0,[w,p.id]),Ej=A.useMemo(()=>{var ee;return(ee=p.closeButton)!=null?ee:E},[p.closeButton,E]),Qp=A.useMemo(()=>p.duration||B||wP,[p.duration,B]),du=A.useRef(0),Bs=A.useRef(0),Xp=A.useRef(0),Ws=A.useRef(null),[Jp,Cj]=M.split("-"),Zp=A.useMemo(()=>w.reduce((ee,Ee,be)=>be>=Aa?ee:ee+Ee.height,0),[w,Aa]),em=uP(),Nj=p.invert||f,fu=Ze==="loading";Bs.current=A.useMemo(()=>Aa*Y+Zp,[Aa,Zp]),A.useEffect(()=>{ce(!0)},[]),A.useLayoutEffect(()=>{if(!J)return;let ee=Xt.current,Ee=ee.style.height;ee.style.height="auto";let be=ee.getBoundingClientRect().height;ee.style.height=Ee,Mt(be),g(_r=>_r.find(kr=>kr.toastId===p.id)?_r.map(kr=>kr.toastId===p.id?{...kr,height:be}:kr):[{toastId:p.id,height:be,position:p.position},..._r])},[J,p.title,p.description,g,p.id]);let ln=A.useCallback(()=>{Z(!0),he(Bs.current),g(ee=>ee.filter(Ee=>Ee.toastId!==p.id)),setTimeout(()=>{k(p)},kP)},[p,k,g,Bs]);A.useEffect(()=>{if(p.promise&&Ze==="loading"||p.duration===1/0||p.type==="loading")return;let ee,Ee=Qp;return _||y||$&&em?(()=>{if(Xp.current<du.current){let be=new Date().getTime()-du.current;Ee=Ee-be}Xp.current=new Date().getTime()})():Ee!==1/0&&(du.current=new Date().getTime(),ee=setTimeout(()=>{var be;(be=p.onAutoClose)==null||be.call(p,p),ln()},Ee)),()=>clearTimeout(ee)},[_,y,Q,p,Qp,ln,p.promise,Ze,$,em]),A.useEffect(()=>{let ee=Xt.current;if(ee){let Ee=ee.getBoundingClientRect().height;return Mt(Ee),g(be=>[{toastId:p.id,height:Ee,position:p.position},...be]),()=>g(be=>be.filter(_r=>_r.toastId!==p.id))}},[g,p.id]),A.useEffect(()=>{p.delete&&ln()},[ln,p.delete]);function Pj(){return P!=null&&P.loading?A.createElement("div",{className:"sonner-loader","data-visible":Ze==="loading"},P.loading):U?A.createElement("div",{className:"sonner-loader","data-visible":Ze==="loading"},U):A.createElement(oP,{visible:Ze==="loading"})}return A.createElement("li",{"aria-live":p.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:Xt,className:q(z,jj,C==null?void 0:C.toast,(t=p==null?void 0:p.classNames)==null?void 0:t.toast,C==null?void 0:C.default,C==null?void 0:C[Ze],(r=p==null?void 0:p.classNames)==null?void 0:r[Ze]),"data-sonner-toast":"","data-rich-colors":(n=p.richColors)!=null?n:j,"data-styled":!(p.jsx||p.unstyled||v),"data-mounted":J,"data-promise":!!p.promise,"data-removed":Fe,"data-visible":uu,"data-y-position":Jp,"data-x-position":Cj,"data-index":m,"data-front":os,"data-swiping":G,"data-dismissible":zs,"data-type":Ze,"data-invert":Nj,"data-swipe-out":fe,"data-expanded":!!(_||Q&&J),style:{"--index":m,"--toasts-before":m,"--z-index":b.length-m,"--offset":`${Fe?me:Bs.current}px`,"--initial-height":Q?"auto":`${pt}px`,...S,...p.style},onPointerDown:ee=>{fu||!zs||(an.current=new Date,he(Bs.current),ee.target.setPointerCapture(ee.pointerId),ee.target.tagName!=="BUTTON"&&(ue(!0),Ws.current={x:ee.clientX,y:ee.clientY}))},onPointerUp:()=>{var ee,Ee,be,_r;if(fe||!zs)return;Ws.current=null;let kr=Number(((ee=Xt.current)==null?void 0:ee.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Oa=new Date().getTime()-((Ee=an.current)==null?void 0:Ee.getTime()),Tj=Math.abs(kr)/Oa;if(Math.abs(kr)>=_P||Tj>.11){he(Bs.current),(be=p.onDismiss)==null||be.call(p,p),ln(),le(!0);return}(_r=Xt.current)==null||_r.style.setProperty("--swipe-amount","0px"),ue(!1)},onPointerMove:ee=>{var Ee;if(!Ws.current||!zs)return;let be=ee.clientY-Ws.current.y,_r=ee.clientX-Ws.current.x,kr=(Jp==="top"?Math.min:Math.max)(0,be),Oa=ee.pointerType==="touch"?10:2;Math.abs(kr)>Oa?(Ee=Xt.current)==null||Ee.style.setProperty("--swipe-amount",`${be}px`):Math.abs(_r)>Oa&&(Ws.current=null)}},Ej&&!p.jsx?A.createElement("button",{"aria-label":F,"data-disabled":fu,"data-close-button":!0,onClick:fu||!zs?()=>{}:()=>{var ee;ln(),(ee=p.onDismiss)==null||ee.call(p,p)},className:q(C==null?void 0:C.closeButton,(s=p==null?void 0:p.classNames)==null?void 0:s.closeButton)},A.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},A.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),A.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,p.jsx||A.isValidElement(p.title)?p.jsx||p.title:A.createElement(A.Fragment,null,Ze||p.icon||p.promise?A.createElement("div",{"data-icon":"",className:q(C==null?void 0:C.icon,(o=p==null?void 0:p.classNames)==null?void 0:o.icon)},p.promise||p.type==="loading"&&!p.icon?p.icon||Pj():null,p.type!=="loading"?p.icon||(P==null?void 0:P[Ze])||nP(Ze):null):null,A.createElement("div",{"data-content":"",className:q(C==null?void 0:C.content,(i=p==null?void 0:p.classNames)==null?void 0:i.content)},A.createElement("div",{"data-title":"",className:q(C==null?void 0:C.title,(a=p==null?void 0:p.classNames)==null?void 0:a.title)},p.title),p.description?A.createElement("div",{"data-description":"",className:q(D,Sj,C==null?void 0:C.description,(c=p==null?void 0:p.classNames)==null?void 0:c.description)},p.description):null),A.isValidElement(p.cancel)?p.cancel:p.cancel&&el(p.cancel)?A.createElement("button",{"data-button":!0,"data-cancel":!0,style:p.cancelButtonStyle||N,onClick:ee=>{var Ee,be;el(p.cancel)&&zs&&((be=(Ee=p.cancel).onClick)==null||be.call(Ee,ee),ln())},className:q(C==null?void 0:C.cancelButton,(u=p==null?void 0:p.classNames)==null?void 0:u.cancelButton)},p.cancel.label):null,A.isValidElement(p.action)?p.action:p.action&&el(p.action)?A.createElement("button",{"data-button":!0,"data-action":!0,style:p.actionButtonStyle||T,onClick:ee=>{var Ee,be;el(p.action)&&(ee.defaultPrevented||((be=(Ee=p.action).onClick)==null||be.call(Ee,ee),ln()))},className:q(C==null?void 0:C.actionButton,(d=p==null?void 0:p.classNames)==null?void 0:d.actionButton)},p.action.label):null))};function xg(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var EP=e=>{let{invert:t,position:r="bottom-right",hotkey:n=["altKey","KeyT"],expand:s,closeButton:o,className:i,offset:a,theme:c="light",richColors:u,duration:d,style:f,visibleToasts:p=vP,toastOptions:v,dir:y=xg(),gap:g=bP,loadingIcon:x,icons:w,containerAriaLabel:m="Notifications",pauseWhenPageIsHidden:b,cn:_=jP}=e,[k,j]=A.useState([]),E=A.useMemo(()=>Array.from(new Set([r].concat(k.filter($=>$.position).map($=>$.position)))),[k,r]),[S,N]=A.useState([]),[T,z]=A.useState(!1),[D,B]=A.useState(!1),[M,Y]=A.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=A.useRef(null),Q=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=A.useRef(null),P=A.useRef(!1),F=A.useCallback($=>{var q;(q=k.find(J=>J.id===$.id))!=null&&q.delete||Lt.dismiss($.id),j(J=>J.filter(({id:ce})=>ce!==$.id))},[k]);return A.useEffect(()=>Lt.subscribe($=>{if($.dismiss){j(q=>q.map(J=>J.id===$.id?{...J,delete:!0}:J));return}setTimeout(()=>{Jw.flushSync(()=>{j(q=>{let J=q.findIndex(ce=>ce.id===$.id);return J!==-1?[...q.slice(0,J),{...q[J],...$},...q.slice(J+1)]:[$,...q]})})})}),[]),A.useEffect(()=>{if(c!=="system"){Y(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:$})=>{Y($?"dark":"light")})},[c]),A.useEffect(()=>{k.length<=1&&z(!1)},[k]),A.useEffect(()=>{let $=q=>{var J,ce;n.every(Fe=>q[Fe]||q.code===Fe)&&(z(!0),(J=U.current)==null||J.focus()),q.code==="Escape"&&(document.activeElement===U.current||(ce=U.current)!=null&&ce.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",$),()=>document.removeEventListener("keydown",$)},[n]),A.useEffect(()=>{if(U.current)return()=>{C.current&&(C.current.focus({preventScroll:!0}),C.current=null,P.current=!1)}},[U.current]),k.length?A.createElement("section",{"aria-label":`${m} ${Q}`,tabIndex:-1},E.map(($,q)=>{var J;let[ce,Fe]=$.split("-");return A.createElement("ol",{key:$,dir:y==="auto"?xg():y,tabIndex:-1,ref:U,className:i,"data-sonner-toaster":!0,"data-theme":M,"data-y-position":ce,"data-x-position":Fe,style:{"--front-toast-height":`${((J=S[0])==null?void 0:J.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||yP,"--width":`${xP}px`,"--gap":`${g}px`,...f},onBlur:Z=>{P.current&&!Z.currentTarget.contains(Z.relatedTarget)&&(P.current=!1,C.current&&(C.current.focus({preventScroll:!0}),C.current=null))},onFocus:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||P.current||(P.current=!0,C.current=Z.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{D||z(!1)},onPointerDown:Z=>{Z.target instanceof HTMLElement&&Z.target.dataset.dismissible==="false"||B(!0)},onPointerUp:()=>B(!1)},k.filter(Z=>!Z.position&&q===0||Z.position===$).map((Z,G)=>{var ue,fe;return A.createElement(SP,{key:Z.id,icons:w,index:G,toast:Z,defaultRichColors:u,duration:(ue=v==null?void 0:v.duration)!=null?ue:d,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:t,visibleToasts:p,closeButton:(fe=v==null?void 0:v.closeButton)!=null?fe:o,interacting:D,position:$,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:F,toasts:k.filter(le=>le.position==Z.position),heights:S.filter(le=>le.position==Z.position),setHeights:N,expandByDefault:s,gap:g,loadingIcon:x,expanded:T,pauseWhenPageIsHidden:b,cn:_})}))})):null};const CP=({...e})=>{const{theme:t="system"}=rP();return l.jsx(EP,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var NP=Yv.useId||(()=>{}),PP=0;function nr(e){const[t,r]=h.useState(NP());return Ge(()=>{r(n=>n??String(PP++))},[e]),t?`radix-${t}`:""}const TP=["top","right","bottom","left"],Gn=Math.min,Ft=Math.max,ec=Math.round,tl=Math.floor,Kn=e=>({x:e,y:e}),RP={left:"right",right:"left",bottom:"top",top:"bottom"},AP={start:"end",end:"start"};function df(e,t,r){return Ft(e,Gn(t,r))}function tn(e,t){return typeof e=="function"?e(t):e}function rn(e){return e.split("-")[0]}function ei(e){return e.split("-")[1]}function Wh(e){return e==="x"?"y":"x"}function Hh(e){return e==="y"?"height":"width"}function Yn(e){return["top","bottom"].includes(rn(e))?"y":"x"}function Vh(e){return Wh(Yn(e))}function OP(e,t,r){r===void 0&&(r=!1);const n=ei(e),s=Vh(e),o=Hh(s);let i=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=tc(i)),[i,tc(i)]}function MP(e){const t=tc(e);return[ff(e),t,ff(t)]}function ff(e){return e.replace(/start|end/g,t=>AP[t])}function DP(e,t,r){const n=["left","right"],s=["right","left"],o=["top","bottom"],i=["bottom","top"];switch(e){case"top":case"bottom":return r?t?s:n:t?n:s;case"left":case"right":return t?o:i;default:return[]}}function IP(e,t,r,n){const s=ei(e);let o=DP(rn(e),r==="start",n);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(ff)))),o}function tc(e){return e.replace(/left|right|bottom|top/g,t=>RP[t])}function LP(e){return{top:0,right:0,bottom:0,left:0,...e}}function zx(e){return typeof e!="number"?LP(e):{top:e,right:e,bottom:e,left:e}}function rc(e){const{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function bg(e,t,r){let{reference:n,floating:s}=e;const o=Yn(t),i=Vh(t),a=Hh(i),c=rn(t),u=o==="y",d=n.x+n.width/2-s.width/2,f=n.y+n.height/2-s.height/2,p=n[a]/2-s[a]/2;let v;switch(c){case"top":v={x:d,y:n.y-s.height};break;case"bottom":v={x:d,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:f};break;case"left":v={x:n.x-s.width,y:f};break;default:v={x:n.x,y:n.y}}switch(ei(t)){case"start":v[i]-=p*(r&&u?-1:1);break;case"end":v[i]+=p*(r&&u?-1:1);break}return v}const $P=async(e,t,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:i}=r,a=o.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:f}=bg(u,n,c),p=n,v={},y=0;for(let g=0;g<a.length;g++){const{name:x,fn:w}=a[g],{x:m,y:b,data:_,reset:k}=await w({x:d,y:f,initialPlacement:n,placement:p,strategy:s,middlewareData:v,rects:u,platform:i,elements:{reference:e,floating:t}});d=m??d,f=b??f,v={...v,[x]:{...v[x],..._}},k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(p=k.placement),k.rects&&(u=k.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):k.rects),{x:d,y:f}=bg(u,p,c)),g=-1)}return{x:d,y:f,placement:p,strategy:s,middlewareData:v}};async function na(e,t){var r;t===void 0&&(t={});const{x:n,y:s,platform:o,rects:i,elements:a,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:p=!1,padding:v=0}=tn(t,e),y=zx(v),x=a[p?f==="floating"?"reference":"floating":f],w=rc(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(x)))==null||r?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:c})),m=f==="floating"?{x:n,y:s,width:i.floating.width,height:i.floating.height}:i.reference,b=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(b))?await(o.getScale==null?void 0:o.getScale(b))||{x:1,y:1}:{x:1,y:1},k=rc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:b,strategy:c}):m);return{top:(w.top-k.top+y.top)/_.y,bottom:(k.bottom-w.bottom+y.bottom)/_.y,left:(w.left-k.left+y.left)/_.x,right:(k.right-w.right+y.right)/_.x}}const FP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:s,rects:o,platform:i,elements:a,middlewareData:c}=t,{element:u,padding:d=0}=tn(e,t)||{};if(u==null)return{};const f=zx(d),p={x:r,y:n},v=Vh(s),y=Hh(v),g=await i.getDimensions(u),x=v==="y",w=x?"top":"left",m=x?"bottom":"right",b=x?"clientHeight":"clientWidth",_=o.reference[y]+o.reference[v]-p[v]-o.floating[y],k=p[v]-o.reference[v],j=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let E=j?j[b]:0;(!E||!await(i.isElement==null?void 0:i.isElement(j)))&&(E=a.floating[b]||o.floating[y]);const S=_/2-k/2,N=E/2-g[y]/2-1,T=Gn(f[w],N),z=Gn(f[m],N),D=T,B=E-g[y]-z,M=E/2-g[y]/2+S,Y=df(D,M,B),U=!c.arrow&&ei(s)!=null&&M!==Y&&o.reference[y]/2-(M<D?T:z)-g[y]/2<0,Q=U?M<D?M-D:M-B:0;return{[v]:p[v]+Q,data:{[v]:Y,centerOffset:M-Y-Q,...U&&{alignmentOffset:Q}},reset:U}}}),UP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...x}=tn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const w=rn(s),m=Yn(a),b=rn(a)===a,_=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=p||(b||!g?[tc(a)]:MP(a)),j=y!=="none";!p&&j&&k.push(...IP(a,g,y,_));const E=[a,...k],S=await na(t,x),N=[];let T=((n=o.flip)==null?void 0:n.overflows)||[];if(d&&N.push(S[w]),f){const M=OP(s,i,_);N.push(S[M[0]],S[M[1]])}if(T=[...T,{placement:s,overflows:N}],!N.every(M=>M<=0)){var z,D;const M=(((z=o.flip)==null?void 0:z.index)||0)+1,Y=E[M];if(Y)return{data:{index:M,overflows:T},reset:{placement:Y}};let U=(D=T.filter(Q=>Q.overflows[0]<=0).sort((Q,C)=>Q.overflows[1]-C.overflows[1])[0])==null?void 0:D.placement;if(!U)switch(v){case"bestFit":{var B;const Q=(B=T.filter(C=>{if(j){const P=Yn(C.placement);return P===m||P==="y"}return!0}).map(C=>[C.placement,C.overflows.filter(P=>P>0).reduce((P,F)=>P+F,0)]).sort((C,P)=>C[1]-P[1])[0])==null?void 0:B[0];Q&&(U=Q);break}case"initialPlacement":U=a;break}if(s!==U)return{reset:{placement:U}}}return{}}}};function _g(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kg(e){return TP.some(t=>e[t]>=0)}const zP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...s}=tn(e,t);switch(n){case"referenceHidden":{const o=await na(t,{...s,elementContext:"reference"}),i=_g(o,r.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:kg(i)}}}case"escaped":{const o=await na(t,{...s,altBoundary:!0}),i=_g(o,r.floating);return{data:{escapedOffsets:i,escaped:kg(i)}}}default:return{}}}}};async function BP(e,t){const{placement:r,platform:n,elements:s}=e,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),i=rn(r),a=ei(r),c=Yn(r)==="y",u=["left","top"].includes(i)?-1:1,d=o&&c?-1:1,f=tn(t,e);let{mainAxis:p,crossAxis:v,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(v=a==="end"?y*-1:y),c?{x:v*d,y:p*u}:{x:p*u,y:v*d}}const WP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:s,y:o,placement:i,middlewareData:a}=t,c=await BP(t,e);return i===((r=a.offset)==null?void 0:r.placement)&&(n=a.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:o+c.y,data:{...c,placement:i}}}}},HP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:x=>{let{x:w,y:m}=x;return{x:w,y:m}}},...c}=tn(e,t),u={x:r,y:n},d=await na(t,c),f=Yn(rn(s)),p=Wh(f);let v=u[p],y=u[f];if(o){const x=p==="y"?"top":"left",w=p==="y"?"bottom":"right",m=v+d[x],b=v-d[w];v=df(m,v,b)}if(i){const x=f==="y"?"top":"left",w=f==="y"?"bottom":"right",m=y+d[x],b=y-d[w];y=df(m,y,b)}const g=a.fn({...t,[p]:v,[f]:y});return{...g,data:{x:g.x-r,y:g.y-n,enabled:{[p]:o,[f]:i}}}}}},VP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:c=!0,crossAxis:u=!0}=tn(e,t),d={x:r,y:n},f=Yn(s),p=Wh(f);let v=d[p],y=d[f];const g=tn(a,t),x=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const b=p==="y"?"height":"width",_=o.reference[p]-o.floating[b]+x.mainAxis,k=o.reference[p]+o.reference[b]-x.mainAxis;v<_?v=_:v>k&&(v=k)}if(u){var w,m;const b=p==="y"?"width":"height",_=["top","left"].includes(rn(s)),k=o.reference[f]-o.floating[b]+(_&&((w=i.offset)==null?void 0:w[f])||0)+(_?0:x.crossAxis),j=o.reference[f]+o.reference[b]+(_?0:((m=i.offset)==null?void 0:m[f])||0)-(_?x.crossAxis:0);y<k?y=k:y>j&&(y=j)}return{[p]:v,[f]:y}}}},qP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:c=()=>{},...u}=tn(e,t),d=await na(t,u),f=rn(s),p=ei(s),v=Yn(s)==="y",{width:y,height:g}=o.floating;let x,w;f==="top"||f==="bottom"?(x=f,w=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(w=f,x=p==="end"?"top":"bottom");const m=g-d.top-d.bottom,b=y-d.left-d.right,_=Gn(g-d[x],m),k=Gn(y-d[w],b),j=!t.middlewareData.shift;let E=_,S=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(S=b),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(E=m),j&&!p){const T=Ft(d.left,0),z=Ft(d.right,0),D=Ft(d.top,0),B=Ft(d.bottom,0);v?S=y-2*(T!==0||z!==0?T+z:Ft(d.left,d.right)):E=g-2*(D!==0||B!==0?D+B:Ft(d.top,d.bottom))}await c({...t,availableWidth:S,availableHeight:E});const N=await i.getDimensions(a.floating);return y!==N.width||g!==N.height?{reset:{rects:!0}}:{}}}};function Ic(){return typeof window<"u"}function ti(e){return Bx(e)?(e.nodeName||"").toLowerCase():"#document"}function Ht(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Lr(e){var t;return(t=(Bx(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Bx(e){return Ic()?e instanceof Node||e instanceof Ht(e).Node:!1}function wr(e){return Ic()?e instanceof Element||e instanceof Ht(e).Element:!1}function Ir(e){return Ic()?e instanceof HTMLElement||e instanceof Ht(e).HTMLElement:!1}function jg(e){return!Ic()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Ht(e).ShadowRoot}function ka(e){const{overflow:t,overflowX:r,overflowY:n,display:s}=xr(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(s)}function GP(e){return["table","td","th"].includes(ti(e))}function Lc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function qh(e){const t=Gh(),r=wr(e)?xr(e):e;return r.transform!=="none"||r.perspective!=="none"||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function KP(e){let t=Qn(e);for(;Ir(t)&&!Bo(t);){if(qh(t))return t;if(Lc(t))return null;t=Qn(t)}return null}function Gh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bo(e){return["html","body","#document"].includes(ti(e))}function xr(e){return Ht(e).getComputedStyle(e)}function $c(e){return wr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Qn(e){if(ti(e)==="html")return e;const t=e.assignedSlot||e.parentNode||jg(e)&&e.host||Lr(e);return jg(t)?t.host:t}function Wx(e){const t=Qn(e);return Bo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ir(t)&&ka(t)?t:Wx(t)}function sa(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=Wx(e),o=s===((n=e.ownerDocument)==null?void 0:n.body),i=Ht(s);if(o){const a=hf(i);return t.concat(i,i.visualViewport||[],ka(s)?s:[],a&&r?sa(a):[])}return t.concat(s,sa(s,[],r))}function hf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Hx(e){const t=xr(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const s=Ir(e),o=s?e.offsetWidth:r,i=s?e.offsetHeight:n,a=ec(r)!==o||ec(n)!==i;return a&&(r=o,n=i),{width:r,height:n,$:a}}function Kh(e){return wr(e)?e:e.contextElement}function bo(e){const t=Kh(e);if(!Ir(t))return Kn(1);const r=t.getBoundingClientRect(),{width:n,height:s,$:o}=Hx(t);let i=(o?ec(r.width):r.width)/n,a=(o?ec(r.height):r.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const YP=Kn(0);function Vx(e){const t=Ht(e);return!Gh()||!t.visualViewport?YP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function QP(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Ht(e)?!1:t}function Ns(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),o=Kh(e);let i=Kn(1);t&&(n?wr(n)&&(i=bo(n)):i=bo(e));const a=QP(o,r,n)?Vx(o):Kn(0);let c=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,f=s.height/i.y;if(o){const p=Ht(o),v=n&&wr(n)?Ht(n):n;let y=p,g=hf(y);for(;g&&n&&v!==y;){const x=bo(g),w=g.getBoundingClientRect(),m=xr(g),b=w.left+(g.clientLeft+parseFloat(m.paddingLeft))*x.x,_=w.top+(g.clientTop+parseFloat(m.paddingTop))*x.y;c*=x.x,u*=x.y,d*=x.x,f*=x.y,c+=b,u+=_,y=Ht(g),g=hf(y)}}return rc({width:d,height:f,x:c,y:u})}function XP(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e;const o=s==="fixed",i=Lr(n),a=t?Lc(t.floating):!1;if(n===i||a&&o)return r;let c={scrollLeft:0,scrollTop:0},u=Kn(1);const d=Kn(0),f=Ir(n);if((f||!f&&!o)&&((ti(n)!=="body"||ka(i))&&(c=$c(n)),Ir(n))){const p=Ns(n);u=bo(n),d.x=p.x+n.clientLeft,d.y=p.y+n.clientTop}return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x,y:r.y*u.y-c.scrollTop*u.y+d.y}}function JP(e){return Array.from(e.getClientRects())}function pf(e,t){const r=$c(e).scrollLeft;return t?t.left+r:Ns(Lr(e)).left+r}function ZP(e){const t=Lr(e),r=$c(e),n=e.ownerDocument.body,s=Ft(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=Ft(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let i=-r.scrollLeft+pf(e);const a=-r.scrollTop;return xr(n).direction==="rtl"&&(i+=Ft(t.clientWidth,n.clientWidth)-s),{width:s,height:o,x:i,y:a}}function eT(e,t){const r=Ht(e),n=Lr(e),s=r.visualViewport;let o=n.clientWidth,i=n.clientHeight,a=0,c=0;if(s){o=s.width,i=s.height;const u=Gh();(!u||u&&t==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:o,height:i,x:a,y:c}}function tT(e,t){const r=Ns(e,!0,t==="fixed"),n=r.top+e.clientTop,s=r.left+e.clientLeft,o=Ir(e)?bo(e):Kn(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,c=s*o.x,u=n*o.y;return{width:i,height:a,x:c,y:u}}function Sg(e,t,r){let n;if(t==="viewport")n=eT(e,r);else if(t==="document")n=ZP(Lr(e));else if(wr(t))n=tT(t,r);else{const s=Vx(e);n={...t,x:t.x-s.x,y:t.y-s.y}}return rc(n)}function qx(e,t){const r=Qn(e);return r===t||!wr(r)||Bo(r)?!1:xr(r).position==="fixed"||qx(r,t)}function rT(e,t){const r=t.get(e);if(r)return r;let n=sa(e,[],!1).filter(a=>wr(a)&&ti(a)!=="body"),s=null;const o=xr(e).position==="fixed";let i=o?Qn(e):e;for(;wr(i)&&!Bo(i);){const a=xr(i),c=qh(i);!c&&a.position==="fixed"&&(s=null),(o?!c&&!s:!c&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ka(i)&&!c&&qx(e,i))?n=n.filter(d=>d!==i):s=a,i=Qn(i)}return t.set(e,n),n}function nT(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e;const i=[...r==="clippingAncestors"?Lc(t)?[]:rT(t,this._c):[].concat(r),n],a=i[0],c=i.reduce((u,d)=>{const f=Sg(t,d,s);return u.top=Ft(f.top,u.top),u.right=Gn(f.right,u.right),u.bottom=Gn(f.bottom,u.bottom),u.left=Ft(f.left,u.left),u},Sg(t,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function sT(e){const{width:t,height:r}=Hx(e);return{width:t,height:r}}function oT(e,t,r){const n=Ir(t),s=Lr(t),o=r==="fixed",i=Ns(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const c=Kn(0);if(n||!n&&!o)if((ti(t)!=="body"||ka(s))&&(a=$c(t)),n){const v=Ns(t,!0,o,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else s&&(c.x=pf(s));let u=0,d=0;if(s&&!n&&!o){const v=s.getBoundingClientRect();d=v.top+a.scrollTop,u=v.left+a.scrollLeft-pf(s,v)}const f=i.left+a.scrollLeft-c.x-u,p=i.top+a.scrollTop-c.y-d;return{x:f,y:p,width:i.width,height:i.height}}function Hu(e){return xr(e).position==="static"}function Eg(e,t){if(!Ir(e)||xr(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Lr(e)===r&&(r=r.ownerDocument.body),r}function Gx(e,t){const r=Ht(e);if(Lc(e))return r;if(!Ir(e)){let s=Qn(e);for(;s&&!Bo(s);){if(wr(s)&&!Hu(s))return s;s=Qn(s)}return r}let n=Eg(e,t);for(;n&&GP(n)&&Hu(n);)n=Eg(n,t);return n&&Bo(n)&&Hu(n)&&!qh(n)?r:n||KP(e)||r}const iT=async function(e){const t=this.getOffsetParent||Gx,r=this.getDimensions,n=await r(e.floating);return{reference:oT(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function aT(e){return xr(e).direction==="rtl"}const lT={convertOffsetParentRelativeRectToViewportRelativeRect:XP,getDocumentElement:Lr,getClippingRect:nT,getOffsetParent:Gx,getElementRects:iT,getClientRects:JP,getDimensions:sT,getScale:bo,isElement:wr,isRTL:aT};function cT(e,t){let r=null,n;const s=Lr(e);function o(){var a;clearTimeout(n),(a=r)==null||a.disconnect(),r=null}function i(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),o();const{left:u,top:d,width:f,height:p}=e.getBoundingClientRect();if(a||t(),!f||!p)return;const v=tl(d),y=tl(s.clientWidth-(u+f)),g=tl(s.clientHeight-(d+p)),x=tl(u),m={rootMargin:-v+"px "+-y+"px "+-g+"px "+-x+"px",threshold:Ft(0,Gn(1,c))||1};let b=!0;function _(k){const j=k[0].intersectionRatio;if(j!==c){if(!b)return i();j?i(!1,j):n=setTimeout(()=>{i(!1,1e-7)},1e3)}b=!1}try{r=new IntersectionObserver(_,{...m,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,m)}r.observe(e)}return i(!0),o}function uT(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=Kh(e),d=s||o?[...u?sa(u):[],...sa(t)]:[];d.forEach(w=>{s&&w.addEventListener("scroll",r,{passive:!0}),o&&w.addEventListener("resize",r)});const f=u&&a?cT(u,r):null;let p=-1,v=null;i&&(v=new ResizeObserver(w=>{let[m]=w;m&&m.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=v)==null||b.observe(t)})),r()}),u&&!c&&v.observe(u),v.observe(t));let y,g=c?Ns(e):null;c&&x();function x(){const w=Ns(e);g&&(w.x!==g.x||w.y!==g.y||w.width!==g.width||w.height!==g.height)&&r(),g=w,y=requestAnimationFrame(x)}return r(),()=>{var w;d.forEach(m=>{s&&m.removeEventListener("scroll",r),o&&m.removeEventListener("resize",r)}),f==null||f(),(w=v)==null||w.disconnect(),v=null,c&&cancelAnimationFrame(y)}}const dT=WP,fT=HP,hT=UP,pT=qP,mT=zP,Cg=FP,gT=VP,vT=(e,t,r)=>{const n=new Map,s={platform:lT,...r},o={...s.platform,_c:n};return $P(e,t,{...s,platform:o})};var El=typeof document<"u"?h.useLayoutEffect:h.useEffect;function nc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!nc(e[n],t[n]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&e.$$typeof)&&!nc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Kx(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ng(e,t){const r=Kx(e);return Math.round(t*r)/r}function Vu(e){const t=h.useRef(e);return El(()=>{t.current=e}),t}function yT(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:c,open:u}=e,[d,f]=h.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[p,v]=h.useState(n);nc(p,n)||v(n);const[y,g]=h.useState(null),[x,w]=h.useState(null),m=h.useCallback(C=>{C!==j.current&&(j.current=C,g(C))},[]),b=h.useCallback(C=>{C!==E.current&&(E.current=C,w(C))},[]),_=o||y,k=i||x,j=h.useRef(null),E=h.useRef(null),S=h.useRef(d),N=c!=null,T=Vu(c),z=Vu(s),D=Vu(u),B=h.useCallback(()=>{if(!j.current||!E.current)return;const C={placement:t,strategy:r,middleware:p};z.current&&(C.platform=z.current),vT(j.current,E.current,C).then(P=>{const F={...P,isPositioned:D.current!==!1};M.current&&!nc(S.current,F)&&(S.current=F,Os.flushSync(()=>{f(F)}))})},[p,t,r,z,D]);El(()=>{u===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(C=>({...C,isPositioned:!1})))},[u]);const M=h.useRef(!1);El(()=>(M.current=!0,()=>{M.current=!1}),[]),El(()=>{if(_&&(j.current=_),k&&(E.current=k),_&&k){if(T.current)return T.current(_,k,B);B()}},[_,k,B,T,N]);const Y=h.useMemo(()=>({reference:j,floating:E,setReference:m,setFloating:b}),[m,b]),U=h.useMemo(()=>({reference:_,floating:k}),[_,k]),Q=h.useMemo(()=>{const C={position:r,left:0,top:0};if(!U.floating)return C;const P=Ng(U.floating,d.x),F=Ng(U.floating,d.y);return a?{...C,transform:"translate("+P+"px, "+F+"px)",...Kx(U.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:P,top:F}},[r,a,U.floating,d.x,d.y]);return h.useMemo(()=>({...d,update:B,refs:Y,elements:U,floatingStyles:Q}),[d,B,Y,U,Q])}const wT=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:s}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?Cg({element:n.current,padding:s}).fn(r):{}:n?Cg({element:n,padding:s}).fn(r):{}}}},xT=(e,t)=>({...dT(e),options:[e,t]}),bT=(e,t)=>({...fT(e),options:[e,t]}),_T=(e,t)=>({...gT(e),options:[e,t]}),kT=(e,t)=>({...hT(e),options:[e,t]}),jT=(e,t)=>({...pT(e),options:[e,t]}),ST=(e,t)=>({...mT(e),options:[e,t]}),ET=(e,t)=>({...wT(e),options:[e,t]});var CT="Arrow",Yx=h.forwardRef((e,t)=>{const{children:r,width:n=10,height:s=5,...o}=e;return l.jsx(K.svg,{...o,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Yx.displayName=CT;var NT=Yx;function PT(e,t=[]){let r=[];function n(o,i){const a=h.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:p,children:v,...y}=f,g=(p==null?void 0:p[e][c])||a,x=h.useMemo(()=>y,Object.values(y));return l.jsx(g.Provider,{value:x,children:v})}function d(f,p){const v=(p==null?void 0:p[e][c])||a,y=h.useContext(v);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,TT(s,...t)]}function TT(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}function Yh(e){const[t,r]=h.useState(void 0);return Ge(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const c=o.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;r({width:i,height:a})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var Qh="Popper",[Qx,ri]=PT(Qh),[RT,Xx]=Qx(Qh),Jx=e=>{const{__scopePopper:t,children:r}=e,[n,s]=h.useState(null);return l.jsx(RT,{scope:t,anchor:n,onAnchorChange:s,children:r})};Jx.displayName=Qh;var Zx="PopperAnchor",e0=h.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...s}=e,o=Xx(Zx,r),i=h.useRef(null),a=se(t,i);return h.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||i.current)}),n?null:l.jsx(K.div,{...s,ref:a})});e0.displayName=Zx;var Xh="PopperContent",[AT,OT]=Qx(Xh),t0=h.forwardRef((e,t)=>{var G,ue,fe,le,me,he;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:v="optimized",onPlaced:y,...g}=e,x=Xx(Xh,r),[w,m]=h.useState(null),b=se(t,pt=>m(pt)),[_,k]=h.useState(null),j=Yh(_),E=(j==null?void 0:j.width)??0,S=(j==null?void 0:j.height)??0,N=n+(o!=="center"?"-"+o:""),T=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},z=Array.isArray(u)?u:[u],D=z.length>0,B={padding:T,boundary:z.filter(DT),altBoundary:D},{refs:M,floatingStyles:Y,placement:U,isPositioned:Q,middlewareData:C}=yT({strategy:"fixed",placement:N,whileElementsMounted:(...pt)=>uT(...pt,{animationFrame:v==="always"}),elements:{reference:x.anchor},middleware:[xT({mainAxis:s+S,alignmentAxis:i}),c&&bT({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?_T():void 0,...B}),c&&kT({...B}),jT({...B,apply:({elements:pt,rects:Mt,availableWidth:an,availableHeight:Xt})=>{const{width:os,height:uu}=Mt.reference,Ze=pt.floating.style;Ze.setProperty("--radix-popper-available-width",`${an}px`),Ze.setProperty("--radix-popper-available-height",`${Xt}px`),Ze.setProperty("--radix-popper-anchor-width",`${os}px`),Ze.setProperty("--radix-popper-anchor-height",`${uu}px`)}}),_&&ET({element:_,padding:a}),IT({arrowWidth:E,arrowHeight:S}),p&&ST({strategy:"referenceHidden",...B})]}),[P,F]=s0(U),$=ot(y);Ge(()=>{Q&&($==null||$())},[Q,$]);const q=(G=C.arrow)==null?void 0:G.x,J=(ue=C.arrow)==null?void 0:ue.y,ce=((fe=C.arrow)==null?void 0:fe.centerOffset)!==0,[Fe,Z]=h.useState();return Ge(()=>{w&&Z(window.getComputedStyle(w).zIndex)},[w]),l.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:Q?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Fe,"--radix-popper-transform-origin":[(le=C.transformOrigin)==null?void 0:le.x,(me=C.transformOrigin)==null?void 0:me.y].join(" "),...((he=C.hide)==null?void 0:he.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(AT,{scope:r,placedSide:P,onArrowChange:k,arrowX:q,arrowY:J,shouldHideArrow:ce,children:l.jsx(K.div,{"data-side":P,"data-align":F,...g,ref:b,style:{...g.style,animation:Q?void 0:"none"}})})})});t0.displayName=Xh;var r0="PopperArrow",MT={top:"bottom",right:"left",bottom:"top",left:"right"},n0=h.forwardRef(function(t,r){const{__scopePopper:n,...s}=t,o=OT(r0,n),i=MT[o.placedSide];return l.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:l.jsx(NT,{...s,ref:r,style:{...s.style,display:"block"}})})});n0.displayName=r0;function DT(e){return e!==null}var IT=e=>({name:"transformOrigin",options:e,fn(t){var x,w,m;const{placement:r,rects:n,middlewareData:s}=t,i=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=s0(r),f={start:"0%",center:"50%",end:"100%"}[d],p=(((w=s.arrow)==null?void 0:w.x)??0)+a/2,v=(((m=s.arrow)==null?void 0:m.y)??0)+c/2;let y="",g="";return u==="bottom"?(y=i?f:`${p}px`,g=`${-c}px`):u==="top"?(y=i?f:`${p}px`,g=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,g=i?f:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,g=i?f:`${v}px`),{data:{x:y,y:g}}}});function s0(e){const[t,r="center"]=e.split("-");return[t,r]}var o0=Jx,Jh=e0,Zh=t0,ep=n0,[Fc,A5]=Yt("Tooltip",[ri]),tp=ri(),i0="TooltipProvider",LT=700,Pg="tooltip.open",[$T,a0]=Fc(i0),l0=e=>{const{__scopeTooltip:t,delayDuration:r=LT,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=e,[i,a]=h.useState(!0),c=h.useRef(!1),u=h.useRef(0);return h.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),l.jsx($T,{scope:t,isOpenDelayed:i,delayDuration:r,onOpen:h.useCallback(()=>{window.clearTimeout(u.current),a(!1)},[]),onClose:h.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a(!0),n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:h.useCallback(d=>{c.current=d},[]),disableHoverableContent:s,children:o})};l0.displayName=i0;var c0="Tooltip",[O5,Uc]=Fc(c0),mf="TooltipTrigger",FT=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=Uc(mf,r),o=a0(mf,r),i=tp(r),a=h.useRef(null),c=se(t,a,s.onTriggerChange),u=h.useRef(!1),d=h.useRef(!1),f=h.useCallback(()=>u.current=!1,[]);return h.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Jh,{asChild:!0,...i,children:l.jsx(K.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:c,onPointerMove:L(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:L(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:L(e.onPointerDown,()=>{u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:L(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:L(e.onBlur,s.onClose),onClick:L(e.onClick,s.onClose)})})});FT.displayName=mf;var UT="TooltipPortal",[M5,zT]=Fc(UT,{forceMount:void 0}),Wo="TooltipContent",u0=h.forwardRef((e,t)=>{const r=zT(Wo,e.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=e,i=Uc(Wo,e.__scopeTooltip);return l.jsx(Qt,{present:n||i.open,children:i.disableHoverableContent?l.jsx(d0,{side:s,...o,ref:t}):l.jsx(BT,{side:s,...o,ref:t})})}),BT=h.forwardRef((e,t)=>{const r=Uc(Wo,e.__scopeTooltip),n=a0(Wo,e.__scopeTooltip),s=h.useRef(null),o=se(t,s),[i,a]=h.useState(null),{trigger:c,onClose:u}=r,d=s.current,{onPointerInTransitChange:f}=n,p=h.useCallback(()=>{a(null),f(!1)},[f]),v=h.useCallback((y,g)=>{const x=y.currentTarget,w={x:y.clientX,y:y.clientY},m=qT(w,x.getBoundingClientRect()),b=GT(w,m),_=KT(g.getBoundingClientRect()),k=QT([...b,..._]);a(k),f(!0)},[f]);return h.useEffect(()=>()=>p(),[p]),h.useEffect(()=>{if(c&&d){const y=x=>v(x,d),g=x=>v(x,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",g)}}},[c,d,v,p]),h.useEffect(()=>{if(i){const y=g=>{const x=g.target,w={x:g.clientX,y:g.clientY},m=(c==null?void 0:c.contains(x))||(d==null?void 0:d.contains(x)),b=!YT(w,i);m?p():b&&(p(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,i,u,p]),l.jsx(d0,{...e,ref:o})}),[WT,HT]=Fc(c0,{isInside:!1}),d0=h.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,c=Uc(Wo,r),u=tp(r),{onClose:d}=c;return h.useEffect(()=>(document.addEventListener(Pg,d),()=>document.removeEventListener(Pg,d)),[d]),h.useEffect(()=>{if(c.trigger){const f=p=>{const v=p.target;v!=null&&v.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),l.jsx(Xo,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:l.jsxs(Zh,{"data-state":c.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(Dh,{children:n}),l.jsx(WT,{scope:r,isInside:!0,children:l.jsx(DC,{id:c.contentId,role:"tooltip",children:s||n})})]})})});u0.displayName=Wo;var f0="TooltipArrow",VT=h.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,s=tp(r);return HT(f0,r).isInside?null:l.jsx(ep,{...s,...n,ref:t})});VT.displayName=f0;function qT(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function GT(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function KT(e){const{top:t,right:r,bottom:n,left:s}=e;return[{x:s,y:t},{x:r,y:t},{x:r,y:n},{x:s,y:n}]}function YT(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-a)*(n-c)/(d-c)+a&&(s=!s)}return s}function QT(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),XT(t)}function XT(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const s=e[n];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const s=e[n];for(;r.length>=2;){const o=r[r.length-1],i=r[r.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))r.pop();else break}r.push(s)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var JT=l0,h0=u0;const ZT=JT,e2=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(h0,{ref:n,sideOffset:t,className:H("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));e2.displayName=h0.displayName;var zc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Bc=typeof window>"u"||"Deno"in globalThis;function dr(){}function t2(e,t){return typeof e=="function"?e(t):e}function r2(e){return typeof e=="number"&&e>=0&&e!==1/0}function n2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Tg(e,t){return typeof e=="function"?e(t):e}function s2(e,t){return typeof e=="function"?e(t):e}function Rg(e,t){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(n){if(t.queryHash!==rp(i,t.options))return!1}else if(!ia(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function Ag(e,t){const{exact:r,status:n,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(r){if(oa(t.options.mutationKey)!==oa(o))return!1}else if(!ia(t.options.mutationKey,o))return!1}return!(n&&t.state.status!==n||s&&!s(t))}function rp(e,t){return((t==null?void 0:t.queryKeyHashFn)||oa)(e)}function oa(e){return JSON.stringify(e,(t,r)=>gf(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function ia(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(r=>!ia(e[r],t[r])):!1}function p0(e,t){if(e===t)return e;const r=Og(e)&&Og(t);if(r||gf(e)&&gf(t)){const n=r?e:Object.keys(e),s=n.length,o=r?t:Object.keys(t),i=o.length,a=r?[]:{};let c=0;for(let u=0;u<i;u++){const d=r?u:o[u];(!r&&n.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,c++):(a[d]=p0(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&c++)}return s===i&&c===s?e:a}return t}function Og(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function gf(e){if(!Mg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!Mg(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function Mg(e){return Object.prototype.toString.call(e)==="[object Object]"}function o2(e){return new Promise(t=>{setTimeout(t,e)})}function i2(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?p0(e,t):t}function a2(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function l2(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var np=Symbol();function m0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===np?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var ms,jn,Eo,Tv,c2=(Tv=class extends zc{constructor(){super();ge(this,ms);ge(this,jn);ge(this,Eo);ne(this,Eo,t=>{if(!Bc&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,jn)||this.setEventListener(R(this,Eo))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,jn))==null||t.call(this),ne(this,jn,void 0))}setEventListener(t){var r;ne(this,Eo,t),(r=R(this,jn))==null||r.call(this),ne(this,jn,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){R(this,ms)!==t&&(ne(this,ms,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof R(this,ms)=="boolean"?R(this,ms):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ms=new WeakMap,jn=new WeakMap,Eo=new WeakMap,Tv),g0=new c2,Co,Sn,No,Rv,u2=(Rv=class extends zc{constructor(){super();ge(this,Co,!0);ge(this,Sn);ge(this,No);ne(this,No,t=>{if(!Bc&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Sn)||this.setEventListener(R(this,No))}onUnsubscribe(){var t;this.hasListeners()||((t=R(this,Sn))==null||t.call(this),ne(this,Sn,void 0))}setEventListener(t){var r;ne(this,No,t),(r=R(this,Sn))==null||r.call(this),ne(this,Sn,t(this.setOnline.bind(this)))}setOnline(t){R(this,Co)!==t&&(ne(this,Co,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return R(this,Co)}},Co=new WeakMap,Sn=new WeakMap,No=new WeakMap,Rv),sc=new u2;function d2(){let e,t;const r=new Promise((s,o)=>{e=s,t=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),e(s)},r.reject=s=>{n({status:"rejected",reason:s}),t(s)},r}function f2(e){return Math.min(1e3*2**e,3e4)}function v0(e){return(e??"online")==="online"?sc.isOnline():!0}var y0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function qu(e){return e instanceof y0}function w0(e){let t=!1,r=0,n=!1,s;const o=d2(),i=g=>{var x;n||(p(new y0(g)),(x=e.abort)==null||x.call(e))},a=()=>{t=!0},c=()=>{t=!1},u=()=>g0.isFocused()&&(e.networkMode==="always"||sc.isOnline())&&e.canRun(),d=()=>v0(e.networkMode)&&e.canRun(),f=g=>{var x;n||(n=!0,(x=e.onSuccess)==null||x.call(e,g),s==null||s(),o.resolve(g))},p=g=>{var x;n||(n=!0,(x=e.onError)==null||x.call(e,g),s==null||s(),o.reject(g))},v=()=>new Promise(g=>{var x;s=w=>{(n||u())&&g(w)},(x=e.onPause)==null||x.call(e)}).then(()=>{var g;s=void 0,n||(g=e.onContinue)==null||g.call(e)}),y=()=>{if(n)return;let g;const x=r===0?e.initialPromise:void 0;try{g=x??e.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(f).catch(w=>{var j;if(n)return;const m=e.retry??(Bc?0:3),b=e.retryDelay??f2,_=typeof b=="function"?b(r,w):b,k=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,w);if(t||!k){p(w);return}r++,(j=e.onFail)==null||j.call(e,r,w),o2(_).then(()=>u()?void 0:v()).then(()=>{t?p(w):y()})})};return{promise:o,cancel:i,continue:()=>(s==null||s(),o),cancelRetry:a,continueRetry:c,canStart:d,start:()=>(d()?y():v().then(y),o)}}function h2(){let e=[],t=0,r=a=>{a()},n=a=>{a()},s=a=>setTimeout(a,0);const o=a=>{t?e.push(a):s(()=>{r(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{n(()=>{a.forEach(c=>{r(c)})})})};return{batch:a=>{let c;t++;try{c=a()}finally{t--,t||i()}return c},batchCalls:a=>(...c)=>{o(()=>{a(...c)})},schedule:o,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{s=a}}}var vt=h2(),gs,Av,x0=(Av=class{constructor(){ge(this,gs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),r2(this.gcTime)&&ne(this,gs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Bc?1/0:5*60*1e3))}clearGcTimeout(){R(this,gs)&&(clearTimeout(R(this,gs)),ne(this,gs,void 0))}},gs=new WeakMap,Av),Po,To,Jt,dt,ha,vs,fr,Fr,Ov,p2=(Ov=class extends x0{constructor(t){super();ge(this,fr);ge(this,Po);ge(this,To);ge(this,Jt);ge(this,dt);ge(this,ha);ge(this,vs);ne(this,vs,!1),ne(this,ha,t.defaultOptions),this.setOptions(t.options),this.observers=[],ne(this,Jt,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ne(this,Po,g2(this.options)),this.state=t.state??R(this,Po),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=R(this,dt))==null?void 0:t.promise}setOptions(t){this.options={...R(this,ha),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Jt).remove(this)}setData(t,r){const n=i2(this.state.data,t,this.options);return at(this,fr,Fr).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){at(this,fr,Fr).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,s;const r=(n=R(this,dt))==null?void 0:n.promise;return(s=R(this,dt))==null||s.cancel(t),r?r.then(dr).catch(dr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Po))}isActive(){return this.observers.some(t=>s2(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===np||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!n2(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=R(this,dt))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=R(this,dt))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),R(this,Jt).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(R(this,dt)&&(R(this,vs)?R(this,dt).cancel({revert:!0}):R(this,dt).cancelRetry()),this.scheduleGc()),R(this,Jt).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||at(this,fr,Fr).call(this,{type:"invalidate"})}fetch(t,r){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,dt))return R(this,dt).continueRetry(),R(this,dt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const f=this.observers.find(p=>p.options.queryFn);f&&this.setOptions(f.options)}const n=new AbortController,s=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(ne(this,vs,!0),n.signal)})},o=()=>{const f=m0(this.options,r),p={queryKey:this.queryKey,meta:this.meta};return s(p),ne(this,vs,!1),this.options.persister?this.options.persister(f,p,this):f(p)},i={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(i),(c=this.options.behavior)==null||c.onFetch(i,this),ne(this,To,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=i.fetchOptions)==null?void 0:u.meta))&&at(this,fr,Fr).call(this,{type:"fetch",meta:(d=i.fetchOptions)==null?void 0:d.meta});const a=f=>{var p,v,y,g;qu(f)&&f.silent||at(this,fr,Fr).call(this,{type:"error",error:f}),qu(f)||((v=(p=R(this,Jt).config).onError)==null||v.call(p,f,this),(g=(y=R(this,Jt).config).onSettled)==null||g.call(y,this.state.data,f,this)),this.scheduleGc()};return ne(this,dt,w0({initialPromise:r==null?void 0:r.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:f=>{var p,v,y,g;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(x){a(x);return}(v=(p=R(this,Jt).config).onSuccess)==null||v.call(p,f,this),(g=(y=R(this,Jt).config).onSettled)==null||g.call(y,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,p)=>{at(this,fr,Fr).call(this,{type:"failed",failureCount:f,error:p})},onPause:()=>{at(this,fr,Fr).call(this,{type:"pause"})},onContinue:()=>{at(this,fr,Fr).call(this,{type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0})),R(this,dt).start()}},Po=new WeakMap,To=new WeakMap,Jt=new WeakMap,dt=new WeakMap,ha=new WeakMap,vs=new WeakMap,fr=new WeakSet,Fr=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...m2(n.data,this.options),fetchMeta:t.meta??null};case"success":return{...n,data:t.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=t.error;return qu(s)&&s.revert&&R(this,To)?{...R(this,To),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),vt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,Jt).notify({query:this,type:"updated",action:t})})},Ov);function m2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:v0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function g2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Cr,Mv,v2=(Mv=class extends zc{constructor(t={}){super();ge(this,Cr);this.config=t,ne(this,Cr,new Map)}build(t,r,n){const s=r.queryKey,o=r.queryHash??rp(s,r);let i=this.get(o);return i||(i=new p2({cache:this,queryKey:s,queryHash:o,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){R(this,Cr).has(t.queryHash)||(R(this,Cr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=R(this,Cr).get(t.queryHash);r&&(t.destroy(),r===t&&R(this,Cr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){vt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return R(this,Cr).get(t)}getAll(){return[...R(this,Cr).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Rg(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Rg(t,n)):r}notify(t){vt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){vt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){vt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Cr=new WeakMap,Mv),Nr,mt,ys,Pr,hn,Dv,y2=(Dv=class extends x0{constructor(t){super();ge(this,Pr);ge(this,Nr);ge(this,mt);ge(this,ys);this.mutationId=t.mutationId,ne(this,mt,t.mutationCache),ne(this,Nr,[]),this.state=t.state||w2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){R(this,Nr).includes(t)||(R(this,Nr).push(t),this.clearGcTimeout(),R(this,mt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ne(this,Nr,R(this,Nr).filter(r=>r!==t)),this.scheduleGc(),R(this,mt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){R(this,Nr).length||(this.state.status==="pending"?this.scheduleGc():R(this,mt).remove(this))}continue(){var t;return((t=R(this,ys))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var s,o,i,a,c,u,d,f,p,v,y,g,x,w,m,b,_,k,j,E;ne(this,ys,w0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(S,N)=>{at(this,Pr,hn).call(this,{type:"failed",failureCount:S,error:N})},onPause:()=>{at(this,Pr,hn).call(this,{type:"pause"})},onContinue:()=>{at(this,Pr,hn).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,mt).canRun(this)}));const r=this.state.status==="pending",n=!R(this,ys).canStart();try{if(!r){at(this,Pr,hn).call(this,{type:"pending",variables:t,isPaused:n}),await((o=(s=R(this,mt).config).onMutate)==null?void 0:o.call(s,t,this));const N=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t));N!==this.state.context&&at(this,Pr,hn).call(this,{type:"pending",context:N,variables:t,isPaused:n})}const S=await R(this,ys).start();return await((u=(c=R(this,mt).config).onSuccess)==null?void 0:u.call(c,S,t,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,S,t,this.state.context)),await((v=(p=R(this,mt).config).onSettled)==null?void 0:v.call(p,S,null,this.state.variables,this.state.context,this)),await((g=(y=this.options).onSettled)==null?void 0:g.call(y,S,null,t,this.state.context)),at(this,Pr,hn).call(this,{type:"success",data:S}),S}catch(S){try{throw await((w=(x=R(this,mt).config).onError)==null?void 0:w.call(x,S,t,this.state.context,this)),await((b=(m=this.options).onError)==null?void 0:b.call(m,S,t,this.state.context)),await((k=(_=R(this,mt).config).onSettled)==null?void 0:k.call(_,void 0,S,this.state.variables,this.state.context,this)),await((E=(j=this.options).onSettled)==null?void 0:E.call(j,void 0,S,t,this.state.context)),S}finally{at(this,Pr,hn).call(this,{type:"error",error:S})}}finally{R(this,mt).runNext(this)}}},Nr=new WeakMap,mt=new WeakMap,ys=new WeakMap,Pr=new WeakSet,hn=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),vt.batch(()=>{R(this,Nr).forEach(n=>{n.onMutationUpdate(t)}),R(this,mt).notify({mutation:this,type:"updated",action:t})})},Dv);function w2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var It,pa,Iv,x2=(Iv=class extends zc{constructor(t={}){super();ge(this,It);ge(this,pa);this.config=t,ne(this,It,new Map),ne(this,pa,Date.now())}build(t,r,n){const s=new y2({mutationCache:this,mutationId:++Ma(this,pa)._,options:t.defaultMutationOptions(r),state:n});return this.add(s),s}add(t){const r=rl(t),n=R(this,It).get(r)??[];n.push(t),R(this,It).set(r,n),this.notify({type:"added",mutation:t})}remove(t){var n;const r=rl(t);if(R(this,It).has(r)){const s=(n=R(this,It).get(r))==null?void 0:n.filter(o=>o!==t);s&&(s.length===0?R(this,It).delete(r):R(this,It).set(r,s))}this.notify({type:"removed",mutation:t})}canRun(t){var n;const r=(n=R(this,It).get(rl(t)))==null?void 0:n.find(s=>s.state.status==="pending");return!r||r===t}runNext(t){var n;const r=(n=R(this,It).get(rl(t)))==null?void 0:n.find(s=>s!==t&&s.state.isPaused);return(r==null?void 0:r.continue())??Promise.resolve()}clear(){vt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...R(this,It).values()].flat()}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Ag(r,n))}findAll(t={}){return this.getAll().filter(r=>Ag(t,r))}notify(t){vt.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return vt.batch(()=>Promise.all(t.map(r=>r.continue().catch(dr))))}},It=new WeakMap,pa=new WeakMap,Iv);function rl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Dg(e){return{onFetch:(t,r)=>{var d,f,p,v,y;const n=t.options,s=(p=(f=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,o=((v=t.state.data)==null?void 0:v.pages)||[],i=((y=t.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const u=async()=>{let g=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=m0(t.options,t.fetchOptions),m=async(b,_,k)=>{if(g)return Promise.reject();if(_==null&&b.pages.length)return Promise.resolve(b);const j={queryKey:t.queryKey,pageParam:_,direction:k?"backward":"forward",meta:t.options.meta};x(j);const E=await w(j),{maxPages:S}=t.options,N=k?l2:a2;return{pages:N(b.pages,E,S),pageParams:N(b.pageParams,_,S)}};if(s&&o.length){const b=s==="backward",_=b?b2:Ig,k={pages:o,pageParams:i},j=_(n,k);a=await m(k,j,b)}else{const b=e??o.length;do{const _=c===0?i[0]??n.initialPageParam:Ig(n,a);if(c>0&&_==null)break;a=await m(a,_),c++}while(c<b)}return a};t.options.persister?t.fetchFn=()=>{var g,x;return(x=(g=t.options).persister)==null?void 0:x.call(g,u,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=u}}}function Ig(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function b2(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var De,En,Cn,Ro,Ao,Nn,Oo,Mo,Lv,_2=(Lv=class{constructor(e={}){ge(this,De);ge(this,En);ge(this,Cn);ge(this,Ro);ge(this,Ao);ge(this,Nn);ge(this,Oo);ge(this,Mo);ne(this,De,e.queryCache||new v2),ne(this,En,e.mutationCache||new x2),ne(this,Cn,e.defaultOptions||{}),ne(this,Ro,new Map),ne(this,Ao,new Map),ne(this,Nn,0)}mount(){Ma(this,Nn)._++,R(this,Nn)===1&&(ne(this,Oo,g0.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,De).onFocus())})),ne(this,Mo,sc.subscribe(async e=>{e&&(await this.resumePausedMutations(),R(this,De).onOnline())})))}unmount(){var e,t;Ma(this,Nn)._--,R(this,Nn)===0&&((e=R(this,Oo))==null||e.call(this),ne(this,Oo,void 0),(t=R(this,Mo))==null||t.call(this),ne(this,Mo,void 0))}isFetching(e){return R(this,De).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return R(this,En).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=R(this,De).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const r=this.defaultQueryOptions(e),n=R(this,De).build(this,r);return e.revalidateIfStale&&n.isStaleByTime(Tg(r.staleTime,n))&&this.prefetchQuery(r),Promise.resolve(t)}}getQueriesData(e){return R(this,De).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=R(this,De).get(n.queryHash),o=s==null?void 0:s.state.data,i=t2(t,o);if(i!==void 0)return R(this,De).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return vt.batch(()=>R(this,De).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=R(this,De).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=R(this,De);vt.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=R(this,De),n={type:"active",...e};return vt.batch(()=>(r.findAll(e).forEach(s=>{s.reset()}),this.refetchQueries(n,t)))}cancelQueries(e={},t={}){const r={revert:!0,...t},n=vt.batch(()=>R(this,De).findAll(e).map(s=>s.cancel(r)));return Promise.all(n).then(dr).catch(dr)}invalidateQueries(e={},t={}){return vt.batch(()=>{if(R(this,De).findAll(e).forEach(n=>{n.invalidate()}),e.refetchType==="none")return Promise.resolve();const r={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(r,t)})}refetchQueries(e={},t){const r={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},n=vt.batch(()=>R(this,De).findAll(e).filter(s=>!s.isDisabled()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(dr)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(dr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=R(this,De).build(this,t);return r.isStaleByTime(Tg(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(dr).catch(dr)}fetchInfiniteQuery(e){return e.behavior=Dg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(dr).catch(dr)}ensureInfiniteQueryData(e){return e.behavior=Dg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return sc.isOnline()?R(this,En).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,De)}getMutationCache(){return R(this,En)}getDefaultOptions(){return R(this,Cn)}setDefaultOptions(e){ne(this,Cn,e)}setQueryDefaults(e,t){R(this,Ro).set(oa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...R(this,Ro).values()];let r={};return t.forEach(n=>{ia(e,n.queryKey)&&(r={...r,...n.defaultOptions})}),r}setMutationDefaults(e,t){R(this,Ao).set(oa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...R(this,Ao).values()];let r={};return t.forEach(n=>{ia(e,n.mutationKey)&&(r={...r,...n.defaultOptions})}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...R(this,Cn).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=rp(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===np&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...R(this,Cn).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){R(this,De).clear(),R(this,En).clear()}},De=new WeakMap,En=new WeakMap,Cn=new WeakMap,Ro=new WeakMap,Ao=new WeakMap,Nn=new WeakMap,Oo=new WeakMap,Mo=new WeakMap,Lv),k2=h.createContext(void 0),j2=({client:e,children:t})=>(h.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),l.jsx(k2.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aa.apply(this,arguments)}var Rn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rn||(Rn={}));const Lg="popstate";function S2(e){e===void 0&&(e={});function t(n,s){let{pathname:o,search:i,hash:a}=n.location;return vf("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:oc(s)}return C2(t,r,null,e)}function He(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function b0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function E2(){return Math.random().toString(36).substr(2,8)}function $g(e,t){return{usr:e.state,key:e.key,idx:t}}function vf(e,t,r,n){return r===void 0&&(r=null),aa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ni(t):t,{state:r,key:t&&t.key||n||E2()})}function oc(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ni(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function C2(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,i=s.history,a=Rn.Pop,c=null,u=d();u==null&&(u=0,i.replaceState(aa({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function f(){a=Rn.Pop;let x=d(),w=x==null?null:x-u;u=x,c&&c({action:a,location:g.location,delta:w})}function p(x,w){a=Rn.Push;let m=vf(g.location,x,w);u=d()+1;let b=$g(m,u),_=g.createHref(m);try{i.pushState(b,"",_)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(_)}o&&c&&c({action:a,location:g.location,delta:1})}function v(x,w){a=Rn.Replace;let m=vf(g.location,x,w);u=d();let b=$g(m,u),_=g.createHref(m);i.replaceState(b,"",_),o&&c&&c({action:a,location:g.location,delta:0})}function y(x){let w=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof x=="string"?x:oc(x);return m=m.replace(/ $/,"%20"),He(w,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,w)}let g={get action(){return a},get location(){return e(s,i)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Lg,f),c=x,()=>{s.removeEventListener(Lg,f),c=null}},createHref(x){return t(s,x)},createURL:y,encodeLocation(x){let w=y(x);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:p,replace:v,go(x){return i.go(x)}};return g}var Fg;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fg||(Fg={}));function N2(e,t,r){return r===void 0&&(r="/"),P2(e,t,r,!1)}function P2(e,t,r,n){let s=typeof t=="string"?ni(t):t,o=sp(s.pathname||"/",r);if(o==null)return null;let i=_0(e);T2(i);let a=null;for(let c=0;a==null&&c<i.length;++c){let u=z2(o);a=F2(i[c],u,n)}return a}function _0(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,i,a)=>{let c={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};c.relativePath.startsWith("/")&&(He(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Un([n,c.relativePath]),d=r.concat(c);o.children&&o.children.length>0&&(He(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_0(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:L2(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let c of k0(o.path))s(o,i,c)}),t}function k0(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let i=k0(n.join("/")),a=[];return a.push(...i.map(c=>c===""?o:[o,c].join("/"))),s&&a.push(...i),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function T2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:$2(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const R2=/^:[\w-]+$/,A2=3,O2=2,M2=1,D2=10,I2=-2,Ug=e=>e==="*";function L2(e,t){let r=e.split("/"),n=r.length;return r.some(Ug)&&(n+=I2),t&&(n+=O2),r.filter(s=>!Ug(s)).reduce((s,o)=>s+(R2.test(o)?A2:o===""?M2:D2),n)}function $2(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function F2(e,t,r){let{routesMeta:n}=e,s={},o="/",i=[];for(let a=0;a<n.length;++a){let c=n[a],u=a===n.length-1,d=o==="/"?t:t.slice(o.length)||"/",f=zg({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),p=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=zg({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),i.push({params:s,pathname:Un([o,f.pathname]),pathnameBase:V2(Un([o,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(o=Un([o,f.pathnameBase]))}return i}function zg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=U2(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:p,isOptional:v}=d;if(p==="*"){let g=a[f]||"";i=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const y=a[f];return v&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function U2(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),b0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,c)=>(n.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function z2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return b0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function sp(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function B2(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ni(e):e;return{pathname:r?r.startsWith("/")?r:W2(r,t):t,search:q2(n),hash:G2(s)}}function W2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Gu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function H2(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function j0(e,t){let r=H2(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function S0(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ni(e):(s=aa({},e),He(!s.pathname||!s.pathname.includes("?"),Gu("?","pathname","search",s)),He(!s.pathname||!s.pathname.includes("#"),Gu("#","pathname","hash",s)),He(!s.search||!s.search.includes("#"),Gu("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?t[f]:"/"}let c=B2(s,a),u=i&&i!=="/"&&i.endsWith("/"),d=(o||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Un=e=>e.join("/").replace(/\/\/+/g,"/"),V2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),q2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,G2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function K2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const E0=["post","put","patch","delete"];new Set(E0);const Y2=["get",...E0];new Set(Y2);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},la.apply(this,arguments)}const op=h.createContext(null),Q2=h.createContext(null),Is=h.createContext(null),Wc=h.createContext(null),ts=h.createContext({outlet:null,matches:[],isDataRoute:!1}),C0=h.createContext(null);function X2(e,t){let{relative:r}=t===void 0?{}:t;ja()||He(!1);let{basename:n,navigator:s}=h.useContext(Is),{hash:o,pathname:i,search:a}=P0(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:Un([n,i])),s.createHref({pathname:c,search:a,hash:o})}function ja(){return h.useContext(Wc)!=null}function si(){return ja()||He(!1),h.useContext(Wc).location}function N0(e){h.useContext(Is).static||h.useLayoutEffect(e)}function it(){let{isDataRoute:e}=h.useContext(ts);return e?uR():J2()}function J2(){ja()||He(!1);let e=h.useContext(op),{basename:t,future:r,navigator:n}=h.useContext(Is),{matches:s}=h.useContext(ts),{pathname:o}=si(),i=JSON.stringify(j0(s,r.v7_relativeSplatPath)),a=h.useRef(!1);return N0(()=>{a.current=!0}),h.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let f=S0(u,JSON.parse(i),o,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Un([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,i,o,e])}function ip(){let{matches:e}=h.useContext(ts),t=e[e.length-1];return t?t.params:{}}function P0(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=h.useContext(Is),{matches:s}=h.useContext(ts),{pathname:o}=si(),i=JSON.stringify(j0(s,n.v7_relativeSplatPath));return h.useMemo(()=>S0(e,JSON.parse(i),o,r==="path"),[e,i,o,r])}function Z2(e,t){return eR(e,t)}function eR(e,t,r,n){ja()||He(!1);let{navigator:s}=h.useContext(Is),{matches:o}=h.useContext(ts),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let u=si(),d;if(t){var f;let x=typeof t=="string"?ni(t):t;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||He(!1),d=x}else d=u;let p=d.pathname||"/",v=p;if(c!=="/"){let x=c.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let y=N2(e,{pathname:v}),g=oR(y&&y.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:Un([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Un([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,r,n);return t&&g?h.createElement(Wc.Provider,{value:{location:la({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Rn.Pop}},g):g}function tR(){let e=cR(),t=K2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),r?h.createElement("pre",{style:s},r):null,null)}const rR=h.createElement(tR,null);class nR extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?h.createElement(ts.Provider,{value:this.props.routeContext},h.createElement(C0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sR(e){let{routeContext:t,match:r,children:n}=e,s=h.useContext(op);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),h.createElement(ts.Provider,{value:t},n)}function oR(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if(!r)return null;if(r.errors)e=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,a=(s=r)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||He(!1),i=i.slice(0,Math.min(i.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:p,errors:v}=r,y=f.route.loader&&p[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,f,p)=>{let v,y=!1,g=null,x=null;r&&(v=a&&f.route.id?a[f.route.id]:void 0,g=f.route.errorElement||rR,c&&(u<0&&p===0?(y=!0,x=null):u===p&&(y=!0,x=f.route.hydrateFallbackElement||null)));let w=t.concat(i.slice(0,p+1)),m=()=>{let b;return v?b=g:y?b=x:f.route.Component?b=h.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=d,h.createElement(sR,{match:f,routeContext:{outlet:d,matches:w,isDataRoute:r!=null},children:b})};return r&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?h.createElement(nR,{location:r.location,revalidation:r.revalidation,component:g,error:v,children:m(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):m()},null)}var T0=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(T0||{}),ic=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ic||{});function iR(e){let t=h.useContext(op);return t||He(!1),t}function aR(e){let t=h.useContext(Q2);return t||He(!1),t}function lR(e){let t=h.useContext(ts);return t||He(!1),t}function R0(e){let t=lR(),r=t.matches[t.matches.length-1];return r.route.id||He(!1),r.route.id}function cR(){var e;let t=h.useContext(C0),r=aR(ic.UseRouteError),n=R0(ic.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function uR(){let{router:e}=iR(T0.UseNavigateStable),t=R0(ic.UseNavigateStable),r=h.useRef(!1);return N0(()=>{r.current=!0}),h.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,la({fromRouteId:t},o)))},[e,t])}function ut(e){He(!1)}function dR(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Rn.Pop,navigator:o,static:i=!1,future:a}=e;ja()&&He(!1);let c=t.replace(/^\/*/,"/"),u=h.useMemo(()=>({basename:c,navigator:o,static:i,future:la({v7_relativeSplatPath:!1},a)}),[c,a,o,i]);typeof n=="string"&&(n=ni(n));let{pathname:d="/",search:f="",hash:p="",state:v=null,key:y="default"}=n,g=h.useMemo(()=>{let x=sp(d,c);return x==null?null:{location:{pathname:x,search:f,hash:p,state:v,key:y},navigationType:s}},[c,d,f,p,v,y,s]);return g==null?null:h.createElement(Is.Provider,{value:u},h.createElement(Wc.Provider,{children:r,value:g}))}function fR(e){let{children:t,location:r}=e;return Z2(yf(t),r)}new Promise(()=>{});function yf(e,t){t===void 0&&(t=[]);let r=[];return h.Children.forEach(e,(n,s)=>{if(!h.isValidElement(n))return;let o=[...t,s];if(n.type===h.Fragment){r.push.apply(r,yf(n.props.children,o));return}n.type!==ut&&He(!1),!n.props.index||!n.props.children||He(!1);let i={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=yf(n.props.children,o)),r.push(i)}),r}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(this,arguments)}function hR(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,o;for(o=0;o<n.length;o++)s=n[o],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function pR(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function mR(e,t){return e.button===0&&(!t||t==="_self")&&!pR(e)}const gR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vR="6";try{window.__reactRouterVersion=vR}catch{}const yR="startTransition",Bg=Yv[yR];function wR(e){let{basename:t,children:r,future:n,window:s}=e,o=h.useRef();o.current==null&&(o.current=S2({window:s,v5Compat:!0}));let i=o.current,[a,c]=h.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=h.useCallback(f=>{u&&Bg?Bg(()=>c(f)):c(f)},[c,u]);return h.useLayoutEffect(()=>i.listen(d),[i,d]),h.createElement(dR,{basename:t,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}const xR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=h.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:o,replace:i,state:a,target:c,to:u,preventScrollReset:d,viewTransition:f}=t,p=hR(t,gR),{basename:v}=h.useContext(Is),y,g=!1;if(typeof u=="string"&&bR.test(u)&&(y=u,xR))try{let b=new URL(window.location.href),_=u.startsWith("//")?new URL(b.protocol+u):new URL(u),k=sp(_.pathname,v);_.origin===b.origin&&k!=null?u=k+_.search+_.hash:g=!0}catch{}let x=X2(u,{relative:s}),w=_R(u,{replace:i,state:a,target:c,preventScrollReset:d,relative:s,viewTransition:f});function m(b){n&&n(b),b.defaultPrevented||w(b)}return h.createElement("a",wf({},p,{href:y||x,onClick:g||o?n:m,ref:r,target:c}))});var Wg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Wg||(Wg={}));var Hg;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Hg||(Hg={}));function _R(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:a}=t===void 0?{}:t,c=it(),u=si(),d=P0(e,{relative:i});return h.useCallback(f=>{if(mR(f,r)){f.preventDefault();let p=n!==void 0?n:oc(u)===oc(d);c(e,{replace:p,state:s,preventScrollReset:o,relative:i,viewTransition:a})}},[u,c,d,n,s,r,e,o,i,a])}const kR={"chat.type_message":{ko:"메세지를 입력 해 주세요",ja:"メッセージを入力してください"},"chat.send":{ko:"보내기",ja:"送信"},"settings.account":{ko:"계정 정보",ja:"アカウント情報"},"auth.email":{ko:"이메일",ja:"メール"},"nav.messages":{ko:"메시지",ja:"メッセージ"},"app.name":{ko:"Pasar",ja:"Pasar"},"app.tagline":{ko:"국경을 넘어 새로운 인연을 만나보세요",ja:"国境を越えて新しい出会いを見つけよう"},"common.error":{ko:"오류",ja:"エラー"},"common.tryAgain":{ko:"다시 시도해주세요.",ja:"もう一度お試しください。"},"action.next":{ko:"다음",ja:"次へ"},"action.submit":{ko:"제출",ja:"送信"},"nav.home":{ko:"홈",ja:"ホーム"},"nav.matches":{ko:"매칭",ja:"マッチ"},"nav.chat":{ko:"채팅",ja:"チャット"},"nav.notifications":{ko:"알림",ja:"お知らせ"},"nav.profile":{ko:"프로필",ja:"プロフィール"},"nav.settings":{ko:"설정",ja:"設定"},"nav.admin":{ko:"관리자",ja:"管理者"},"auth.login_failed":{ko:"로그인에 실패했습니다.",ja:"ログインに失敗しました。"},"auth.try_again":{ko:"다시 시도해주세요.",ja:"もう一度お試しください。"},"auth.logout_success":{ko:"로그아웃되었습니다.",ja:"ログアウトしました。"},"auth.logout_success_desc":{ko:"성공적으로 로그아웃되었습니다.",ja:"正常にログアウトされました。"},"auth.logout_failed":{ko:"로그아웃에 실패했습니다.",ja:"ログアウトに失敗しました。"},"auth.google":{ko:"Google 계정으로 로그인",ja:"Googleアカウントでログイン"},"auth.account_switch_error":{ko:"계정 전환 중 오류가 발생했습니다.",ja:"アカウント切り替え中にエラーが発生しました。"},"home.recommendations":{ko:"추천",ja:"おすすめ"},"home.noMatches":{ko:"추천할 프로필이 없습니다.",ja:"おすすめのプロフィールはありません。"},"home.noMore":{ko:"더 이상 추천할 사람이 없습니다.",ja:"もうおすすめできる人はいません。"},"matches.title":{ko:"매칭",ja:"マッチ"},"matches.likeSent":{ko:"좋아요를 보냈습니다!",ja:"いいね！を送りました"},"matches.likeDescription":{ko:"상대방이 당신을 좋아하면 매칭됩니다.",ja:"相手があなたを好きになったらマッチングされます。"},"profile.edit":{ko:"프로필 수정",ja:"プロフィールの編集"},"profile.save":{ko:"저장",ja:"保存"},"profile.cancel":{ko:"취소",ja:"キャンセル"},"profile.name":{ko:"이름",ja:"名前"},"profile.age":{ko:"나이",ja:"年齢"},"profile.location":{ko:"위치",ja:"場所"},"profile.bio":{ko:"소개",ja:"自己紹介"},"profile.job":{ko:"직업",ja:"職業"},"profile.nationality":{ko:"국적",ja:"国籍"},"settings.title":{ko:"설정",ja:"設定"},"settings.language":{ko:"언어",ja:"言語"},"settings.notifications":{ko:"알림",ja:"お知らせ"},"settings.privacy":{ko:"개인 정보 보호",ja:"プライバシー"},"settings.logout":{ko:"로그아웃",ja:"ログアウト"},"settings.deleteAccount":{ko:"계정 삭제",ja:"アカウント削除"},"onboarding.upload.title":{ko:"프로필 사진을 업로드해주세요",ja:"プロフィール写真をアップロードしてください"},"onboarding.upload.desc":{ko:"당신을 가장 잘 나타내는 사진을 선택하세요.",ja:"あなたを最もよく表す写真を選んでください。"},"onboarding.upload.button":{ko:"사진 업로드",ja:"写真をアップロード"},"onboarding.basics.title":{ko:"기본 정보를 입력해주세요",ja:"基本情報を入力してください"},"onboarding.basics.desc":{ko:"이름, 성별, 생년월일, 국적, 도시를 입력해주세요.",ja:"名前、性別、生年月日、国籍、都市を入力してください。"},"onboarding.basics.name":{ko:"이름",ja:"名前"},"onboarding.basics.gender":{ko:"성별",ja:"性別"},"onboarding.basics.birthdate":{ko:"생년월일",ja:"生年月日"},"onboarding.basics.nationality":{ko:"국적",ja:"国籍"},"onboarding.basics.city":{ko:"도시",ja:"都市"},"onboarding.questions.title":{ko:"몇 가지 질문에 답해주세요",ja:"いくつかの質問に答えてください"},"onboarding.questions.desc":{ko:"당신에 대해 더 자세히 알려주세요.",ja:"あなたについてもっと教えてください。"},"onboarding.verification.title":{ko:"본인 인증을 해주세요",ja:"本人確認をしてください"},"onboarding.verification.desc":{ko:"안전한 서비스를 위해 본인 인증이 필요합니다.",ja:"安全なサービスのために本人確認が必要です。"},"onboarding.nationality.title":{ko:"국적을 선택해주세요",ja:"国籍を選択してください"},"onboarding.nationality.desc":{ko:"매칭할 사용자의 국적을 필터링하는 데 사용됩니다.",ja:"マッチングするユーザーの国籍をフィルタリングするために使用されます。"},"error.generic":{ko:"오류가 발생했습니다.",ja:"エラーが発生しました。"},"error.try_again":{ko:"다시 시도해주세요.",ja:"もう一度お試しください。"},"chat.icebreaker":{ko:"대화 주제 제안",ja:"アイスブレイク"},"chat.randomTopic":{ko:"랜덤 주제",ja:"ランダムトピック"},"chat.writeMessage":{ko:"메시지를 입력하세요...",ja:"メッセージを入力..."},"chat.translate":{ko:"번역하기",ja:"翻訳する"},"chat.translating":{ko:"번역 중...",ja:"翻訳中..."},"chat.showOriginal":{ko:"원본 보기",ja:"原文を表示"},"chat.showTranslation":{ko:"번역 보기",ja:"翻訳を表示"},"chat.messages":{ko:"메시지",ja:"メッセージ"},"chat.noPartners":{ko:"아직 대화 상대가 없습니다",ja:"まだチャット相手がいません"},"chat.checkMatches":{ko:"매치 확인하기",ja:"マッチを確認する"},"chat.startConversation":{ko:"대화를 시작하세요",ja:"会話を始めましょう"},"chat.selectPartner":{ko:"왼쪽에서 대화 상대를 선택하거나, 새로운 매치를 만들어보세요",ja:"左側から会話の相手を選択するか、新しいマッチを作ってみましょう"},"chat.verification_required":{ko:"채팅을 사용하기 위해서는 신분증 인증이 필요합니다",ja:"チャットを使用するには身分証明書の確認が必要です"},"chat.verify_now":{ko:"지금 인증하기",ja:"今すぐ確認する"},"admin.verificationRequests":{ko:"인증 요청",ja:"認証リクエスト"},"admin.profileUpdates":{ko:"프로필 업데이트",ja:"プロフィール更新"},"admin.approve":{ko:"승인",ja:"承認"},"admin.reject":{ko:"거부",ja:"拒否"},"admin.identity_verification":{ko:"본인 인증 요청",ja:"本人確認リクエスト"},"admin.profile_photo":{ko:"프로필 사진 요청",ja:"プロフィール写真リクエスト"},"admin.no_requests":{ko:"대기 중인 요청이 없습니다",ja:"保留中のリクエストはありません"},"profile.mypage":{ko:"마이페이지",ja:"マイページ"},"profile.my_profile":{ko:"내 프로필",ja:"マイプロフィール"},"profile.photos":{ko:"프로필 사진",ja:"プロフィール写真"},"profile.basic_info":{ko:"기본 정보",ja:"基本情報"},"profile.email":{ko:"이메일",ja:"メール"},"profile.join_date":{ko:"가입일",ja:"登録日"},"profile.delete_account":{ko:"계정 삭제",ja:"アカウント削除"},"profile.confirm_delete":{ko:"정말 계정을 삭제하시겠습니까?",ja:"本当にアカウントを削除しますか？"},"profile.delete_warning":{ko:"계정을 삭제하면 모든 데이터가 영구적으로 삭제됩니다. 이 작업은 취소할 수 없습니다.",ja:"アカウントを削除すると、すべてのデータが永久に削除されます。この操作は取り消せません。"},"profile.delete":{ko:"삭제",ja:"削除"},"profile.deleting":{ko:"삭제 중...",ja:"削除中..."},"profile.logout_in_progress":{ko:"로그아웃 중...",ja:"ログアウト中..."},"profile.account_deleted":{ko:"계정이 삭제되었습니다",ja:"アカウントが削除されました"},"profile.account_deleted_desc":{ko:"계정과 관련된 모든 정보가 삭제되었습니다",ja:"アカウントに関連するすべての情報が削除されました"},"profile.delete_failed":{ko:"계정 삭제 실패",ja:"アカウント削除に失敗しました"},"common.cancel":{ko:"취소",ja:"キャンセル"},"notification.title":{ko:"알림",ja:"通知"},"notification.empty":{ko:"알림이 없습니다",ja:"通知がありません"},"notification.match_accepted":{ko:"매칭 수락됨",ja:"マッチングが承認されました"},"notification.new_message":{ko:"새 메시지",ja:"新しいメッセージ"},"notification.verify_passed":{ko:"인증 완료",ja:"認証完了"},"notification.verify_passed_desc":{ko:"본인 인증이 완료되었습니다.",ja:"本人確認が完了しました。"},"notification.yesterday":{ko:"어제",ja:"昨日"},"notifications.new_match":{ko:"새로운 매치",ja:"新しいマッチング"},"notifications.new_message":{ko:"새 메시지",ja:"新しいメッセージ"},"notifications.time_ago.minutes":{ko:"{minutes}분 전",ja:"{minutes}分前"},"notifications.time_ago.hours":{ko:"{hours}시간 전",ja:"{hours}時間前"},"notifications.view_all":{ko:"모두 보기",ja:"すべて見る"},"onboarding.step":{ko:"단계",ja:"ステップ"},"onboarding.photos.title":{ko:"프로필 사진을 올려주세요",ja:"プロフィール写真をアップロードしてください"},"onboarding.photos.desc":{ko:"본인을 가장 잘 나타내는 사진을 선택하세요. 최소 3장 이상 올려주세요.",ja:"あなたを最もよく表現する写真を選んでください。最低3枚以上が必要です。"},"onboarding.photos.add":{ko:"사진 추가",ja:"写真を追加"},"onboarding.photos.min_required":{ko:"최소 3장의 사진이 필요합니다.",ja:"最低3枚の写真が必要です。"},"onboarding.previous":{ko:"이전",ja:"前へ"},"onboarding.questions.job":{ko:"직업",ja:"職業"},"onboarding.questions.education":{ko:"학력",ja:"学歴"},"onboarding.questions.interests":{ko:"관심사",ja:"趣味・関心"},"onboarding.questions.languages":{ko:"언어 능력",ja:"言語能力"},"profile.about":{ko:"자기소개",ja:"自己紹介"},"auth.switch_account":{ko:"계정 전환",ja:"アカウント切り替え"},"verify.title":{ko:"신분증 인증",ja:"本人確認"},"verify.desc":{ko:"안전한 매칭 서비스를 위해 신분증 인증이 필요합니다",ja:"安全なマッチングサービスのために身分証明書の確認が必要です"},"verify.required":{ko:"신분증 인증 필요",ja:"本人確認が必要です"},"verify.button":{ko:"인증하러 가기",ja:"確認しに行く"},"verify.later":{ko:"나중에 하기",ja:"後でする"},"profile.settings":{ko:"프로필 설정",ja:"プロフィール設定"},"profile.edit_photos":{ko:"사진 수정",ja:"写真を編集"},"profile.add_photo":{ko:"사진 추가",ja:"写真を追加"},"profile.remove_photo":{ko:"사진 삭제",ja:"写真を削除"},"profile.photo_requirements":{ko:"프로필 사진 요구사항",ja:"プロフィール写真の要件"},"profile.photo_requirements_desc":{ko:"얼굴이 잘 보이는 사진을 업로드해주세요. 최소 1장, 최대 6장까지 업로드 가능합니다.",ja:"顔がよく見える写真をアップロードしてください。最低1枚、最大6枚までアップロードできます。"}},jR=async()=>{try{const e=await fetch("https://ipinfo.io/json?token=9cb6f1c6097078");if(!e.ok)throw new Error("Failed to fetch IP info");const t=await e.json();return console.log("IP 정보:",t),t}catch(e){return console.error("IP 정보 가져오기 오류:",e),null}},SR=async()=>{try{const e=await jR();if(!e)throw new Error("IP 정보를 가져올 수 없음");const t=e.country==="JP"?"ja":"ko";return console.log(`IP 기반 감지된 국가: ${e.country}, 언어: ${t}`),t}catch(e){return console.error("IP 기반 언어 감지 오류:",e),"ko"}},ER=()=>navigator.language.toLowerCase().startsWith("ja")?"ja":"ko",A0=async()=>{const e=localStorage.getItem("user_selected_language");if(e&&(e==="ko"||e==="ja"))return console.log("사용자 선택 언어:",e),e;try{const t=await SR();return console.log("IP 기반 감지 언어:",t),t}catch{const r=ER();return console.log("브라우저 설정 기반 감지 언어:",r),r}},O0=h.createContext(void 0);function CR({children:e}){const t=()=>{const i=localStorage.getItem("user_selected_language");return i==="ja"||i==="ko"?i:"ko"},[r,n]=h.useState(t());h.useEffect(()=>{(async()=>{if(!localStorage.getItem("user_selected_language"))try{const a=await A0();n(a),localStorage.setItem("user_selected_language",a),console.log("감지된 언어 설정:",a)}catch(a){console.error("언어 감지 오류:",a),n("ko"),localStorage.setItem("user_selected_language","ko")}})()},[]);const s=i=>{localStorage.setItem("user_selected_language",i),n(i)},o=(i,a)=>{try{const c=i.split(".");let u=kR;for(const f of c){if(!u||!u[f])return console.warn(`Translation missing for key: ${i}`),i;u=u[f]}let d=u[r];return!d&&(d=u[r==="ko"?"ja":"ko"],!d)?(console.warn(`Translation missing for key ${i} in both languages`),i):(a&&Object.keys(a).forEach(f=>{const p=new RegExp(`{${f}}`,"g");d=d.replace(p,String(a[f]))}),d)}catch(c){return console.error(`Translation error for key ${i}:`,c),i}};return l.jsx(O0.Provider,{value:{language:r,setLanguage:s,t:o},children:e})}const NR="modulepreload",PR=function(e){return"/"+e},Vg={},Ho=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=PR(c),c in Vg)return;Vg[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":NR,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((p,v)=>{f.addEventListener("load",p),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return s.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return t().catch(o)})},TR=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ho(async()=>{const{default:n}=await Promise.resolve().then(()=>oi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class ap extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class RR extends ap{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class AR extends ap{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class OR extends ap{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xf||(xf={}));var MR=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class DR{constructor(t,{headers:r={},customFetch:n,region:s=xf.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=TR(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return MR(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:i}=r;let a={},{region:c}=r;c||(c=this.region),c&&c!=="any"&&(a["x-region"]=c);let u;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=i):typeof i=="string"?(a["Content-Type"]="text/plain",u=i):typeof FormData<"u"&&i instanceof FormData?u=i:(a["Content-Type"]="application/json",u=JSON.stringify(i)));const d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:u}).catch(y=>{throw new RR(y)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new AR(d);if(!d.ok)throw new OR(d);let p=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield d.json():p==="application/octet-stream"?v=yield d.blob():p==="text/event-stream"?v=d:p==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var Nt={},lp={},Hc={},Sa={},Vc={},qc={},IR=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Vo=IR();const LR=Vo.fetch,M0=Vo.fetch.bind(Vo),D0=Vo.Headers,$R=Vo.Request,FR=Vo.Response,oi=Object.freeze(Object.defineProperty({__proto__:null,Headers:D0,Request:$R,Response:FR,default:M0,fetch:LR},Symbol.toStringTag,{value:"Module"})),UR=Mj(oi);var Gc={};Object.defineProperty(Gc,"__esModule",{value:!0});let zR=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Gc.default=zR;var I0=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qc,"__esModule",{value:!0});const BR=I0(UR),WR=I0(Gc);let HR=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=BR.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var i,a,c;let u=null,d=null,f=null,p=o.status,v=o.statusText;if(o.ok){if(this.method!=="HEAD"){const w=await o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}const g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),x=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&x&&x.length>1&&(f=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,p=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const g=await o.text();try{u=JSON.parse(g),Array.isArray(u)&&o.status===404&&(d=[],u=null,p=200,v="OK")}catch{o.status===404&&g===""?(p=204,v="No Content"):u={message:g}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,p=200,v="OK"),u&&this.shouldThrowOnError)throw new WR.default(u)}return{error:u,data:d,count:f,status:p,statusText:v}});return this.shouldThrowOnError||(s=s.catch(o=>{var i,a,c;return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};qc.default=HR;var VR=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vc,"__esModule",{value:!0});const qR=VR(qc);let GR=class extends qR.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var a;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Vc.default=GR;var KR=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sa,"__esModule",{value:!0});const YR=KR(Vc);let QR=class extends YR.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Sa.default=QR;var XR=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hc,"__esModule",{value:!0});const wi=XR(Sa);let JR=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let o=!1;const i=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new wi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const i=t.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(i.length>0){const a=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new wi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:o=!0}={}){const i="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new wi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new wi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new wi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Hc.default=JR;var Kc={},Yc={};Object.defineProperty(Yc,"__esModule",{value:!0});Yc.version=void 0;Yc.version="0.0.0-automated";Object.defineProperty(Kc,"__esModule",{value:!0});Kc.DEFAULT_HEADERS=void 0;const ZR=Yc;Kc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ZR.version}`};var L0=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lp,"__esModule",{value:!0});const eA=L0(Hc),tA=L0(Sa),rA=Kc;let nA=class $0{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},rA.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new eA.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){let i;const a=new URL(`${this.url}/rpc/${t}`);let c;n||s?(i=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(i="POST",c=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new tA.default({method:i,url:a,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};lp.default=nA;var ii=or&&or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nt,"__esModule",{value:!0});Nt.PostgrestError=Nt.PostgrestBuilder=Nt.PostgrestTransformBuilder=Nt.PostgrestFilterBuilder=Nt.PostgrestQueryBuilder=Nt.PostgrestClient=void 0;const F0=ii(lp);Nt.PostgrestClient=F0.default;const U0=ii(Hc);Nt.PostgrestQueryBuilder=U0.default;const z0=ii(Sa);Nt.PostgrestFilterBuilder=z0.default;const B0=ii(Vc);Nt.PostgrestTransformBuilder=B0.default;const W0=ii(qc);Nt.PostgrestBuilder=W0.default;const H0=ii(Gc);Nt.PostgrestError=H0.default;var sA=Nt.default={PostgrestClient:F0.default,PostgrestQueryBuilder:U0.default,PostgrestFilterBuilder:z0.default,PostgrestTransformBuilder:B0.default,PostgrestBuilder:W0.default,PostgrestError:H0.default};const{PostgrestClient:oA,PostgrestQueryBuilder:U5,PostgrestFilterBuilder:z5,PostgrestTransformBuilder:B5,PostgrestBuilder:W5,PostgrestError:H5}=sA,iA="2.11.2",aA={"X-Client-Info":`realtime-js/${iA}`},lA="1.0.0",V0=1e4,cA=1e3;var _o;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_o||(_o={}));var Dt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Dt||(Dt={}));var pr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pr||(pr={}));var bf;(function(e){e.websocket="websocket"})(bf||(bf={}));var ds;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ds||(ds={}));class uA{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let i=this.HEADER_LENGTH+2;const a=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+o));i=i+o;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:a,event:c,payload:u}}}class q0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_e||(_e={}));const qg=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,i)=>(o[i]=dA(i,e,t,s),o),{})},dA=(e,t,r,n)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=r[e];return o&&!n.includes(o)?G0(o,i):_f(i)},G0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return mA(t,r)}switch(e){case _e.bool:return fA(t);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return hA(t);case _e.json:case _e.jsonb:return pA(t);case _e.timestamp:return gA(t);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return _f(t);default:return _f(t)}},_f=e=>e,fA=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},hA=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},pA=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},mA=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const i=e.slice(1,r);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>G0(t,a))}return e},gA=e=>typeof e=="string"?e.replace(" ","T"):e,K0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Ku{constructor(t,r,n={},s=V0){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Gg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Gg||(Gg={}));class Li{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Li.syncState(this.state,s,o,i),this.pendingDiffs.forEach(c=>{this.state=Li.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Li.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),i=this.transformState(r),a={},c={};return this.map(o,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=o[u];if(f){const p=d.map(x=>x.presence_ref),v=f.map(x=>x.presence_ref),y=d.filter(x=>v.indexOf(x.presence_ref)<0),g=f.filter(x=>p.indexOf(x.presence_ref)<0);y.length>0&&(a[u]=y),g.length>0&&(c[u]=g)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(a,c)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(c),d.length>0){const f=t[a].map(v=>v.presence_ref),p=d.filter(v=>f.indexOf(v.presence_ref)<0);t[a].unshift(...p)}n(a,d,c)}),this.map(i,(a,c)=>{let u=t[a];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[a]=u,s(a,u,c),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Kg||(Kg={}));var Yg;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yg||(Yg={}));var Br;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Br||(Br={}));class cp{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Dt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ku(this,pr.join,this.params,this.timeout),this.rejoinTimer=new q0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Dt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Dt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Dt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pr.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Li(this),this.broadcastEndpointURL=K0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:i,private:a}}=this.params;this._onError(d=>t==null?void 0:t(Br.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Br.CLOSED));const c={},u={broadcast:o,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Br.SUBSCRIBED);return}else{const p=this.bindings.postgres_changes,v=(f=p==null?void 0:p.length)!==null&&f!==void 0?f:0,y=[];for(let g=0;g<v;g++){const x=p[g],{filter:{event:w,schema:m,table:b,filter:_}}=x,k=d&&d[g];if(k&&k.event===w&&k.schema===m&&k.table===b&&k.filter===_)y.push(Object.assign(Object.assign({},x),{id:k.id}));else{this.unsubscribe(),t==null||t(Br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Br.SUBSCRIBED);return}}).receive("error",d=>{t==null||t(Br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Dt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pr.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const s=new Ku(this,pr.leave,{},t);s.receive("ok",()=>{r(),n("ok")}).receive("timeout",()=>{r(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ku(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:c,leave:u,join:d}=pr;if(n&&[a,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let p=this._onMessage(i,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,g,x;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((x=(g=v.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===i}).map(v=>v.callback(p,n)):(o=this.bindings[i])===null||o===void 0||o.filter(v=>{var y,g,x,w,m,b;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in v){const _=v.id,k=(y=v.filter)===null||y===void 0?void 0:y.event;return _&&((g=r.ids)===null||g===void 0?void 0:g.includes(_))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((x=r.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const _=(m=(w=v==null?void 0:v.filter)===null||w===void 0?void 0:w.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===i}).map(v=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:g,table:x,commit_timestamp:w,type:m,errors:b}=y;p=Object.assign(Object.assign({},{schema:g,table:x,commit_timestamp:w,eventType:m,new:{},old:{},errors:b}),this._getPayloadRecords(y))}v.callback(p,n)})}_isClosed(){return this.state===Dt.closed}_isJoined(){return this.state===Dt.joined}_isJoining(){return this.state===Dt.joining}_isLeaving(){return this.state===Dt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&cp.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pr.close,{},t)}_onError(t){this._on(pr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Dt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=qg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=qg(t.columns,t.old_record)),r}}const vA=()=>{},yA=typeof WebSocket<"u",wA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xA{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=aA,this.params={},this.timeout=V0,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=vA,this.conn=null,this.sendBuffer=[],this.serializer=new uA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...a)=>Ho(async()=>{const{default:c}=await Promise.resolve().then(()=>oi);return{default:c}},void 0).then(({default:c})=>c(...a)):i=fetch,(...a)=>i(...a)},this.endPoint=`${t}/${bf.websocket}`,this.httpEndpoint=K0(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.headers&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(o,i)=>i(JSON.stringify(o)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new q0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(yA){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new bA(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),Ho(async()=>{const{default:t}=await import("./browser--yhPHTit.js").then(r=>r.b);return{default:t}},[]).then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lA}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _o.connecting:return ds.Connecting;case _o.open:return ds.Open;case _o.closing:return ds.Closing;default:return ds.Closed}}isConnected(){return this.connectionState()===ds.Open}channel(t,r={config:{}}){const n=new cp(`realtime:${t}`,r,this);return this.channels.push(n),n}push(t){const{topic:r,event:n,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var c;(c=this.conn)===null||c===void 0||c.send(a)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(r){let n=null;try{n=JSON.parse(atob(r.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=r,this.channels.forEach(s=>{r&&s.updateJoinPayload({access_token:r}),s.joinedOnce&&s._isJoined()&&s._push(pr.access_token,{access_token:r})})}}async sendHeartbeat(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(cA,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:o,ref:i}=r;i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,o),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(s,o,i)),this.stateChangeCallbacks.message.forEach(a=>a(r))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(pr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([wA],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class bA{constructor(t,r,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=_o.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}}class up extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ye(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class _A extends up{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class kf extends up{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var kA=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const Y0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ho(async()=>{const{default:n}=await Promise.resolve().then(()=>oi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},jA=()=>kA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ho(()=>Promise.resolve().then(()=>oi),void 0)).Response:Response}),jf=e=>{if(Array.isArray(e))return e.map(r=>jf(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=jf(n)}),t};var Ls=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const Yu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SA=(e,t,r)=>Ls(void 0,void 0,void 0,function*(){const n=yield jA();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new _A(Yu(s),e.status||500))}).catch(s=>{t(new kf(Yu(s),s))}):t(new kf(Yu(e),e))}),EA=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ea(e,t,r,n,s,o){return Ls(this,void 0,void 0,function*(){return new Promise((i,a)=>{e(r,EA(t,n,s,o)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>SA(c,a,n))})})}function ac(e,t,r,n){return Ls(this,void 0,void 0,function*(){return Ea(e,"GET",t,r,n)})}function wn(e,t,r,n,s){return Ls(this,void 0,void 0,function*(){return Ea(e,"POST",t,n,s,r)})}function CA(e,t,r,n,s){return Ls(this,void 0,void 0,function*(){return Ea(e,"PUT",t,n,s,r)})}function NA(e,t,r,n){return Ls(this,void 0,void 0,function*(){return Ea(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Q0(e,t,r,n,s){return Ls(this,void 0,void 0,function*(){return Ea(e,"DELETE",t,n,s,r)})}var Et=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const PA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class TA{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Y0(s)}uploadOrUpdate(t,r,n,s){return Et(this,void 0,void 0,function*(){try{let o;const i=Object.assign(Object.assign({},Qg),s);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,c&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{})),p=yield f.json();return f.ok?{data:{path:u,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(o){if(Ye(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Et(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),i=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${i}`);a.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Qg.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(a.toString(),{method:"PUT",body:c,headers:d}),p=yield f.json();return f.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(Ye(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Et(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield wn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+o.url),a=i.searchParams.get("token");if(!a)throw new up("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:a},error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}update(t,r,n){return Et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Et(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Et(this,void 0,void 0,function*(){try{return{data:{path:(yield wn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Et(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield wn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Et(this,void 0,void 0,function*(){try{const s=yield wn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}download(t,r){return Et(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield ac(this.fetch,`${this.url}/${s}/${a}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Ye(a))return{data:null,error:a};throw a}})}info(t){return Et(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ac(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:jf(n),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}exists(t){return Et(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield NA(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ye(n)&&n instanceof kf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Et(this,void 0,void 0,function*(){try{return{data:yield Q0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}list(t,r,n){return Et(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},PA),r),{prefix:t||""});return{data:yield wn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ye(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const RA="2.7.1",AA={"X-Client-Info":`storage-js/${RA}`};var Vs=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class OA{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},AA),r),this.fetch=Y0(n)}listBuckets(){return Vs(this,void 0,void 0,function*(){try{return{data:yield ac(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ye(t))return{data:null,error:t};throw t}})}getBucket(t){return Vs(this,void 0,void 0,function*(){try{return{data:yield ac(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Vs(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Vs(this,void 0,void 0,function*(){try{return{data:yield CA(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ye(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Vs(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Vs(this,void 0,void 0,function*(){try{return{data:yield Q0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ye(r))return{data:null,error:r};throw r}})}}class MA extends OA{constructor(t,r={},n){super(t,r,n)}from(t){return new TA(this.url,this.headers,t,this.fetch)}}const DA="2.49.4";let ji="";typeof Deno<"u"?ji="deno":typeof document<"u"?ji="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ji="react-native":ji="node";const IA={"X-Client-Info":`supabase-js-${ji}/${DA}`},LA={headers:IA},$A={schema:"public"},FA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},UA={};var zA=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};const BA=e=>{let t;return e?t=e:typeof fetch>"u"?t=M0:t=fetch,(...r)=>t(...r)},WA=()=>typeof Headers>"u"?D0:Headers,HA=(e,t,r)=>{const n=BA(r),s=WA();return(o,i)=>zA(void 0,void 0,void 0,function*(){var a;const c=(a=yield t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(o,Object.assign(Object.assign({},i),{headers:u}))})};var VA=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};function qA(e){return e.replace(/\/$/,"")}function GA(e,t){const{db:r,auth:n,realtime:s,global:o}=e,{db:i,auth:a,realtime:c,global:u}=t,d={db:Object.assign(Object.assign({},i),r),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},c),s),global:Object.assign(Object.assign({},u),o),accessToken:()=>VA(this,void 0,void 0,function*(){return""})};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}const X0="2.69.1",Js=30*1e3,Sf=3,Qu=Sf*Js,KA="http://localhost:9999",YA="supabase.auth.token",QA={"X-Client-Info":`gotrue-js/${X0}`},Ef="X-Supabase-Api-Version",J0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},XA=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,JA=6e5;class dp extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ZA extends dp{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function eO(e){return re(e)&&e.name==="AuthApiError"}class Z0 extends dp{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class rs extends dp{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class pn extends rs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function tO(e){return re(e)&&e.name==="AuthSessionMissingError"}class Xu extends rs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class nl extends rs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class sl extends rs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function rO(e){return re(e)&&e.name==="AuthImplicitGrantRedirectError"}class Xg extends rs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cf extends rs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ju(e){return re(e)&&e.name==="AuthRetryableFetchError"}class Jg extends rs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class $i extends rs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Zg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ev=` 	
\r=`.split(""),nO=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ev.length;t+=1)e[ev[t].charCodeAt(0)]=-2;for(let t=0;t<Zg.length;t+=1)e[Zg[t].charCodeAt(0)]=t;return e})();function eb(e,t,r){const n=nO[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function tv(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{iO(i,n,r)};for(let i=0;i<e.length;i+=1)eb(e.charCodeAt(i),s,o);return t.join("")}function sO(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function oO(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}sO(n,t)}}function iO(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function aO(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)eb(e.charCodeAt(s),r,n);return new Uint8Array(t)}function lO(e){const t=[];return oO(e,r=>t.push(r)),new Uint8Array(t)}function cO(e){return Math.round(Date.now()/1e3)+e}function uO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Sr=()=>typeof window<"u"&&typeof document<"u",is={tested:!1,writable:!1},Fi=()=>{if(!Sr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(is.tested)return is.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),is.tested=!0,is.writable=!0}catch{is.tested=!0,is.writable=!1}return is.writable};function dO(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const tb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ho(async()=>{const{default:n}=await Promise.resolve().then(()=>oi);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},fO=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",rb=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ol=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},il=async(e,t)=>{await e.removeItem(t)};class Qc{constructor(){this.promise=new Qc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Qc.promiseConstructor=Promise;function Zu(e){const t=e.split(".");if(t.length!==3)throw new $i("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!XA.test(t[n]))throw new $i("JWT not in base64url format");return{header:JSON.parse(tv(t[0])),payload:JSON.parse(tv(t[1])),signature:aO(t[2]),raw:{header:t[0],payload:t[1]}}}async function hO(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function pO(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){n(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function mO(e){return("0"+e.toString(16)).substr(-2)}function gO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,mO).join("")}async function vO(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function yO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await vO(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qs(e,t,r=!1){const n=gO();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await rb(e,`${t}-code-verifier`,s);const o=await yO(n);return[o,n===o?"plain":"s256"]}const wO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xO(e){const t=e.headers.get(Ef);if(!t||!t.match(wO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _O(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var kO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const cs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jO=[502,503,504];async function rv(e){var t;if(!fO(e))throw new Cf(cs(e),0);if(jO.includes(e.status))throw new Cf(cs(e),e.status);let r;try{r=await e.json()}catch(o){throw new Z0(cs(o),o)}let n;const s=xO(e);if(s&&s.getTime()>=J0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Jg(cs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new pn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Jg(cs(r),e.status,r.weak_password.reasons);throw new ZA(cs(r),e.status||500,n)}const SO=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ie(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Ef]||(o[Ef]=J0["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await EO(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function EO(e,t,r,n,s,o){const i=SO(t,n,s,o);let a;try{a=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new Cf(cs(c),0)}if(a.ok||await rv(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(c){await rv(c)}}function mn(e){var t;let r=null;TO(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=cO(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function nv(e){const t=mn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _n(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function CO(e){return{data:e,error:null}}function NO(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,i=kO(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},c=Object.assign({},i);return{data:{properties:a,user:c},error:null}}function PO(e){return e}function TO(e){return e.access_token&&e.refresh_token&&e.expires_in}var RO=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class AO{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=tb(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r="global"){try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_n})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=RO(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:NO,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_n})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,i,a,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:PO});if(d.error)throw d.error;const f=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,v=(c=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(y=>{const g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(y.split(";")[1].split("=")[1]);u[`${x}Page`]=g}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(re(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_n})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:_n})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:_n})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){try{const{data:r,error:n}=await ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteFactor(t){try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}}const OO={getItem:e=>Fi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Fi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Fi()&&globalThis.localStorage.removeItem(e)}};function sv(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function MO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gs={debug:!!(globalThis&&Fi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nb extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class DO extends nb{}async function IO(e,t,r){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Gs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new DO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gs.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}MO();const LO={url:KA,storageKey:YA,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:QA,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ov(e,t,r){return await r()}class ca{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ca.nextInstanceID,ca.nextInstanceID+=1,this.instanceID>0&&Sr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},LO),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new AO({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=tb(s.fetch),this.lock=s.lock||ov,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Sr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=IO:this.lock=ov,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Fi()?this.storage=OO:(this.memoryStorage={},this.storage=sv(this.memoryStorage)):(this.memoryStorage={},this.storage=sv(this.memoryStorage)),Sr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${X0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=dO(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Sr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),rO(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return re(r)?{error:r}:{error:new Z0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:mn}),{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(re(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:d,password:f,options:p}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await qs(this.storage,this.storageKey)),o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:y},xform:mn})}else if("phone"in t){const{phone:d,password:f,options:p}=t;o=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:mn})}else throw new nl("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return{data:{user:null,session:null},error:a};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(o){if(re(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:i,options:a}=t;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nv})}else if("phone"in t){const{phone:o,password:i,options:a}=t;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nv})}else throw new nl("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Xu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async _exchangeCodeForSession(t){const r=await ol(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:i}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:mn});if(await il(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Xu}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(re(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:i}=t,a=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:mn}),{data:c,error:u}=a;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Xu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,i;try{if("email"in t){const{email:a,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await qs(this.storage,this.storageKey));const{error:f}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:a,options:c}=t,{data:u,error:d}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new nl("You must provide either an email or phone number.")}catch(a){if(re(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:a}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:mn});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(re(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,i=null;return this.flowType==="pkce"&&([o,i]=await qs(this.storage,this.storageKey)),await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:i}),headers:this.headers,xform:CO})}catch(o){if(re(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new pn;const{error:s}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(re(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:i}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:i,error:a}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a}}throw new nl("You must provide either an email or phone number and a type")}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ol(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Qu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_n}):await this._useSession(async r=>{var n,s,o;const{data:i,error:a}=r;if(a)throw a;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pn}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:_n})})}catch(r){if(re(r))return tO(r)&&(await this._removeSession(),await il(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new pn;const i=s.session;let a=null,c=null;this.flowType==="pkce"&&t.email!=null&&([a,c]=await qs(this.storage,this.storageKey));const{data:u,error:d}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:c}),jwt:i.access_token,xform:_n});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(re(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pn;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:i}=Zu(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:a,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(re(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:a}=r;if(a)throw a;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new pn;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(re(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Sr())throw new sl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new sl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Xg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Xg("No code detected.");const{data:m,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:c,token_type:u}=t;if(!o||!a||!i||!u)throw new sl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(a);let p=d+f;c&&(p=parseInt(c));const v=p-d;v*1e3<=Js&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const y=p-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,d);const{data:g,error:x}=await this._getUser(o);if(x)throw x;const w={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:p,refresh_token:i,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(n){if(re(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ol(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(eO(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await il(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=uO(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await qs(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(re(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var i,a,c,u,d;const{data:f,error:p}=o;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Sr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(re(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)throw i;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await pO(async s=>(s>0&&await hO(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:mn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&Ju(o)&&Date.now()+i-n<Js})}catch(n){if(this._debug(r,"error",n),re(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Sr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ol(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Qu;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Qu}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Ju(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Qc;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new pn;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),re(o)){const i={session:null,error:o};return Ju(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(c){o.push(c)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await rb(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await il(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Sr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Js);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Js}ms, refresh threshold is ${Sf} ticks`),s<=Sf&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nb)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Sr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,i]=await qs(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:i}=r;if(i)return{data:null,error:i};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:i,error:a}=await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:a})})}catch(r){if(re(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(re(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),o=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Zu(s.access_token);let a=null;i.aal&&(a=i.aal);let c=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(i=>i.kid===t);if(n||(n=this.jwks.keys.find(i=>i.kid===t),n&&this.jwks_cached_at+JA>Date.now()))return n;const{data:s,error:o}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;if(!s.keys||s.keys.length===0)throw new $i("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(i=>i.kid===t),!n)throw new $i("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:c}}=Zu(n);if(bO(o.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:o,header:s,signature:i},error:null}}const u=_O(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,i,lO(`${a}.${c}`)))throw new $i("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(n){if(re(n))return{data:null,error:n};throw n}}}ca.nextInstanceID=0;const $O=ca;class FO extends $O{constructor(t){super(t)}}var UO=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function a(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?o(d.value):s(d.value).then(a,c)}u((n=n.apply(e,t||[])).next())})};class zO{constructor(t,r,n){var s,o,i;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=qA(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;const c=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,u={db:$A,realtime:UA,auth:Object.assign(Object.assign({},FA),{storageKey:c}),global:LA},d=GA(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=HA(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new oA(`${a}/rest/v1`,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new DR(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new MA(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return UO(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:o,flowType:i,lock:a,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FO({url:this.authUrl,headers:Object.assign(Object.assign({},f),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:i,lock:a,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new xA(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const BO=(e,t,r)=>new zO(e,t,r),WO="https://jnupeddogxvcrqoolamn.supabase.co",HO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpudXBlZGRvZ3h2Y3Jxb29sYW1uIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDYwODU5NjAsImV4cCI6MjA2MTY2MTk2MH0.eyXP7LyEX7diQn5Kd4KZHIbDqJc-y4qaLw_G62oZldQ",I=BO(WO,HO,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),ae=()=>{const e=h.useContext(O0);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e},sb=h.createContext(void 0);function VO({children:e}){const[t,r]=h.useState(null),[n,s]=h.useState(null),[o,i]=h.useState(!0),a=it(),{toast:c}=Se(),{t:u}=ae(),d=(y,g)=>{console.log(`[Auth Debug] ${y}`,g||"")};h.useEffect(()=>{d("AuthContext 초기화");let y=!0;const{data:{subscription:g}}=I.auth.onAuthStateChange((w,m)=>{var b,_;y&&(d(`Auth state changed: ${w}`,{userId:(b=m==null?void 0:m.user)==null?void 0:b.id}),m!==n&&(s(m),r((m==null?void 0:m.user)??null)),w==="SIGNED_IN"&&((_=m==null?void 0:m.user)!=null&&_.id)&&(d("User signed in, checking onboarding status"),setTimeout(()=>{var k;(k=m==null?void 0:m.user)!=null&&k.id&&f(m.user.id)},0)))});return(async()=>{var w;try{const{data:{session:m}}=await I.auth.getSession();d("세션 확인 결과",{exists:!!m,userId:(w=m==null?void 0:m.user)==null?void 0:w.id}),y&&(s(m),r((m==null?void 0:m.user)??null),m!=null&&m.user?f(m.user.id):i(!1))}catch(m){d("세션 확인 중 오류 발생",m),y&&i(!1)}})(),()=>{y=!1,d("Auth subscription unsubscribe"),g.unsubscribe()}},[]);const f=async y=>{if(d("사용자 온보딩 상태 확인 시작",{userId:y}),!y){d("유효한 사용자 ID가 없음"),i(!1);return}try{d("get_user_onboarding_status RPC 호출");const{data:g,error:x}=await I.rpc("get_user_onboarding_status",{user_id:y});if(x)throw d("온보딩 상태 조회 오류",x),x;if(d("온보딩 상태 조회 결과",g),!g||g.length===0){d("사용자 프로필이 없음, 새로 생성");const{error:w}=await I.rpc("upsert_user_profile",{user_id:y});if(w)throw d("사용자 프로필 생성 오류",w),w;d("온보딩 1단계로 리디렉션"),a("/onboarding/1")}else{const w=g[0];if(d("사용자 프로필 확인됨",w),w.onboarding_completed)d("온보딩 완료됨");else{const m=w.onboarding_step?w.onboarding_step:1;d(`온보딩 ${m}단계로 리디렉션`),a(`/onboarding/${m}`)}}}catch(g){console.error("사용자 온보딩 상태 확인 오류:",g),d("사용자 온보딩 상태 확인 오류",g),c({title:u("error.generic"),description:u("error.try_again"),variant:"destructive"})}finally{i(!1)}},p=async()=>{try{const{error:y}=await I.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin,queryParams:{access_type:"offline",prompt:"consent"}}});if(y)throw y}catch(y){console.error("Google 로그인 오류:",y),c({title:u("auth.login_failed"),description:u("auth.try_again"),variant:"destructive"})}},v=async()=>{try{const{error:y}=await I.auth.signOut();if(y)throw y;a("/login"),c({title:u("auth.logout_success"),description:u("auth.logout_success_desc")})}catch(y){console.error("로그아웃 오류:",y),c({title:u("auth.logout_failed"),description:u("error.try_again"),variant:"destructive"})}};return l.jsx(sb.Provider,{value:{user:t,session:n,loading:o,signInWithGoogle:p,signOut:v},children:e})}const $e=()=>{const e=h.useContext(sb);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},fp=Jo("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=h.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...s},o)=>{const i=n?qn:"button";return l.jsx(i,{className:H(fp({variant:t,size:r,className:e})),ref:o,...s})});X.displayName="Button";var qO=h.createContext(void 0);function Ca(e){const t=h.useContext(qO);return e||t||"ltr"}var ed=0;function hp(){h.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??iv()),document.body.insertAdjacentElement("beforeend",e[1]??iv()),ed++,()=>{ed===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ed--}},[])}function iv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var td="focusScope.autoFocusOnMount",rd="focusScope.autoFocusOnUnmount",av={bubbles:!1,cancelable:!0},GO="FocusScope",Xc=h.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,c]=h.useState(null),u=ot(s),d=ot(o),f=h.useRef(null),p=se(t,g=>c(g)),v=h.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;h.useEffect(()=>{if(n){let g=function(b){if(v.paused||!a)return;const _=b.target;a.contains(_)?f.current=_:gn(f.current,{select:!0})},x=function(b){if(v.paused||!a)return;const _=b.relatedTarget;_!==null&&(a.contains(_)||gn(f.current,{select:!0}))},w=function(b){if(document.activeElement===document.body)for(const k of b)k.removedNodes.length>0&&gn(a)};document.addEventListener("focusin",g),document.addEventListener("focusout",x);const m=new MutationObserver(w);return a&&m.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",x),m.disconnect()}}},[n,a,v.paused]),h.useEffect(()=>{if(a){cv.add(v);const g=document.activeElement;if(!a.contains(g)){const w=new CustomEvent(td,av);a.addEventListener(td,u),a.dispatchEvent(w),w.defaultPrevented||(KO(ZO(ob(a)),{select:!0}),document.activeElement===g&&gn(a))}return()=>{a.removeEventListener(td,u),setTimeout(()=>{const w=new CustomEvent(rd,av);a.addEventListener(rd,d),a.dispatchEvent(w),w.defaultPrevented||gn(g??document.body,{select:!0}),a.removeEventListener(rd,d),cv.remove(v)},0)}}},[a,u,d,v]);const y=h.useCallback(g=>{if(!r&&!n||v.paused)return;const x=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,w=document.activeElement;if(x&&w){const m=g.currentTarget,[b,_]=YO(m);b&&_?!g.shiftKey&&w===_?(g.preventDefault(),r&&gn(b,{select:!0})):g.shiftKey&&w===b&&(g.preventDefault(),r&&gn(_,{select:!0})):w===m&&g.preventDefault()}},[r,n,v.paused]);return l.jsx(K.div,{tabIndex:-1,...i,ref:p,onKeyDown:y})});Xc.displayName=GO;function KO(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(gn(n,{select:t}),document.activeElement!==r)return}function YO(e){const t=ob(e),r=lv(t,e),n=lv(t.reverse(),e);return[r,n]}function ob(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function lv(e,t){for(const r of e)if(!QO(r,{upTo:t}))return r}function QO(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function XO(e){return e instanceof HTMLInputElement&&"select"in e}function gn(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&XO(e)&&t&&e.select()}}var cv=JO();function JO(){let e=[];return{add(t){const r=e[0];t!==r&&(r==null||r.pause()),e=uv(e,t),e.unshift(t)},remove(t){var r;e=uv(e,t),(r=e[0])==null||r.resume()}}}function uv(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function ZO(e){return e.filter(t=>t.tagName!=="A")}function eM(e,t=[]){let r=[];function n(o,i){const a=h.createContext(i),c=r.length;r=[...r,i];function u(f){const{scope:p,children:v,...y}=f,g=(p==null?void 0:p[e][c])||a,x=h.useMemo(()=>y,Object.values(y));return l.jsx(g.Provider,{value:x,children:v})}function d(f,p){const v=(p==null?void 0:p[e][c])||a,y=h.useContext(v);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,d]}const s=()=>{const o=r.map(i=>h.createContext(i));return function(a){const c=(a==null?void 0:a[e])||o;return h.useMemo(()=>({[`__scope${e}`]:{...a,[e]:c}}),[a,c])}};return s.scopeName=e,[n,tM(s,...t)]}function tM(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=n.reduce((a,{useScope:c,scopeName:u})=>{const f=c(o)[`__scope${u}`];return{...a,...f}},{});return h.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return r.scopeName=t.scopeName,r}var nd="rovingFocusGroup.onEntryFocus",rM={bubbles:!1,cancelable:!0},Jc="RovingFocusGroup",[Nf,ib,nM]=xa(Jc),[sM,Zc]=eM(Jc,[nM]),[oM,iM]=sM(Jc),ab=h.forwardRef((e,t)=>l.jsx(Nf.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Nf.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(aM,{...e,ref:t})})}));ab.displayName=Jc;var aM=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,p=h.useRef(null),v=se(t,p),y=Ca(o),[g=null,x]=qt({prop:i,defaultProp:a,onChange:c}),[w,m]=h.useState(!1),b=ot(u),_=ib(r),k=h.useRef(!1),[j,E]=h.useState(0);return h.useEffect(()=>{const S=p.current;if(S)return S.addEventListener(nd,b),()=>S.removeEventListener(nd,b)},[b]),l.jsx(oM,{scope:r,orientation:n,dir:y,loop:s,currentTabStopId:g,onItemFocus:h.useCallback(S=>x(S),[x]),onItemShiftTab:h.useCallback(()=>m(!0),[]),onFocusableItemAdd:h.useCallback(()=>E(S=>S+1),[]),onFocusableItemRemove:h.useCallback(()=>E(S=>S-1),[]),children:l.jsx(K.div,{tabIndex:w||j===0?-1:0,"data-orientation":n,...f,ref:v,style:{outline:"none",...e.style},onMouseDown:L(e.onMouseDown,()=>{k.current=!0}),onFocus:L(e.onFocus,S=>{const N=!k.current;if(S.target===S.currentTarget&&N&&!w){const T=new CustomEvent(nd,rM);if(S.currentTarget.dispatchEvent(T),!T.defaultPrevented){const z=_().filter(U=>U.focusable),D=z.find(U=>U.active),B=z.find(U=>U.id===g),Y=[D,B,...z].filter(Boolean).map(U=>U.ref.current);ub(Y,d)}}k.current=!1}),onBlur:L(e.onBlur,()=>m(!1))})})}),lb="RovingFocusGroupItem",cb=h.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,...i}=e,a=nr(),c=o||a,u=iM(lb,r),d=u.currentTabStopId===c,f=ib(r),{onFocusableItemAdd:p,onFocusableItemRemove:v}=u;return h.useEffect(()=>{if(n)return p(),()=>v()},[n,p,v]),l.jsx(Nf.ItemSlot,{scope:r,id:c,focusable:n,active:s,children:l.jsx(K.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...i,ref:t,onMouseDown:L(e.onMouseDown,y=>{n?u.onItemFocus(c):y.preventDefault()}),onFocus:L(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:L(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const g=uM(y,u.orientation,u.dir);if(g!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let w=f().filter(m=>m.focusable).map(m=>m.ref.current);if(g==="last")w.reverse();else if(g==="prev"||g==="next"){g==="prev"&&w.reverse();const m=w.indexOf(y.currentTarget);w=u.loop?dM(w,m+1):w.slice(m+1)}setTimeout(()=>ub(w))}})})})});cb.displayName=lb;var lM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function uM(e,t,r){const n=cM(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return lM[n]}function ub(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function dM(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var db=ab,fb=cb,fM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ks=new WeakMap,al=new WeakMap,ll={},sd=0,hb=function(e){return e&&(e.host||hb(e.parentNode))},hM=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=hb(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},pM=function(e,t,r,n){var s=hM(t,Array.isArray(e)?e:[e]);ll[r]||(ll[r]=new WeakMap);var o=ll[r],i=[],a=new Set,c=new Set(s),u=function(f){!f||a.has(f)||(a.add(f),u(f.parentNode))};s.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))d(p);else try{var v=p.getAttribute(n),y=v!==null&&v!=="false",g=(Ks.get(p)||0)+1,x=(o.get(p)||0)+1;Ks.set(p,g),o.set(p,x),i.push(p),g===1&&y&&al.set(p,!0),x===1&&p.setAttribute(r,"true"),y||p.setAttribute(n,"true")}catch(w){console.error("aria-hidden: cannot operate on ",p,w)}})};return d(t),a.clear(),sd++,function(){i.forEach(function(f){var p=Ks.get(f)-1,v=o.get(f)-1;Ks.set(f,p),o.set(f,v),p||(al.has(f)||f.removeAttribute(n),al.delete(f)),v||f.removeAttribute(r)}),sd--,sd||(Ks=new WeakMap,Ks=new WeakMap,al=new WeakMap,ll={})}},pp=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=fM(e);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),pM(n,s,r,"aria-hidden")):function(){return null}},Rr=function(){return Rr=Object.assign||function(t){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o])}return t},Rr.apply(this,arguments)};function pb(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function mM(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,o;n<s;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return e.concat(o||Array.prototype.slice.call(t))}var Cl="right-scroll-bar-position",Nl="width-before-scroll-bar",gM="with-scroll-bars-hidden",vM="--removed-body-scroll-bar-size";function od(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function yM(e,t){var r=h.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=t,r.facade}var wM=typeof window<"u"?h.useLayoutEffect:h.useEffect,dv=new WeakMap;function xM(e,t){var r=yM(null,function(n){return e.forEach(function(s){return od(s,n)})});return wM(function(){var n=dv.get(r);if(n){var s=new Set(n),o=new Set(e),i=r.current;s.forEach(function(a){o.has(a)||od(a,null)}),o.forEach(function(a){s.has(a)||od(a,i)})}dv.set(r,e)},[e]),r}function bM(e){return e}function _M(e,t){t===void 0&&(t=bM);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(o){var i=t(o,n);return r.push(i),function(){r=r.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(n=!0;r.length;){var i=r;r=[],i.forEach(o)}r={push:function(a){return o(a)},filter:function(){return r}}},assignMedium:function(o){n=!0;var i=[];if(r.length){var a=r;r=[],a.forEach(o),i=r}var c=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),r}}}};return s}function kM(e){e===void 0&&(e={});var t=_M(null);return t.options=Rr({async:!0,ssr:!1},e),t}var mb=function(e){var t=e.sideCar,r=pb(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return h.createElement(n,Rr({},r))};mb.isSideCarExport=!0;function jM(e,t){return e.useMedium(t),mb}var gb=kM(),id=function(){},eu=h.forwardRef(function(e,t){var r=h.useRef(null),n=h.useState({onScrollCapture:id,onWheelCapture:id,onTouchMoveCapture:id}),s=n[0],o=n[1],i=e.forwardProps,a=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,p=e.sideCar,v=e.noIsolation,y=e.inert,g=e.allowPinchZoom,x=e.as,w=x===void 0?"div":x,m=e.gapMode,b=pb(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),_=p,k=xM([r,t]),j=Rr(Rr({},b),s);return h.createElement(h.Fragment,null,d&&h.createElement(_,{sideCar:gb,removeScrollBar:u,shards:f,noIsolation:v,inert:y,setCallbacks:o,allowPinchZoom:!!g,lockRef:r,gapMode:m}),i?h.cloneElement(h.Children.only(a),Rr(Rr({},j),{ref:k})):h.createElement(w,Rr({},j,{className:c,ref:k}),a))});eu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};eu.classNames={fullWidth:Nl,zeroRight:Cl};var SM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function EM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=SM();return t&&e.setAttribute("nonce",t),e}function CM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function NM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var PM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=EM())&&(CM(t,r),NM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},TM=function(){var e=PM();return function(t,r){h.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},vb=function(){var e=TM(),t=function(r){var n=r.styles,s=r.dynamic;return e(n,s),null};return t},RM={left:0,top:0,right:0,gap:0},ad=function(e){return parseInt(e||"",10)||0},AM=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[ad(r),ad(n),ad(s)]},OM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return RM;var t=AM(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},MM=vb(),ko="data-scroll-locked",DM=function(e,t,r,n){var s=e.left,o=e.top,i=e.right,a=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(gM,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(a,"px ").concat(n,`;
  }
  body[`).concat(ko,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Cl,` {
    right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Nl,` {
    margin-right: `).concat(a,"px ").concat(n,`;
  }
  
  .`).concat(Cl," .").concat(Cl,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Nl," .").concat(Nl,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(ko,`] {
    `).concat(vM,": ").concat(a,`px;
  }
`)},fv=function(){var e=parseInt(document.body.getAttribute(ko)||"0",10);return isFinite(e)?e:0},IM=function(){h.useEffect(function(){return document.body.setAttribute(ko,(fv()+1).toString()),function(){var e=fv()-1;e<=0?document.body.removeAttribute(ko):document.body.setAttribute(ko,e.toString())}},[])},LM=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=n===void 0?"margin":n;IM();var o=h.useMemo(function(){return OM(s)},[s]);return h.createElement(MM,{styles:DM(o,!t,s,r?"":"!important")})},Pf=!1;if(typeof window<"u")try{var cl=Object.defineProperty({},"passive",{get:function(){return Pf=!0,!0}});window.addEventListener("test",cl,cl),window.removeEventListener("test",cl,cl)}catch{Pf=!1}var Ys=Pf?{passive:!1}:!1,$M=function(e){return e.tagName==="TEXTAREA"},yb=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!$M(e)&&r[t]==="visible")},FM=function(e){return yb(e,"overflowY")},UM=function(e){return yb(e,"overflowX")},hv=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=wb(e,n);if(s){var o=xb(e,n),i=o[1],a=o[2];if(i>a)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},zM=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},BM=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},wb=function(e,t){return e==="v"?FM(t):UM(t)},xb=function(e,t){return e==="v"?zM(t):BM(t)},WM=function(e,t){return e==="h"&&t==="rtl"?-1:1},HM=function(e,t,r,n,s){var o=WM(e,window.getComputedStyle(t).direction),i=o*n,a=r.target,c=t.contains(a),u=!1,d=i>0,f=0,p=0;do{var v=xb(e,a),y=v[0],g=v[1],x=v[2],w=g-x-o*y;(y||w)&&wb(e,a)&&(f+=w,p+=y),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(d&&(Math.abs(f)<1||!s)||!d&&(Math.abs(p)<1||!s))&&(u=!0),u},ul=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},pv=function(e){return[e.deltaX,e.deltaY]},mv=function(e){return e&&"current"in e?e.current:e},VM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},qM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},GM=0,Qs=[];function KM(e){var t=h.useRef([]),r=h.useRef([0,0]),n=h.useRef(),s=h.useState(GM++)[0],o=h.useState(vb)[0],i=h.useRef(e);h.useEffect(function(){i.current=e},[e]),h.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var g=mM([e.lockRef.current],(e.shards||[]).map(mv),!0).filter(Boolean);return g.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=h.useCallback(function(g,x){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!i.current.allowPinchZoom;var w=ul(g),m=r.current,b="deltaX"in g?g.deltaX:m[0]-w[0],_="deltaY"in g?g.deltaY:m[1]-w[1],k,j=g.target,E=Math.abs(b)>Math.abs(_)?"h":"v";if("touches"in g&&E==="h"&&j.type==="range")return!1;var S=hv(E,j);if(!S)return!0;if(S?k=E:(k=E==="v"?"h":"v",S=hv(E,j)),!S)return!1;if(!n.current&&"changedTouches"in g&&(b||_)&&(n.current=k),!k)return!0;var N=n.current||k;return HM(N,x,g,N==="h"?b:_,!0)},[]),c=h.useCallback(function(g){var x=g;if(!(!Qs.length||Qs[Qs.length-1]!==o)){var w="deltaY"in x?pv(x):ul(x),m=t.current.filter(function(k){return k.name===x.type&&(k.target===x.target||x.target===k.shadowParent)&&VM(k.delta,w)})[0];if(m&&m.should){x.cancelable&&x.preventDefault();return}if(!m){var b=(i.current.shards||[]).map(mv).filter(Boolean).filter(function(k){return k.contains(x.target)}),_=b.length>0?a(x,b[0]):!i.current.noIsolation;_&&x.cancelable&&x.preventDefault()}}},[]),u=h.useCallback(function(g,x,w,m){var b={name:g,delta:x,target:w,should:m,shadowParent:YM(w)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(_){return _!==b})},1)},[]),d=h.useCallback(function(g){r.current=ul(g),n.current=void 0},[]),f=h.useCallback(function(g){u(g.type,pv(g),g.target,a(g,e.lockRef.current))},[]),p=h.useCallback(function(g){u(g.type,ul(g),g.target,a(g,e.lockRef.current))},[]);h.useEffect(function(){return Qs.push(o),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,Ys),document.addEventListener("touchmove",c,Ys),document.addEventListener("touchstart",d,Ys),function(){Qs=Qs.filter(function(g){return g!==o}),document.removeEventListener("wheel",c,Ys),document.removeEventListener("touchmove",c,Ys),document.removeEventListener("touchstart",d,Ys)}},[]);var v=e.removeScrollBar,y=e.inert;return h.createElement(h.Fragment,null,y?h.createElement(o,{styles:qM(s)}):null,v?h.createElement(LM,{gapMode:e.gapMode}):null)}function YM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const QM=jM(gb,KM);var tu=h.forwardRef(function(e,t){return h.createElement(eu,Rr({},e,{ref:t,sideCar:QM}))});tu.classNames=eu.classNames;var Tf=["Enter"," "],XM=["ArrowDown","PageUp","Home"],bb=["ArrowUp","PageDown","End"],JM=[...XM,...bb],ZM={ltr:[...Tf,"ArrowRight"],rtl:[...Tf,"ArrowLeft"]},eD={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Na="Menu",[ua,tD,rD]=xa(Na),[$s,_b]=Yt(Na,[rD,ri,Zc]),ru=ri(),kb=Zc(),[nD,Fs]=$s(Na),[sD,Pa]=$s(Na),jb=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:o,modal:i=!0}=e,a=ru(t),[c,u]=h.useState(null),d=h.useRef(!1),f=ot(o),p=Ca(s);return h.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),l.jsx(o0,{...a,children:l.jsx(nD,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(sD,{scope:t,onClose:h.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:p,modal:i,children:n})})})};jb.displayName=Na;var oD="MenuAnchor",mp=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=ru(r);return l.jsx(Jh,{...s,...n,ref:t})});mp.displayName=oD;var gp="MenuPortal",[iD,Sb]=$s(gp,{forceMount:void 0}),Eb=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:s}=e,o=Fs(gp,t);return l.jsx(iD,{scope:t,forceMount:r,children:l.jsx(Qt,{present:r||o.open,children:l.jsx(ba,{asChild:!0,container:s,children:n})})})};Eb.displayName=gp;var sr="MenuContent",[aD,vp]=$s(sr),Cb=h.forwardRef((e,t)=>{const r=Sb(sr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Fs(sr,e.__scopeMenu),i=Pa(sr,e.__scopeMenu);return l.jsx(ua.Provider,{scope:e.__scopeMenu,children:l.jsx(Qt,{present:n||o.open,children:l.jsx(ua.Slot,{scope:e.__scopeMenu,children:i.modal?l.jsx(lD,{...s,ref:t}):l.jsx(cD,{...s,ref:t})})})})}),lD=h.forwardRef((e,t)=>{const r=Fs(sr,e.__scopeMenu),n=h.useRef(null),s=se(t,n);return h.useEffect(()=>{const o=n.current;if(o)return pp(o)},[]),l.jsx(yp,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:L(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),cD=h.forwardRef((e,t)=>{const r=Fs(sr,e.__scopeMenu);return l.jsx(yp,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),yp=h.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:v,disableOutsideScroll:y,...g}=e,x=Fs(sr,r),w=Pa(sr,r),m=ru(r),b=kb(r),_=tD(r),[k,j]=h.useState(null),E=h.useRef(null),S=se(t,E,x.onContentChange),N=h.useRef(0),T=h.useRef(""),z=h.useRef(0),D=h.useRef(null),B=h.useRef("right"),M=h.useRef(0),Y=y?tu:h.Fragment,U=y?{as:qn,allowPinchZoom:!0}:void 0,Q=P=>{var G,ue;const F=T.current+P,$=_().filter(fe=>!fe.disabled),q=document.activeElement,J=(G=$.find(fe=>fe.ref.current===q))==null?void 0:G.textValue,ce=$.map(fe=>fe.textValue),Fe=bD(ce,F,J),Z=(ue=$.find(fe=>fe.textValue===Fe))==null?void 0:ue.ref.current;(function fe(le){T.current=le,window.clearTimeout(N.current),le!==""&&(N.current=window.setTimeout(()=>fe(""),1e3))})(F),Z&&setTimeout(()=>Z.focus())};h.useEffect(()=>()=>window.clearTimeout(N.current),[]),hp();const C=h.useCallback(P=>{var $,q;return B.current===(($=D.current)==null?void 0:$.side)&&kD(P,(q=D.current)==null?void 0:q.area)},[]);return l.jsx(aD,{scope:r,searchRef:T,onItemEnter:h.useCallback(P=>{C(P)&&P.preventDefault()},[C]),onItemLeave:h.useCallback(P=>{var F;C(P)||((F=E.current)==null||F.focus(),j(null))},[C]),onTriggerLeave:h.useCallback(P=>{C(P)&&P.preventDefault()},[C]),pointerGraceTimerRef:z,onPointerGraceIntentChange:h.useCallback(P=>{D.current=P},[]),children:l.jsx(Y,{...U,children:l.jsx(Xc,{asChild:!0,trapped:s,onMountAutoFocus:L(o,P=>{var F;P.preventDefault(),(F=E.current)==null||F.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(Xo,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:p,onDismiss:v,children:l.jsx(db,{asChild:!0,...b,dir:w.dir,orientation:"vertical",loop:n,currentTabStopId:k,onCurrentTabStopIdChange:j,onEntryFocus:L(c,P=>{w.isUsingKeyboardRef.current||P.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Zh,{role:"menu","aria-orientation":"vertical","data-state":Wb(x.open),"data-radix-menu-content":"",dir:w.dir,...m,...g,ref:S,style:{outline:"none",...g.style},onKeyDown:L(g.onKeyDown,P=>{const $=P.target.closest("[data-radix-menu-content]")===P.currentTarget,q=P.ctrlKey||P.altKey||P.metaKey,J=P.key.length===1;$&&(P.key==="Tab"&&P.preventDefault(),!q&&J&&Q(P.key));const ce=E.current;if(P.target!==ce||!JM.includes(P.key))return;P.preventDefault();const Z=_().filter(G=>!G.disabled).map(G=>G.ref.current);bb.includes(P.key)&&Z.reverse(),wD(Z)}),onBlur:L(e.onBlur,P=>{P.currentTarget.contains(P.target)||(window.clearTimeout(N.current),T.current="")}),onPointerMove:L(e.onPointerMove,da(P=>{const F=P.target,$=M.current!==P.clientX;if(P.currentTarget.contains(F)&&$){const q=P.clientX>M.current?"right":"left";B.current=q,M.current=P.clientX}}))})})})})})})});Cb.displayName=sr;var uD="MenuGroup",wp=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(K.div,{role:"group",...n,ref:t})});wp.displayName=uD;var dD="MenuLabel",Nb=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(K.div,{...n,ref:t})});Nb.displayName=dD;var lc="MenuItem",gv="menu.itemSelect",nu=h.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...s}=e,o=h.useRef(null),i=Pa(lc,e.__scopeMenu),a=vp(lc,e.__scopeMenu),c=se(t,o),u=h.useRef(!1),d=()=>{const f=o.current;if(!r&&f){const p=new CustomEvent(gv,{bubbles:!0,cancelable:!0});f.addEventListener(gv,v=>n==null?void 0:n(v),{once:!0}),Ih(f,p),p.defaultPrevented?u.current=!1:i.onClose()}};return l.jsx(Pb,{...s,ref:c,disabled:r,onClick:L(e.onClick,d),onPointerDown:f=>{var p;(p=e.onPointerDown)==null||p.call(e,f),u.current=!0},onPointerUp:L(e.onPointerUp,f=>{var p;u.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:L(e.onKeyDown,f=>{const p=a.searchRef.current!=="";r||p&&f.key===" "||Tf.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});nu.displayName=lc;var Pb=h.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:s,...o}=e,i=vp(lc,r),a=kb(r),c=h.useRef(null),u=se(t,c),[d,f]=h.useState(!1),[p,v]=h.useState("");return h.useEffect(()=>{const y=c.current;y&&v((y.textContent??"").trim())},[o.children]),l.jsx(ua.ItemSlot,{scope:r,disabled:n,textValue:s??p,children:l.jsx(fb,{asChild:!0,...a,focusable:!n,children:l.jsx(K.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...o,ref:u,onPointerMove:L(e.onPointerMove,da(y=>{n?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:L(e.onPointerLeave,da(y=>i.onItemLeave(y))),onFocus:L(e.onFocus,()=>f(!0)),onBlur:L(e.onBlur,()=>f(!1))})})})}),fD="MenuCheckboxItem",Tb=h.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...s}=e;return l.jsx(Db,{scope:e.__scopeMenu,checked:r,children:l.jsx(nu,{role:"menuitemcheckbox","aria-checked":cc(r)?"mixed":r,...s,ref:t,"data-state":bp(r),onSelect:L(s.onSelect,()=>n==null?void 0:n(cc(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Tb.displayName=fD;var Rb="MenuRadioGroup",[hD,pD]=$s(Rb,{value:void 0,onValueChange:()=>{}}),Ab=h.forwardRef((e,t)=>{const{value:r,onValueChange:n,...s}=e,o=ot(n);return l.jsx(hD,{scope:e.__scopeMenu,value:r,onValueChange:o,children:l.jsx(wp,{...s,ref:t})})});Ab.displayName=Rb;var Ob="MenuRadioItem",Mb=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=pD(Ob,e.__scopeMenu),o=r===s.value;return l.jsx(Db,{scope:e.__scopeMenu,checked:o,children:l.jsx(nu,{role:"menuitemradio","aria-checked":o,...n,ref:t,"data-state":bp(o),onSelect:L(n.onSelect,()=>{var i;return(i=s.onValueChange)==null?void 0:i.call(s,r)},{checkForDefaultPrevented:!1})})})});Mb.displayName=Ob;var xp="MenuItemIndicator",[Db,mD]=$s(xp,{checked:!1}),Ib=h.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...s}=e,o=mD(xp,r);return l.jsx(Qt,{present:n||cc(o.checked)||o.checked===!0,children:l.jsx(K.span,{...s,ref:t,"data-state":bp(o.checked)})})});Ib.displayName=xp;var gD="MenuSeparator",Lb=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return l.jsx(K.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});Lb.displayName=gD;var vD="MenuArrow",$b=h.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,s=ru(r);return l.jsx(ep,{...s,...n,ref:t})});$b.displayName=vD;var yD="MenuSub",[V5,Fb]=$s(yD),Si="MenuSubTrigger",Ub=h.forwardRef((e,t)=>{const r=Fs(Si,e.__scopeMenu),n=Pa(Si,e.__scopeMenu),s=Fb(Si,e.__scopeMenu),o=vp(Si,e.__scopeMenu),i=h.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=o,u={__scopeMenu:e.__scopeMenu},d=h.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return h.useEffect(()=>d,[d]),h.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),l.jsx(mp,{asChild:!0,...u,children:l.jsx(Pb,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":Wb(r.open),...e,ref:Ac(t,s.onTriggerChange),onClick:f=>{var p;(p=e.onClick)==null||p.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:L(e.onPointerMove,da(f=>{o.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!r.open&&!i.current&&(o.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:L(e.onPointerLeave,da(f=>{var v,y;d();const p=(v=r.content)==null?void 0:v.getBoundingClientRect();if(p){const g=(y=r.content)==null?void 0:y.dataset.side,x=g==="right",w=x?-5:5,m=p[x?"left":"right"],b=p[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:m,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:m,y:p.bottom}],side:g}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(f),f.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:L(e.onKeyDown,f=>{var v;const p=o.searchRef.current!=="";e.disabled||p&&f.key===" "||ZM[n.dir].includes(f.key)&&(r.onOpenChange(!0),(v=r.content)==null||v.focus(),f.preventDefault())})})})});Ub.displayName=Si;var zb="MenuSubContent",Bb=h.forwardRef((e,t)=>{const r=Sb(sr,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,o=Fs(sr,e.__scopeMenu),i=Pa(sr,e.__scopeMenu),a=Fb(zb,e.__scopeMenu),c=h.useRef(null),u=se(t,c);return l.jsx(ua.Provider,{scope:e.__scopeMenu,children:l.jsx(Qt,{present:n||o.open,children:l.jsx(ua.Slot,{scope:e.__scopeMenu,children:l.jsx(yp,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:L(e.onFocusOutside,d=>{d.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:L(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:L(e.onKeyDown,d=>{var v;const f=d.currentTarget.contains(d.target),p=eD[i.dir].includes(d.key);f&&p&&(o.onOpenChange(!1),(v=a.trigger)==null||v.focus(),d.preventDefault())})})})})})});Bb.displayName=zb;function Wb(e){return e?"open":"closed"}function cc(e){return e==="indeterminate"}function bp(e){return cc(e)?"indeterminate":e?"checked":"unchecked"}function wD(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function xD(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function bD(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=xD(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function _D(e,t){const{x:r,y:n}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o].x,c=t[o].y,u=t[i].x,d=t[i].y;c>n!=d>n&&r<(u-a)*(n-c)/(d-c)+a&&(s=!s)}return s}function kD(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return _D(r,t)}function da(e){return t=>t.pointerType==="mouse"?e(t):void 0}var jD=jb,SD=mp,ED=Eb,CD=Cb,ND=wp,PD=Nb,TD=nu,RD=Tb,AD=Ab,OD=Mb,MD=Ib,DD=Lb,ID=$b,LD=Ub,$D=Bb,_p="DropdownMenu",[FD,q5]=Yt(_p,[_b]),St=_b(),[UD,Hb]=FD(_p),Vb=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:o,onOpenChange:i,modal:a=!0}=e,c=St(t),u=h.useRef(null),[d=!1,f]=qt({prop:s,defaultProp:o,onChange:i});return l.jsx(UD,{scope:t,triggerId:nr(),triggerRef:u,contentId:nr(),open:d,onOpenChange:f,onOpenToggle:h.useCallback(()=>f(p=>!p),[f]),modal:a,children:l.jsx(jD,{...c,open:d,onOpenChange:f,dir:n,modal:a,children:r})})};Vb.displayName=_p;var qb="DropdownMenuTrigger",Gb=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,o=Hb(qb,r),i=St(r);return l.jsx(SD,{asChild:!0,...i,children:l.jsx(K.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:Ac(t,o.triggerRef),onPointerDown:L(e.onPointerDown,a=>{!n&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:L(e.onKeyDown,a=>{n||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Gb.displayName=qb;var zD="DropdownMenuPortal",Kb=e=>{const{__scopeDropdownMenu:t,...r}=e,n=St(t);return l.jsx(ED,{...n,...r})};Kb.displayName=zD;var Yb="DropdownMenuContent",Qb=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=Hb(Yb,r),o=St(r),i=h.useRef(!1);return l.jsx(CD,{id:s.contentId,"aria-labelledby":s.triggerId,...o,...n,ref:t,onCloseAutoFocus:L(e.onCloseAutoFocus,a=>{var c;i.current||(c=s.triggerRef.current)==null||c.focus(),i.current=!1,a.preventDefault()}),onInteractOutside:L(e.onInteractOutside,a=>{const c=a.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!s.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Qb.displayName=Yb;var BD="DropdownMenuGroup",WD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=St(r);return l.jsx(ND,{...s,...n,ref:t})});WD.displayName=BD;var HD="DropdownMenuLabel",Xb=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=St(r);return l.jsx(PD,{...s,...n,ref:t})});Xb.displayName=HD;var VD="DropdownMenuItem",Jb=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=St(r);return l.jsx(TD,{...s,...n,ref:t})});Jb.displayName=VD;var qD="DropdownMenuCheckboxItem",Zb=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=St(r);return l.jsx(RD,{...s,...n,ref:t})});Zb.displayName=qD;var GD="DropdownMenuRadioGroup",KD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=St(r);return l.jsx(AD,{...s,...n,ref:t})});KD.displayName=GD;var YD="DropdownMenuRadioItem",e1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=St(r);return l.jsx(OD,{...s,...n,ref:t})});e1.displayName=YD;var QD="DropdownMenuItemIndicator",t1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=St(r);return l.jsx(MD,{...s,...n,ref:t})});t1.displayName=QD;var XD="DropdownMenuSeparator",r1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=St(r);return l.jsx(DD,{...s,...n,ref:t})});r1.displayName=XD;var JD="DropdownMenuArrow",ZD=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=St(r);return l.jsx(ID,{...s,...n,ref:t})});ZD.displayName=JD;var eI="DropdownMenuSubTrigger",n1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=St(r);return l.jsx(LD,{...s,...n,ref:t})});n1.displayName=eI;var tI="DropdownMenuSubContent",s1=h.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,s=St(r);return l.jsx($D,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});s1.displayName=tI;var rI=Vb,nI=Gb,sI=Kb,o1=Qb,i1=Xb,a1=Jb,l1=Zb,c1=e1,u1=t1,d1=r1,f1=n1,h1=s1;const p1=rI,m1=nI,oI=h.forwardRef(({className:e,inset:t,children:r,...n},s)=>l.jsxs(f1,{ref:s,className:H("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,l.jsx(Sx,{className:"ml-auto h-4 w-4"})]}));oI.displayName=f1.displayName;const iI=h.forwardRef(({className:e,...t},r)=>l.jsx(h1,{ref:r,className:H("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));iI.displayName=h1.displayName;const kp=h.forwardRef(({className:e,sideOffset:t=4,...r},n)=>l.jsx(sI,{children:l.jsx(o1,{ref:n,sideOffset:t,className:H("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));kp.displayName=o1.displayName;const fa=h.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(a1,{ref:n,className:H("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));fa.displayName=a1.displayName;const aI=h.forwardRef(({className:e,children:t,checked:r,...n},s)=>l.jsxs(l1,{ref:s,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(u1,{children:l.jsx(Ms,{className:"h-4 w-4"})})}),t]}));aI.displayName=l1.displayName;const lI=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(c1,{ref:n,className:H("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(u1,{children:l.jsx(uN,{className:"h-2 w-2 fill-current"})})}),t]}));lI.displayName=c1.displayName;const cI=h.forwardRef(({className:e,inset:t,...r},n)=>l.jsx(i1,{ref:n,className:H("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));cI.displayName=i1.displayName;const uI=h.forwardRef(({className:e,...t},r)=>l.jsx(d1,{ref:r,className:H("-mx-1 my-1 h-px bg-muted",e),...t}));uI.displayName=d1.displayName;function jp({variant:e="icon",size:t="md"}){const{language:r,setLanguage:n}=ae(),s={sm:"h-8 w-8",md:"h-9 w-9",lg:"h-10 w-10"},o=()=>{switch(e){case"icon":return"ghost";case"text":return"ghost";case"full":return"outline";default:return"ghost"}};return l.jsxs(p1,{children:[l.jsx(m1,{asChild:!0,children:l.jsxs(X,{variant:o(),size:e==="icon"?"icon":"default",className:e==="icon"?`rounded-full ${s[t]}`:"",children:[l.jsx(Ex,{className:e==="icon"?"h-[1.2em] w-[1.2em]":"h-4 w-4 mr-2"}),e!=="icon"&&l.jsx("span",{children:r==="ko"?"한국어":"日本語"})]})}),l.jsxs(kp,{align:"end",children:[l.jsx(fa,{onClick:()=>n("ko"),children:"🇰🇷 한국어"}),l.jsx(fa,{onClick:()=>n("ja"),children:"🇯🇵 日本語"})]})]})}const dI=()=>{const{signInWithGoogle:e,user:t}=$e(),{t:r}=ae(),n=it();return h.useEffect(()=>{t&&n("/home")},[t,n]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white via-pastel-pink/10 to-pastel-lavender/20",children:l.jsxs("div",{className:"max-w-sm w-full p-8 bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg",children:[l.jsxs("div",{className:"text-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-primary",children:r("app.name")}),l.jsx("p",{className:"text-muted-foreground mt-2",children:r("app.tagline")})]}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(X,{variant:"outline",className:"w-full py-6 flex items-center justify-center gap-2 border-gray-300 hover:bg-gray-50",onClick:e,children:[l.jsxs("svg",{width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",children:[l.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),l.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),l.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),l.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),l.jsx("span",{children:r("auth.google")})]}),l.jsx("div",{className:"text-center",children:l.jsx(jp,{variant:"text",size:"sm"})})]})]})})};function fI({currentStep:e,totalSteps:t}){const{t:r}=ae();return l.jsxs("div",{className:"w-full mb-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsxs("span",{className:"text-sm font-medium text-gray-500",children:[r("onboarding.step")," ",e,"/",t]}),l.jsxs("span",{className:"text-sm font-medium text-primary",children:[Math.round(e/t*100),"%"]})]}),l.jsx("div",{className:"w-full h-2 bg-gray-100 rounded-full",children:l.jsx("div",{className:"h-2 bg-primary rounded-full transition-all duration-300",style:{width:`${e/t*100}%`}})})]})}function vv({onComplete:e,tempData:t,updateTempData:r}){const{t:n,language:s}=ae(),{user:o}=$e(),{toast:i}=Se(),[a,c]=h.useState(t),[u,d]=h.useState(!1),[f,p]=h.useState(!1);h.useEffect(()=>{a||(async()=>{if(o)try{const{data:x,error:w}=await I.from("users").select("nationality").eq("id",o.id).maybeSingle();if(w)throw w;x&&x.nationality&&(c(x.nationality),r(x.nationality),p(!0))}catch(x){console.error("Error checking nationality:",x)}})()},[o,a,r]);const v=g=>{c(g),r(g)},y=async g=>{if(g.preventDefault(),!(!a||!o)){d(!0);try{let x=null;const{error:w}=await I.from("users").update({nationality:a}).eq("id",o.id);if(x=w,x)throw x;if(!f){const{error:m}=await I.from("user_nationalities").insert({user_id:o.id,nationality:a});m&&console.warn("Error updating user_nationalities table (legacy):",m)}e()}catch(x){console.error("Error saving nationality:",x),i({title:n("error.generic"),description:n("error.try_again"),variant:"destructive"})}finally{d(!1)}}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n("onboarding.nationality.title")}),l.jsx("p",{className:"text-muted-foreground",children:n("onboarding.nationality.desc")})]}),l.jsxs("form",{className:"space-y-8",onSubmit:y,children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs(X,{type:"button",className:`pasar-card flex flex-col items-center justify-center p-6 h-auto aspect-square transition-all ${a==="ko"?"ring-2 ring-primary bg-primary/5":""}`,variant:"outline",onClick:()=>v("ko"),children:[l.jsx("span",{className:"text-3xl mb-2",children:"🇰🇷"}),l.jsx("span",{className:"font-medium",children:"한국"}),l.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Korea"})]}),l.jsxs(X,{type:"button",className:`pasar-card flex flex-col items-center justify-center p-6 h-auto aspect-square transition-all ${a==="ja"?"ring-2 ring-primary bg-primary/5":""}`,variant:"outline",onClick:()=>v("ja"),children:[l.jsx("span",{className:"text-3xl mb-2",children:"🇯🇵"}),l.jsx("span",{className:"font-medium",children:"日本"}),l.jsx("span",{className:"text-xs text-muted-foreground mt-1",children:"Japan"})]})]}),l.jsx("div",{className:"flex justify-end",children:l.jsx(X,{type:"submit",className:"pasar-btn",disabled:!a||u,children:u?l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}),s==="ko"?"저장 중...":"保存中..."]}):n("action.next")})})]})]})}const et=[];for(let e=0;e<256;++e)et.push((e+256).toString(16).slice(1));function hI(e,t=0){return(et[e[t+0]]+et[e[t+1]]+et[e[t+2]]+et[e[t+3]]+"-"+et[e[t+4]]+et[e[t+5]]+"-"+et[e[t+6]]+et[e[t+7]]+"-"+et[e[t+8]]+et[e[t+9]]+"-"+et[e[t+10]]+et[e[t+11]]+et[e[t+12]]+et[e[t+13]]+et[e[t+14]]+et[e[t+15]]).toLowerCase()}let ld;const pI=new Uint8Array(16);function mI(){if(!ld){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ld=crypto.getRandomValues.bind(crypto)}return ld(pI)}const gI=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),yv={randomUUID:gI};function Sp(e,t,r){var s;if(yv.randomUUID&&!t&&!e)return yv.randomUUID();e=e||{};const n=e.random??((s=e.rng)==null?void 0:s.call(e))??mI();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,hI(n)}const vI=async(e,t,r)=>{try{const n=t.name.split(".").pop(),o=`${`${e}/${Sp()}.${n}`}`;console.log("Uploading profile photo:",{userId:e,filePath:o,bucket:"profile_photos"});const{error:i,data:a}=await I.storage.from("profile_photos").upload(o,t,{cacheControl:"3600",upsert:!1});if(i)throw console.error("Storage upload error:",i),i;const{data:c}=I.storage.from("profile_photos").getPublicUrl(o),u=c.publicUrl;console.log("Generated public URL:",u);const{error:d}=await I.from("profile_photos").insert({user_id:e,url:u,sort_order:r,deleted_at:null});if(d)throw console.error("Database insert error:",d),d;return u}catch(n){throw console.error("Error uploading profile photo:",n),n}},g1=async(e,t)=>{try{const r=t.name.split(".").pop(),s=`${`${e}/${Sp()}.${r}`}`;console.log("Uploading identity document:",{userId:e,filePath:s,bucket:"identity_documents"});const{error:o}=await I.storage.from("identity_documents").upload(s,t,{cacheControl:"3600",upsert:!1});if(o)throw console.error("Storage upload error:",o),o;const{data:i}=I.storage.from("identity_documents").getPublicUrl(s);return console.log("Generated public URL:",i.publicUrl),i.publicUrl}catch(r){throw console.error("Error uploading identity document:",r),r}},v1=(e=[],t)=>{const[r,n]=h.useState(e),[s,o]=h.useState(!1),[i,a]=h.useState([]),{user:c}=$e(),{toast:u}=Se();return h.useEffect(()=>{t&&t(r)},[r,t]),h.useEffect(()=>{(async()=>{if(c)try{const{data:g,error:x}=await I.from("verification_requests").select("photo_url").eq("user_id",c.id).eq("type","profile_photo").eq("status","pending");if(x){console.error("Error checking pending approvals:",x);return}if(g&&g.length>0){const w=g.map(m=>m.photo_url).filter(Boolean);a(w)}}catch(g){console.error("Error in checkPendingApprovals:",g)}})()},[c]),{photos:r,isUploading:s,handleFileUpload:async y=>{if(!(!y||!c)){o(!0);try{const g=[...r],x=9-r.length;if(x<=0)throw new Error("Maximum 9 photos allowed");const w=Array.from(y).slice(0,x);for(const m of w){if(m.size>5*1024*1024){console.error("File size exceeds 5MB limit");continue}const b=r.length+g.length-r.length,_=await vI(c.id,m,b);_&&(g.push(_),console.log("Photo uploaded successfully:",_))}n(g)}catch(g){console.error("Error uploading photos:",g),u({title:"Error",description:"Failed to upload photos",variant:"destructive"})}finally{o(!1)}}},removePhoto:async y=>{if(c)try{o(!0);const g=r[y],{data:x,error:w}=await I.from("profile_photos").select("id").eq("url",g).eq("user_id",c.id).is("deleted_at",null).single();if(w)throw console.error("Error finding photo:",w),w;if(!(x!=null&&x.id))throw console.error("Photo not found in database"),new Error("Photo not found in database");const{error:m}=await I.from("profile_photos").update({deleted_at:new Date().toISOString()}).eq("id",x.id);if(m)throw console.error("Error soft-deleting photo:",m),m;const b=[...r];b.splice(y,1),n(b),u({title:"Success",description:"Photo has been removed"})}catch(g){console.error("Error removing photo:",g),u({title:"Error",description:"Failed to remove photo",variant:"destructive"})}finally{o(!1)}},updateProfilePhoto:async(y,g)=>{var x,w;if(!c)return{success:!1,error:"Not authenticated"};try{if(o(!0),y.size>5*1024*1024)return{success:!1,error:"File size exceeds 5MB limit"};const m=y.name.split(".").pop(),_=`${`${c.id}/${Sp()}.${m}`}`,{error:k}=await I.storage.from("profile_photos").upload(_,y,{cacheControl:"3600",upsert:!1});if(k)throw k;const{data:j}=I.storage.from("profile_photos").getPublicUrl(_),E=j.publicUrl,{data:S,error:N}=await I.functions.invoke("create-verification-request",{body:{type:"profile_photo",photo_url:E,display_name:((x=c.user_metadata)==null?void 0:x.full_name)||((w=c.email)==null?void 0:w.split("@")[0])}});if(N)throw N;return a(T=>[...T,E]),{success:!0,publicUrl:E}}catch(m){return console.error("Error updating profile photo:",m),{success:!1,error:String(m)}}finally{o(!1)}},isPendingApproval:y=>i.includes(y),pendingApproval:i}};function yI({onComplete:e,tempData:t,updateTempData:r}){const{t:n}=ae();Se();const{photos:s,isUploading:o,handleFileUpload:i,removePhoto:a}=v1(t,r),c=h.useRef(null),u=()=>{c.current&&c.current.click()},d=f=>{i(f.target.files),c.current&&(c.current.value="")};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n("onboarding.photos.title")}),l.jsx("p",{className:"text-muted-foreground",children:n("onboarding.photos.desc")})]}),l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-6",children:[s.map((f,p)=>l.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden group",children:[l.jsx("img",{src:f,alt:`Profile photo ${p+1}`,className:"w-full h-full object-cover"}),l.jsx("button",{type:"button",onClick:()=>a(p),className:"absolute top-2 right-2 bg-black/50 rounded-full p-1 text-white opacity-0 group-hover:opacity-100 transition-opacity",children:l.jsx(Ds,{size:16})})]},p)),s.length<6&&l.jsx("button",{type:"button",onClick:u,className:"border-2 border-dashed border-gray-300 rounded-xl aspect-square flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors",disabled:o,children:l.jsxs("div",{className:"text-center p-4",children:[o?l.jsx("div",{className:"w-12 h-12 rounded-full bg-pastel-pink/20 flex items-center justify-center mx-auto mb-2",children:l.jsx(Ot,{className:"w-6 h-6 text-primary animate-spin"})}):l.jsx("div",{className:"w-12 h-12 rounded-full bg-pastel-pink/20 flex items-center justify-center mx-auto mb-2",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-6 h-6 text-primary",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})}),l.jsx("span",{className:"text-sm font-medium text-gray-600",children:n("onboarding.photos.add")})]})})]}),s.length<3&&l.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3 text-sm text-amber-700",children:n("onboarding.photos.min_required")}),l.jsx("div",{className:"flex justify-end mt-8",children:l.jsx(X,{onClick:e,className:"pasar-btn",disabled:s.length<3||o,children:n("action.next")})}),l.jsx("input",{ref:c,type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:d,disabled:o})]})}const Yr=h.forwardRef(({className:e,type:t,...r},n)=>l.jsx("input",{type:t,className:H("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...r}));Yr.displayName="Input";function wv(e,[t,r]){return Math.min(r,Math.max(t,e))}function Ep(e){const t=h.useRef({value:e,previous:e});return h.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var wI=[" ","Enter","ArrowUp","ArrowDown"],xI=[" ","Enter"],Ta="Select",[su,ou,bI]=xa(Ta),[ai,G5]=Yt(Ta,[bI,ri]),iu=ri(),[_I,ns]=ai(Ta),[kI,jI]=ai(Ta),y1=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:p,required:v,form:y}=e,g=iu(t),[x,w]=h.useState(null),[m,b]=h.useState(null),[_,k]=h.useState(!1),j=Ca(u),[E=!1,S]=qt({prop:n,defaultProp:s,onChange:o}),[N,T]=qt({prop:i,defaultProp:a,onChange:c}),z=h.useRef(null),D=x?y||!!x.closest("form"):!0,[B,M]=h.useState(new Set),Y=Array.from(B).map(U=>U.props.value).join(";");return l.jsx(o0,{...g,children:l.jsxs(_I,{required:v,scope:t,trigger:x,onTriggerChange:w,valueNode:m,onValueNodeChange:b,valueNodeHasChildren:_,onValueNodeHasChildrenChange:k,contentId:nr(),value:N,onValueChange:T,open:E,onOpenChange:S,dir:j,triggerPointerDownPosRef:z,disabled:p,children:[l.jsx(su.Provider,{scope:t,children:l.jsx(kI,{scope:e.__scopeSelect,onNativeOptionAdd:h.useCallback(U=>{M(Q=>new Set(Q).add(U))},[]),onNativeOptionRemove:h.useCallback(U=>{M(Q=>{const C=new Set(Q);return C.delete(U),C})},[]),children:r})}),D?l.jsxs(W1,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:f,value:N,onChange:U=>T(U.target.value),disabled:p,form:y,children:[N===void 0?l.jsx("option",{value:""}):null,Array.from(B)]},Y):null]})})};y1.displayName=Ta;var w1="SelectTrigger",x1=h.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...s}=e,o=iu(r),i=ns(w1,r),a=i.disabled||n,c=se(t,i.onTriggerChange),u=ou(r),d=h.useRef("touch"),[f,p,v]=H1(g=>{const x=u().filter(b=>!b.disabled),w=x.find(b=>b.value===i.value),m=V1(x,g,w);m!==void 0&&i.onValueChange(m.value)}),y=g=>{a||(i.onOpenChange(!0),v()),g&&(i.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return l.jsx(Jh,{asChild:!0,...o,children:l.jsx(K.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":B1(i.value)?"":void 0,...s,ref:c,onClick:L(s.onClick,g=>{g.currentTarget.focus(),d.current!=="mouse"&&y(g)}),onPointerDown:L(s.onPointerDown,g=>{d.current=g.pointerType;const x=g.target;x.hasPointerCapture(g.pointerId)&&x.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:L(s.onKeyDown,g=>{const x=f.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&p(g.key),!(x&&g.key===" ")&&wI.includes(g.key)&&(y(),g.preventDefault())})})})});x1.displayName=w1;var b1="SelectValue",_1=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:i="",...a}=e,c=ns(b1,r),{onValueNodeHasChildrenChange:u}=c,d=o!==void 0,f=se(t,c.onValueNodeChange);return Ge(()=>{u(d)},[u,d]),l.jsx(K.span,{...a,ref:f,style:{pointerEvents:"none"},children:B1(c.value)?l.jsx(l.Fragment,{children:i}):o})});_1.displayName=b1;var SI="SelectIcon",k1=h.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...s}=e;return l.jsx(K.span,{"aria-hidden":!0,...s,ref:t,children:n||"▼"})});k1.displayName=SI;var EI="SelectPortal",j1=e=>l.jsx(ba,{asChild:!0,...e});j1.displayName=EI;var Ps="SelectContent",S1=h.forwardRef((e,t)=>{const r=ns(Ps,e.__scopeSelect),[n,s]=h.useState();if(Ge(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Os.createPortal(l.jsx(E1,{scope:e.__scopeSelect,children:l.jsx(su.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),o):null}return l.jsx(C1,{...e,ref:t})});S1.displayName=Ps;var cr=10,[E1,ss]=ai(Ps),CI="SelectContentImpl",C1=h.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:y,hideWhenDetached:g,avoidCollisions:x,...w}=e,m=ns(Ps,r),[b,_]=h.useState(null),[k,j]=h.useState(null),E=se(t,G=>_(G)),[S,N]=h.useState(null),[T,z]=h.useState(null),D=ou(r),[B,M]=h.useState(!1),Y=h.useRef(!1);h.useEffect(()=>{if(b)return pp(b)},[b]),hp();const U=h.useCallback(G=>{const[ue,...fe]=D().map(he=>he.ref.current),[le]=fe.slice(-1),me=document.activeElement;for(const he of G)if(he===me||(he==null||he.scrollIntoView({block:"nearest"}),he===ue&&k&&(k.scrollTop=0),he===le&&k&&(k.scrollTop=k.scrollHeight),he==null||he.focus(),document.activeElement!==me))return},[D,k]),Q=h.useCallback(()=>U([S,b]),[U,S,b]);h.useEffect(()=>{B&&Q()},[B,Q]);const{onOpenChange:C,triggerPointerDownPosRef:P}=m;h.useEffect(()=>{if(b){let G={x:0,y:0};const ue=le=>{var me,he;G={x:Math.abs(Math.round(le.pageX)-(((me=P.current)==null?void 0:me.x)??0)),y:Math.abs(Math.round(le.pageY)-(((he=P.current)==null?void 0:he.y)??0))}},fe=le=>{G.x<=10&&G.y<=10?le.preventDefault():b.contains(le.target)||C(!1),document.removeEventListener("pointermove",ue),P.current=null};return P.current!==null&&(document.addEventListener("pointermove",ue),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ue),document.removeEventListener("pointerup",fe,{capture:!0})}}},[b,C,P]),h.useEffect(()=>{const G=()=>C(!1);return window.addEventListener("blur",G),window.addEventListener("resize",G),()=>{window.removeEventListener("blur",G),window.removeEventListener("resize",G)}},[C]);const[F,$]=H1(G=>{const ue=D().filter(me=>!me.disabled),fe=ue.find(me=>me.ref.current===document.activeElement),le=V1(ue,G,fe);le&&setTimeout(()=>le.ref.current.focus())}),q=h.useCallback((G,ue,fe)=>{const le=!Y.current&&!fe;(m.value!==void 0&&m.value===ue||le)&&(N(G),le&&(Y.current=!0))},[m.value]),J=h.useCallback(()=>b==null?void 0:b.focus(),[b]),ce=h.useCallback((G,ue,fe)=>{const le=!Y.current&&!fe;(m.value!==void 0&&m.value===ue||le)&&z(G)},[m.value]),Fe=n==="popper"?Rf:N1,Z=Fe===Rf?{side:a,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:p,collisionPadding:v,sticky:y,hideWhenDetached:g,avoidCollisions:x}:{};return l.jsx(E1,{scope:r,content:b,viewport:k,onViewportChange:j,itemRefCallback:q,selectedItem:S,onItemLeave:J,itemTextRefCallback:ce,focusSelectedItem:Q,selectedItemText:T,position:n,isPositioned:B,searchRef:F,children:l.jsx(tu,{as:qn,allowPinchZoom:!0,children:l.jsx(Xc,{asChild:!0,trapped:m.open,onMountAutoFocus:G=>{G.preventDefault()},onUnmountAutoFocus:L(s,G=>{var ue;(ue=m.trigger)==null||ue.focus({preventScroll:!0}),G.preventDefault()}),children:l.jsx(Xo,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:G=>G.preventDefault(),onDismiss:()=>m.onOpenChange(!1),children:l.jsx(Fe,{role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:G=>G.preventDefault(),...w,...Z,onPlaced:()=>M(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:L(w.onKeyDown,G=>{const ue=G.ctrlKey||G.altKey||G.metaKey;if(G.key==="Tab"&&G.preventDefault(),!ue&&G.key.length===1&&$(G.key),["ArrowUp","ArrowDown","Home","End"].includes(G.key)){let le=D().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(G.key)&&(le=le.slice().reverse()),["ArrowUp","ArrowDown"].includes(G.key)){const me=G.target,he=le.indexOf(me);le=le.slice(he+1)}setTimeout(()=>U(le)),G.preventDefault()}})})})})})})});C1.displayName=CI;var NI="SelectItemAlignedPosition",N1=h.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...s}=e,o=ns(Ps,r),i=ss(Ps,r),[a,c]=h.useState(null),[u,d]=h.useState(null),f=se(t,E=>d(E)),p=ou(r),v=h.useRef(!1),y=h.useRef(!0),{viewport:g,selectedItem:x,selectedItemText:w,focusSelectedItem:m}=i,b=h.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&g&&x&&w){const E=o.trigger.getBoundingClientRect(),S=u.getBoundingClientRect(),N=o.valueNode.getBoundingClientRect(),T=w.getBoundingClientRect();if(o.dir!=="rtl"){const me=T.left-S.left,he=N.left-me,pt=E.left-he,Mt=E.width+pt,an=Math.max(Mt,S.width),Xt=window.innerWidth-cr,os=wv(he,[cr,Math.max(cr,Xt-an)]);a.style.minWidth=Mt+"px",a.style.left=os+"px"}else{const me=S.right-T.right,he=window.innerWidth-N.right-me,pt=window.innerWidth-E.right-he,Mt=E.width+pt,an=Math.max(Mt,S.width),Xt=window.innerWidth-cr,os=wv(he,[cr,Math.max(cr,Xt-an)]);a.style.minWidth=Mt+"px",a.style.right=os+"px"}const z=p(),D=window.innerHeight-cr*2,B=g.scrollHeight,M=window.getComputedStyle(u),Y=parseInt(M.borderTopWidth,10),U=parseInt(M.paddingTop,10),Q=parseInt(M.borderBottomWidth,10),C=parseInt(M.paddingBottom,10),P=Y+U+B+C+Q,F=Math.min(x.offsetHeight*5,P),$=window.getComputedStyle(g),q=parseInt($.paddingTop,10),J=parseInt($.paddingBottom,10),ce=E.top+E.height/2-cr,Fe=D-ce,Z=x.offsetHeight/2,G=x.offsetTop+Z,ue=Y+U+G,fe=P-ue;if(ue<=ce){const me=z.length>0&&x===z[z.length-1].ref.current;a.style.bottom="0px";const he=u.clientHeight-g.offsetTop-g.offsetHeight,pt=Math.max(Fe,Z+(me?J:0)+he+Q),Mt=ue+pt;a.style.height=Mt+"px"}else{const me=z.length>0&&x===z[0].ref.current;a.style.top="0px";const pt=Math.max(ce,Y+g.offsetTop+(me?q:0)+Z)+fe;a.style.height=pt+"px",g.scrollTop=ue-ce+g.offsetTop}a.style.margin=`${cr}px 0`,a.style.minHeight=F+"px",a.style.maxHeight=D+"px",n==null||n(),requestAnimationFrame(()=>v.current=!0)}},[p,o.trigger,o.valueNode,a,u,g,x,w,o.dir,n]);Ge(()=>b(),[b]);const[_,k]=h.useState();Ge(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const j=h.useCallback(E=>{E&&y.current===!0&&(b(),m==null||m(),y.current=!1)},[b,m]);return l.jsx(TI,{scope:r,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:j,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:l.jsx(K.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});N1.displayName=NI;var PI="SelectPopperPosition",Rf=h.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=cr,...o}=e,i=iu(r);return l.jsx(Zh,{...i,...o,ref:t,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Rf.displayName=PI;var[TI,Cp]=ai(Ps,{}),Af="SelectViewport",P1=h.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...s}=e,o=ss(Af,r),i=Cp(Af,r),a=se(t,o.onViewportChange),c=h.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),l.jsx(su.Slot,{scope:r,children:l.jsx(K.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:L(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&f){const v=Math.abs(c.current-d.scrollTop);if(v>0){const y=window.innerHeight-cr*2,g=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),w=Math.max(g,x);if(w<y){const m=w+v,b=Math.min(y,m),_=m-b;f.style.height=b+"px",f.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});P1.displayName=Af;var T1="SelectGroup",[RI,AI]=ai(T1),OI=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=nr();return l.jsx(RI,{scope:r,id:s,children:l.jsx(K.div,{role:"group","aria-labelledby":s,...n,ref:t})})});OI.displayName=T1;var R1="SelectLabel",A1=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=AI(R1,r);return l.jsx(K.div,{id:s.id,...n,ref:t})});A1.displayName=R1;var uc="SelectItem",[MI,O1]=ai(uc),M1=h.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...i}=e,a=ns(uc,r),c=ss(uc,r),u=a.value===n,[d,f]=h.useState(o??""),[p,v]=h.useState(!1),y=se(t,m=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,m,n,s)}),g=nr(),x=h.useRef("touch"),w=()=>{s||(a.onValueChange(n),a.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(MI,{scope:r,value:n,disabled:s,textId:g,isSelected:u,onItemTextChange:h.useCallback(m=>{f(b=>b||((m==null?void 0:m.textContent)??"").trim())},[]),children:l.jsx(su.ItemSlot,{scope:r,value:n,disabled:s,textValue:d,children:l.jsx(K.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:y,onFocus:L(i.onFocus,()=>v(!0)),onBlur:L(i.onBlur,()=>v(!1)),onClick:L(i.onClick,()=>{x.current!=="mouse"&&w()}),onPointerUp:L(i.onPointerUp,()=>{x.current==="mouse"&&w()}),onPointerDown:L(i.onPointerDown,m=>{x.current=m.pointerType}),onPointerMove:L(i.onPointerMove,m=>{var b;x.current=m.pointerType,s?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&m.currentTarget.focus({preventScroll:!0})}),onPointerLeave:L(i.onPointerLeave,m=>{var b;m.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:L(i.onKeyDown,m=>{var _;((_=c.searchRef)==null?void 0:_.current)!==""&&m.key===" "||(xI.includes(m.key)&&w(),m.key===" "&&m.preventDefault())})})})})});M1.displayName=uc;var Ei="SelectItemText",D1=h.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:s,...o}=e,i=ns(Ei,r),a=ss(Ei,r),c=O1(Ei,r),u=jI(Ei,r),[d,f]=h.useState(null),p=se(t,w=>f(w),c.onItemTextChange,w=>{var m;return(m=a.itemTextRefCallback)==null?void 0:m.call(a,w,c.value,c.disabled)}),v=d==null?void 0:d.textContent,y=h.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:g,onNativeOptionRemove:x}=u;return Ge(()=>(g(y),()=>x(y)),[g,x,y]),l.jsxs(l.Fragment,{children:[l.jsx(K.span,{id:c.textId,...o,ref:p}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Os.createPortal(o.children,i.valueNode):null]})});D1.displayName=Ei;var I1="SelectItemIndicator",L1=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return O1(I1,r).isSelected?l.jsx(K.span,{"aria-hidden":!0,...n,ref:t}):null});L1.displayName=I1;var Of="SelectScrollUpButton",$1=h.forwardRef((e,t)=>{const r=ss(Of,e.__scopeSelect),n=Cp(Of,e.__scopeSelect),[s,o]=h.useState(!1),i=se(t,n.onScrollButtonChange);return Ge(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollTop>0;o(u)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(U1,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});$1.displayName=Of;var Mf="SelectScrollDownButton",F1=h.forwardRef((e,t)=>{const r=ss(Mf,e.__scopeSelect),n=Cp(Mf,e.__scopeSelect),[s,o]=h.useState(!1),i=se(t,n.onScrollButtonChange);return Ge(()=>{if(r.viewport&&r.isPositioned){let a=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;o(d)};const c=r.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[r.viewport,r.isPositioned]),s?l.jsx(U1,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=r;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});F1.displayName=Mf;var U1=h.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=e,o=ss("SelectScrollButton",r),i=h.useRef(null),a=ou(r),c=h.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return h.useEffect(()=>()=>c(),[c]),Ge(()=>{var d;const u=a().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),l.jsx(K.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:L(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(n,50))}),onPointerMove:L(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(n,50))}),onPointerLeave:L(s.onPointerLeave,()=>{c()})})}),DI="SelectSeparator",z1=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return l.jsx(K.div,{"aria-hidden":!0,...n,ref:t})});z1.displayName=DI;var Df="SelectArrow",II=h.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,s=iu(r),o=ns(Df,r),i=ss(Df,r);return o.open&&i.position==="popper"?l.jsx(ep,{...s,...n,ref:t}):null});II.displayName=Df;function B1(e){return e===""||e===void 0}var W1=h.forwardRef((e,t)=>{const{value:r,...n}=e,s=h.useRef(null),o=se(t,s),i=Ep(r);return h.useEffect(()=>{const a=s.current,c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==r&&d){const f=new Event("change",{bubbles:!0});d.call(a,r),a.dispatchEvent(f)}},[i,r]),l.jsx(_a,{asChild:!0,children:l.jsx("select",{...n,ref:o,defaultValue:r})})});W1.displayName="BubbleSelect";function H1(e){const t=ot(e),r=h.useRef(""),n=h.useRef(0),s=h.useCallback(i=>{const a=r.current+i;t(a),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(a)},[t]),o=h.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function V1(e,t,r){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=r?e.indexOf(r):-1;let i=LI(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==r));const c=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==r?c:void 0}function LI(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var $I=y1,q1=x1,FI=_1,UI=k1,zI=j1,G1=S1,BI=P1,K1=A1,Y1=M1,WI=D1,HI=L1,Q1=$1,X1=F1,J1=z1;const bs=$I,_s=FI,zn=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(q1,{ref:n,className:H("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,l.jsx(UI,{asChild:!0,children:l.jsx(Uh,{className:"h-4 w-4 opacity-50"})})]}));zn.displayName=q1.displayName;const Z1=h.forwardRef(({className:e,...t},r)=>l.jsx(Q1,{ref:r,className:H("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(aN,{className:"h-4 w-4"})}));Z1.displayName=Q1.displayName;const e_=h.forwardRef(({className:e,...t},r)=>l.jsx(X1,{ref:r,className:H("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Uh,{className:"h-4 w-4"})}));e_.displayName=X1.displayName;const Bn=h.forwardRef(({className:e,children:t,position:r="popper",...n},s)=>l.jsx(zI,{children:l.jsxs(G1,{ref:s,className:H("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[l.jsx(Z1,{}),l.jsx(BI,{className:H("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(e_,{})]})}));Bn.displayName=G1.displayName;const VI=h.forwardRef(({className:e,...t},r)=>l.jsx(K1,{ref:r,className:H("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));VI.displayName=K1.displayName;const we=h.forwardRef(({className:e,children:t,...r},n)=>l.jsxs(Y1,{ref:n,className:H("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(HI,{children:l.jsx(Ms,{className:"h-4 w-4"})})}),l.jsx(WI,{children:t})]}));we.displayName=Y1.displayName;const qI=h.forwardRef(({className:e,...t},r)=>l.jsx(J1,{ref:r,className:H("-mx-1 my-1 h-px bg-muted",e),...t}));qI.displayName=J1.displayName;const t_=6048e5,GI=864e5,KI=6e4,YI=36e5,QI=1e3,dl=43200,xv=1440,bv=Symbol.for("constructDateFrom");function Ke(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&bv in e?e[bv](t):e instanceof Date?new e.constructor(t):new Date(t)}function je(e,t){return Ke(t||e,e)}function r_(e,t,r){const n=je(e,r==null?void 0:r.in);return isNaN(t)?Ke((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}let XI={};function Us(){return XI}function Xn(e,t){var a,c,u,d;const r=Us(),n=(t==null?void 0:t.weekStartsOn)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=je(e,t==null?void 0:t.in),o=s.getDay(),i=(o<n?7:0)+o-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function qo(e,t){return Xn(e,{...t,weekStartsOn:1})}function n_(e,t){const r=je(e,t==null?void 0:t.in),n=r.getFullYear(),s=Ke(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const o=qo(s),i=Ke(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const a=qo(i);return r.getTime()>=o.getTime()?n+1:r.getTime()>=a.getTime()?n:n-1}function Go(e){const t=je(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function li(e,...t){const r=Ke.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function _v(e,t){const r=je(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function JI(e,t,r){const[n,s]=li(r==null?void 0:r.in,e,t),o=_v(n),i=_v(s),a=+o-Go(o),c=+i-Go(i);return Math.round((a-c)/GI)}function ZI(e,t){const r=n_(e,t),n=Ke(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),qo(n)}function jo(e,t){const r=+je(e)-+je(t);return r<0?-1:r>0?1:r}function eL(e){return Ke(e,Date.now())}function tL(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function rL(e){return!(!tL(e)&&typeof e!="number"||isNaN(+je(e)))}function nL(e,t,r){const[n,s]=li(r==null?void 0:r.in,e,t),o=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return o*12+i}function sL(e,t,r){const[n,s]=li(r==null?void 0:r.in,e,t);return n.getFullYear()-s.getFullYear()}function oL(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function iL(e,t){return+je(e)-+je(t)}function aL(e,t){const r=je(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function lL(e,t){const r=je(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function cL(e,t){const r=je(e,t==null?void 0:t.in);return+aL(r,t)==+lL(r,t)}function uL(e,t,r){const[n,s,o]=li(r==null?void 0:r.in,e,e,t),i=jo(s,o),a=Math.abs(nL(s,o));if(a<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*a);let c=jo(s,o)===-i;cL(n)&&a===1&&jo(n,o)===1&&(c=!1);const u=i*(a-+c);return u===0?0:u}function dL(e,t,r){const n=iL(e,t)/1e3;return oL(r==null?void 0:r.roundingMethod)(n)}function fL(e,t,r){const[n,s]=li(r==null?void 0:r.in,e,t),o=jo(n,s),i=Math.abs(sL(n,s));n.setFullYear(1584),s.setFullYear(1584);const a=jo(n,s)===-o,c=o*(i-+a);return c===0?0:c}function hL(e,t){const r=je(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const pL={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mL=(e,t,r)=>{let n;const s=pL[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Qr(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const gL={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},vL={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yL={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},wL={date:Qr({formats:gL,defaultWidth:"full"}),time:Qr({formats:vL,defaultWidth:"full"}),dateTime:Qr({formats:yL,defaultWidth:"full"})},xL={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},bL=(e,t,r,n)=>xL[e];function yt(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=r!=null&&r.width?String(r.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const _L={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},kL={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jL={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},SL={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},EL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CL={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},NL=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},PL={ordinalNumber:NL,era:yt({values:_L,defaultWidth:"wide"}),quarter:yt({values:kL,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yt({values:jL,defaultWidth:"wide"}),day:yt({values:SL,defaultWidth:"wide"}),dayPeriod:yt({values:EL,defaultWidth:"wide",formattingValues:CL,defaultFormattingWidth:"wide"})};function wt(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?RL(a,f=>f.test(i)):TL(a,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function TL(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function RL(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function Np(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=r.valueCallback?r.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const AL=/^(\d+)(th|st|nd|rd)?/i,OL=/\d+/i,ML={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},DL={any:[/^b/i,/^(a|c)/i]},IL={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},LL={any:[/1/i,/2/i,/3/i,/4/i]},$L={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},FL={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},UL={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zL={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},BL={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},WL={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},HL={ordinalNumber:Np({matchPattern:AL,parsePattern:OL,valueCallback:e=>parseInt(e,10)}),era:wt({matchPatterns:ML,defaultMatchWidth:"wide",parsePatterns:DL,defaultParseWidth:"any"}),quarter:wt({matchPatterns:IL,defaultMatchWidth:"wide",parsePatterns:LL,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wt({matchPatterns:$L,defaultMatchWidth:"wide",parsePatterns:FL,defaultParseWidth:"any"}),day:wt({matchPatterns:UL,defaultMatchWidth:"wide",parsePatterns:zL,defaultParseWidth:"any"}),dayPeriod:wt({matchPatterns:BL,defaultMatchWidth:"any",parsePatterns:WL,defaultParseWidth:"any"})},Ra={code:"en-US",formatDistance:mL,formatLong:wL,formatRelative:bL,localize:PL,match:HL,options:{weekStartsOn:0,firstWeekContainsDate:1}};function VL(e,t){const r=je(e,t==null?void 0:t.in);return JI(r,hL(r))+1}function s_(e,t){const r=je(e,t==null?void 0:t.in),n=+qo(r)-+ZI(r);return Math.round(n/t_)+1}function Pp(e,t){var d,f,p,v;const r=je(e,t==null?void 0:t.in),n=r.getFullYear(),s=Us(),o=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(p=s.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,i=Ke((t==null?void 0:t.in)||e,0);i.setFullYear(n+1,0,o),i.setHours(0,0,0,0);const a=Xn(i,t),c=Ke((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const u=Xn(c,t);return+r>=+a?n+1:+r>=+u?n:n-1}function qL(e,t){var a,c,u,d;const r=Us(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Pp(e,t),o=Ke((t==null?void 0:t.in)||e,0);return o.setFullYear(s,0,n),o.setHours(0,0,0,0),Xn(o,t)}function o_(e,t){const r=je(e,t==null?void 0:t.in),n=+Xn(r,t)-+qL(r,t);return Math.round(n/t_)+1}function ve(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const fn={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return ve(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):ve(r+1,2)},d(e,t){return ve(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return ve(e.getHours()%12||12,t.length)},H(e,t){return ve(e.getHours(),t.length)},m(e,t){return ve(e.getMinutes(),t.length)},s(e,t){return ve(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return ve(s,t.length)}},Xs={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kv={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return fn.y(e,t)},Y:function(e,t,r,n){const s=Pp(e,n),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return ve(i,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):ve(o,t.length)},R:function(e,t){const r=n_(e);return ve(r,t.length)},u:function(e,t){const r=e.getFullYear();return ve(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return ve(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return ve(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return fn.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return ve(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=o_(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):ve(s,t.length)},I:function(e,t,r){const n=s_(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):ve(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):fn.d(e,t)},D:function(e,t,r){const n=VL(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ve(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return ve(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),o=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return ve(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return ve(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Xs.noon:n===0?s=Xs.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Xs.evening:n>=12?s=Xs.afternoon:n>=4?s=Xs.morning:s=Xs.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return fn.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):fn.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ve(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):ve(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):fn.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):fn.s(e,t)},S:function(e,t){return fn.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return Sv(n);case"XXXX":case"XX":return us(n);case"XXXXX":case"XXX":default:return us(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Sv(n);case"xxxx":case"xx":return us(n);case"xxxxx":case"xxx":default:return us(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+jv(n,":");case"OOOO":default:return"GMT"+us(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+jv(n,":");case"zzzz":default:return"GMT"+us(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return ve(n,t.length)},T:function(e,t,r){return ve(+e,t.length)}};function jv(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),o=n%60;return o===0?r+String(s):r+String(s)+t+ve(o,2)}function Sv(e,t){return e%60===0?(e>0?"-":"+")+ve(Math.abs(e)/60,2):us(e,t)}function us(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=ve(Math.trunc(n/60),2),o=ve(n%60,2);return r+s+t+o}const Ev=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},i_=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},GL=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Ev(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Ev(n,t)).replace("{{time}}",i_(s,t))},If={p:i_,P:GL},KL=/^D+$/,YL=/^Y+$/,QL=["D","DD","YY","YYYY"];function a_(e){return KL.test(e)}function l_(e){return YL.test(e)}function Lf(e,t,r){const n=XL(e,t,r);if(console.warn(n),QL.includes(e))throw new RangeError(n)}function XL(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const JL=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ZL=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,e$=/^'([^]*?)'?$/,t$=/''/g,r$=/[a-zA-Z]/;function cd(e,t,r){var d,f,p,v,y,g,x,w;const n=Us(),s=(r==null?void 0:r.locale)??n.locale??Ra,o=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((g=(y=r==null?void 0:r.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((w=(x=n.locale)==null?void 0:x.options)==null?void 0:w.weekStartsOn)??0,a=je(e,r==null?void 0:r.in);if(!rL(a))throw new RangeError("Invalid time value");let c=t.match(ZL).map(m=>{const b=m[0];if(b==="p"||b==="P"){const _=If[b];return _(m,s.formatLong)}return m}).join("").match(JL).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const b=m[0];if(b==="'")return{isToken:!1,value:n$(m)};if(kv[b])return{isToken:!0,value:m};if(b.match(r$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+b+"`");return{isToken:!1,value:m}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return c.map(m=>{if(!m.isToken)return m.value;const b=m.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&l_(b)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&a_(b))&&Lf(b,t,String(e));const _=kv[b[0]];return _(a,b,s.localize,u)}).join("")}function n$(e){const t=e.match(e$);return t?t[1].replace(t$,"'"):e}function s$(e,t,r){const n=Us(),s=(r==null?void 0:r.locale)??n.locale??Ra,o=2520,i=jo(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const a=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i}),[c,u]=li(r==null?void 0:r.in,...i>0?[t,e]:[e,t]),d=dL(u,c),f=(Go(u)-Go(c))/1e3,p=Math.round((d-f)/60);let v;if(p<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,a):d<10?s.formatDistance("lessThanXSeconds",10,a):d<20?s.formatDistance("lessThanXSeconds",20,a):d<40?s.formatDistance("halfAMinute",0,a):d<60?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",1,a):p===0?s.formatDistance("lessThanXMinutes",1,a):s.formatDistance("xMinutes",p,a);if(p<45)return s.formatDistance("xMinutes",p,a);if(p<90)return s.formatDistance("aboutXHours",1,a);if(p<xv){const y=Math.round(p/60);return s.formatDistance("aboutXHours",y,a)}else{if(p<o)return s.formatDistance("xDays",1,a);if(p<dl){const y=Math.round(p/xv);return s.formatDistance("xDays",y,a)}else if(p<dl*2)return v=Math.round(p/dl),s.formatDistance("aboutXMonths",v,a)}if(v=uL(u,c),v<12){const y=Math.round(p/dl);return s.formatDistance("xMonths",y,a)}else{const y=v%12,g=Math.trunc(v/12);return y<3?s.formatDistance("aboutXYears",g,a):y<9?s.formatDistance("overXYears",g,a):s.formatDistance("almostXYears",g+1,a)}}function o$(e,t){return s$(e,eL(e),t)}function i$(){return Object.assign({},Us())}function a$(e,t){const r=je(e,t==null?void 0:t.in).getDay();return r===0?7:r}function l$(e,t){const r=c$(t)?new t(0):Ke(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function c$(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const u$=10;class c_{constructor(){W(this,"subPriority",0)}validate(t,r){return!0}}class d$ extends c_{constructor(t,r,n,s,o){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=s,o&&(this.subPriority=o)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class f$ extends c_{constructor(r,n){super();W(this,"priority",u$);W(this,"subPriority",-1);this.context=r||(s=>Ke(n,s))}set(r,n){return n.timestampIsSet?r:Ke(r,l$(r,this.context))}}class pe{run(t,r,n,s){const o=this.parse(t,r,n,s);return o?{setter:new d$(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,r,n){return!0}}class h$ extends pe{constructor(){super(...arguments);W(this,"priority",140);W(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}set(r,n,s){return n.era=s,r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}const ze={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Ar={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Be(e,t){return e&&{value:t(e.value),rest:e.rest}}function Ae(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Or(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,s=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,i=r[5]?parseInt(r[5],10):0;return{value:n*(s*YI+o*KI+i*QI),rest:t.slice(r[0].length)}}function u_(e){return Ae(ze.anyDigitsSigned,e)}function Le(e,t){switch(e){case 1:return Ae(ze.singleDigit,t);case 2:return Ae(ze.twoDigits,t);case 3:return Ae(ze.threeDigits,t);case 4:return Ae(ze.fourDigits,t);default:return Ae(new RegExp("^\\d{1,"+e+"}"),t)}}function dc(e,t){switch(e){case 1:return Ae(ze.singleDigitSigned,t);case 2:return Ae(ze.twoDigitsSigned,t);case 3:return Ae(ze.threeDigitsSigned,t);case 4:return Ae(ze.fourDigitsSigned,t);default:return Ae(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Tp(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function d_(e,t){const r=t>0,n=r?t:1-t;let s;if(n<=50)s=e||100;else{const o=n+50,i=Math.trunc(o/100)*100,a=e>=o%100;s=e+i-(a?100:0)}return r?s:1-s}function f_(e){return e%400===0||e%4===0&&e%100!==0}class p$ extends pe{constructor(){super(...arguments);W(this,"priority",130);W(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,s){const o=i=>({year:i,isTwoDigitYear:n==="yy"});switch(n){case"y":return Be(Le(4,r),o);case"yo":return Be(s.ordinalNumber(r,{unit:"year"}),o);default:return Be(Le(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s){const o=r.getFullYear();if(s.isTwoDigitYear){const a=d_(s.year,o);return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}const i=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}class m$ extends pe{constructor(){super(...arguments);W(this,"priority",130);W(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,s){const o=i=>({year:i,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Be(Le(4,r),o);case"Yo":return Be(s.ordinalNumber(r,{unit:"year"}),o);default:return Be(Le(n.length,r),o)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s,o){const i=Pp(r,o);if(s.isTwoDigitYear){const c=d_(s.year,i);return r.setFullYear(c,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),Xn(r,o)}const a=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(a,0,o.firstWeekContainsDate),r.setHours(0,0,0,0),Xn(r,o)}}class g$ extends pe{constructor(){super(...arguments);W(this,"priority",130);W(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return dc(n==="R"?4:n.length,r)}set(r,n,s){const o=Ke(r,0);return o.setFullYear(s,0,4),o.setHours(0,0,0,0),qo(o)}}class v$ extends pe{constructor(){super(...arguments);W(this,"priority",130);W(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return dc(n==="u"?4:n.length,r)}set(r,n,s){return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class y$ extends pe{constructor(){super(...arguments);W(this,"priority",120);W(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"Q":case"QQ":return Le(n.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class w$ extends pe{constructor(){super(...arguments);W(this,"priority",120);W(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"q":case"qq":return Le(n.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class x$ extends pe{constructor(){super(...arguments);W(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);W(this,"priority",110)}parse(r,n,s){const o=i=>i-1;switch(n){case"M":return Be(Ae(ze.month,r),o);case"MM":return Be(Le(2,r),o);case"Mo":return Be(s.ordinalNumber(r,{unit:"month"}),o);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}class b$ extends pe{constructor(){super(...arguments);W(this,"priority",110);W(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,s){const o=i=>i-1;switch(n){case"L":return Be(Ae(ze.month,r),o);case"LL":return Be(Le(2,r),o);case"Lo":return Be(s.ordinalNumber(r,{unit:"month"}),o);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}function _$(e,t,r){const n=je(e,r==null?void 0:r.in),s=o_(n,r)-t;return n.setDate(n.getDate()-s*7),je(n,r==null?void 0:r.in)}class k$ extends pe{constructor(){super(...arguments);W(this,"priority",100);W(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,s){switch(n){case"w":return Ae(ze.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return Le(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s,o){return Xn(_$(r,s,o),o)}}function j$(e,t,r){const n=je(e,r==null?void 0:r.in),s=s_(n,r)-t;return n.setDate(n.getDate()-s*7),n}class S$ extends pe{constructor(){super(...arguments);W(this,"priority",100);W(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,s){switch(n){case"I":return Ae(ze.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return Le(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s){return qo(j$(r,s))}}const E$=[31,28,31,30,31,30,31,31,30,31,30,31],C$=[31,29,31,30,31,30,31,31,30,31,30,31];class N$ extends pe{constructor(){super(...arguments);W(this,"priority",90);W(this,"subPriority",1);W(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"d":return Ae(ze.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return Le(n.length,r)}}validate(r,n){const s=r.getFullYear(),o=f_(s),i=r.getMonth();return o?n>=1&&n<=C$[i]:n>=1&&n<=E$[i]}set(r,n,s){return r.setDate(s),r.setHours(0,0,0,0),r}}class P$ extends pe{constructor(){super(...arguments);W(this,"priority",90);W(this,"subpriority",1);W(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,s){switch(n){case"D":case"DD":return Ae(ze.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return Le(n.length,r)}}validate(r,n){const s=r.getFullYear();return f_(s)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,s){return r.setMonth(0,s),r.setHours(0,0,0,0),r}}function Rp(e,t,r){var f,p,v,y;const n=Us(),s=(r==null?void 0:r.weekStartsOn)??((p=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((y=(v=n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??0,o=je(e,r==null?void 0:r.in),i=o.getDay(),c=(t%7+7)%7,u=7-s,d=t<0||t>6?t-(i+u)%7:(c+u)%7-(i+u)%7;return r_(o,d,r)}class T$ extends pe{constructor(){super(...arguments);W(this,"priority",90);W(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,o){return r=Rp(r,s,o),r.setHours(0,0,0,0),r}}class R$ extends pe{constructor(){super(...arguments);W(this,"priority",90);W(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,s,o){const i=a=>{const c=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return Be(Le(n.length,r),i);case"eo":return Be(s.ordinalNumber(r,{unit:"day"}),i);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,o){return r=Rp(r,s,o),r.setHours(0,0,0,0),r}}class A$ extends pe{constructor(){super(...arguments);W(this,"priority",90);W(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,s,o){const i=a=>{const c=Math.floor((a-1)/7)*7;return(a+o.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return Be(Le(n.length,r),i);case"co":return Be(s.ordinalNumber(r,{unit:"day"}),i);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,o){return r=Rp(r,s,o),r.setHours(0,0,0,0),r}}function O$(e,t,r){const n=je(e,r==null?void 0:r.in),s=a$(n,r),o=t-s;return r_(n,o,r)}class M$ extends pe{constructor(){super(...arguments);W(this,"priority",90);W(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,s){const o=i=>i===0?7:i;switch(n){case"i":case"ii":return Le(n.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return Be(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),o);case"iiiii":return Be(s.day(r,{width:"narrow",context:"formatting"}),o);case"iiiiii":return Be(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),o);case"iiii":default:return Be(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),o)}}validate(r,n){return n>=1&&n<=7}set(r,n,s){return r=O$(r,s),r.setHours(0,0,0,0),r}}class D$ extends pe{constructor(){super(...arguments);W(this,"priority",80);W(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(Tp(s),0,0,0),r}}class I$ extends pe{constructor(){super(...arguments);W(this,"priority",80);W(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(Tp(s),0,0,0),r}}class L$ extends pe{constructor(){super(...arguments);W(this,"priority",80);W(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(Tp(s),0,0,0),r}}class $$ extends pe{constructor(){super(...arguments);W(this,"priority",70);W(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,s){switch(n){case"h":return Ae(ze.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return Le(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,s){const o=r.getHours()>=12;return o&&s<12?r.setHours(s+12,0,0,0):!o&&s===12?r.setHours(0,0,0,0):r.setHours(s,0,0,0),r}}class F$ extends pe{constructor(){super(...arguments);W(this,"priority",70);W(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,s){switch(n){case"H":return Ae(ze.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return Le(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,s){return r.setHours(s,0,0,0),r}}class U$ extends pe{constructor(){super(...arguments);W(this,"priority",70);W(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,s){switch(n){case"K":return Ae(ze.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return Le(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.getHours()>=12&&s<12?r.setHours(s+12,0,0,0):r.setHours(s,0,0,0),r}}class z$ extends pe{constructor(){super(...arguments);W(this,"priority",70);W(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,s){switch(n){case"k":return Ae(ze.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return Le(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,s){const o=s<=24?s%24:s;return r.setHours(o,0,0,0),r}}class B$ extends pe{constructor(){super(...arguments);W(this,"priority",60);W(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"m":return Ae(ze.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return Le(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setMinutes(s,0,0),r}}class W$ extends pe{constructor(){super(...arguments);W(this,"priority",50);W(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"s":return Ae(ze.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return Le(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setSeconds(s,0),r}}class H$ extends pe{constructor(){super(...arguments);W(this,"priority",30);W(this,"incompatibleTokens",["t","T"])}parse(r,n){const s=o=>Math.trunc(o*Math.pow(10,-n.length+3));return Be(Le(n.length,r),s)}set(r,n,s){return r.setMilliseconds(s),r}}class V$ extends pe{constructor(){super(...arguments);W(this,"priority",10);W(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Or(Ar.basicOptionalMinutes,r);case"XX":return Or(Ar.basic,r);case"XXXX":return Or(Ar.basicOptionalSeconds,r);case"XXXXX":return Or(Ar.extendedOptionalSeconds,r);case"XXX":default:return Or(Ar.extended,r)}}set(r,n,s){return n.timestampIsSet?r:Ke(r,r.getTime()-Go(r)-s)}}class q$ extends pe{constructor(){super(...arguments);W(this,"priority",10);W(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Or(Ar.basicOptionalMinutes,r);case"xx":return Or(Ar.basic,r);case"xxxx":return Or(Ar.basicOptionalSeconds,r);case"xxxxx":return Or(Ar.extendedOptionalSeconds,r);case"xxx":default:return Or(Ar.extended,r)}}set(r,n,s){return n.timestampIsSet?r:Ke(r,r.getTime()-Go(r)-s)}}class G$ extends pe{constructor(){super(...arguments);W(this,"priority",40);W(this,"incompatibleTokens","*")}parse(r){return u_(r)}set(r,n,s){return[Ke(r,s*1e3),{timestampIsSet:!0}]}}class K$ extends pe{constructor(){super(...arguments);W(this,"priority",20);W(this,"incompatibleTokens","*")}parse(r){return u_(r)}set(r,n,s){return[Ke(r,s),{timestampIsSet:!0}]}}const Y$={G:new h$,y:new p$,Y:new m$,R:new g$,u:new v$,Q:new y$,q:new w$,M:new x$,L:new b$,w:new k$,I:new S$,d:new N$,D:new P$,E:new T$,e:new R$,c:new A$,i:new M$,a:new D$,b:new I$,B:new L$,h:new $$,H:new F$,K:new U$,k:new z$,m:new B$,s:new W$,S:new H$,X:new V$,x:new q$,t:new G$,T:new K$},Q$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,X$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,J$=/^'([^]*?)'?$/,Z$=/''/g,e4=/\S/,t4=/[a-zA-Z]/;function r4(e,t,r,n){var x,w,m,b;const s=()=>Ke(r,NaN),o=i$(),i=o.locale??Ra,a=o.firstWeekContainsDate??((w=(x=o.locale)==null?void 0:x.options)==null?void 0:w.firstWeekContainsDate)??1,c=o.weekStartsOn??((b=(m=o.locale)==null?void 0:m.options)==null?void 0:b.weekStartsOn)??0,u={firstWeekContainsDate:a,weekStartsOn:c,locale:i},d=[new f$(n==null?void 0:n.in,r)],f=t.match(X$).map(_=>{const k=_[0];if(k in If){const j=If[k];return j(_,i.formatLong)}return _}).join("").match(Q$),p=[];for(let _ of f){l_(_)&&Lf(_,t,e),a_(_)&&Lf(_,t,e);const k=_[0],j=Y$[k];if(j){const{incompatibleTokens:E}=j;if(Array.isArray(E)){const N=p.find(T=>E.includes(T.token)||T.token===k);if(N)throw new RangeError(`The format string mustn't contain \`${N.fullToken}\` and \`${_}\` at the same time`)}else if(j.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);p.push({token:k,fullToken:_});const S=j.run(e,_,i.match,u);if(!S)return s();d.push(S.setter),e=S.rest}else{if(k.match(t4))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if(_==="''"?_="'":k==="'"&&(_=n4(_)),e.indexOf(_)===0)e=e.slice(_.length);else return s()}}if(e.length>0&&e4.test(e))return s();const v=d.map(_=>_.priority).sort((_,k)=>k-_).filter((_,k,j)=>j.indexOf(_)===k).map(_=>d.filter(k=>k.priority===_).sort((k,j)=>j.subPriority-k.subPriority)).map(_=>_[0]);let y=je(r,n==null?void 0:n.in);if(isNaN(+y))return s();const g={};for(const _ of v){if(!_.validate(y,u))return s();const k=_.set(y,g,u);Array.isArray(k)?(y=k[0],Object.assign(g,k[1])):y=k}return y}function n4(e){return e.match(J$)[1].replace(Z$,"'")}function s4({onComplete:e,tempData:t,updateTempData:r}){const{t:n,language:s}=ae(),{user:o}=$e(),{toast:i}=Se(),[a,c]=h.useState(t.name||""),[u,d]=h.useState(t.gender||"male"),[f,p]=h.useState(t.birthdate||""),[v,y]=h.useState(t.city||""),[g,x]=h.useState(!1),[w,m]=h.useState(null),[b,_]=h.useState(null);h.useEffect(()=>{r({name:a,gender:u,birthdate:f,city:v})},[a,u,f,v,r]),h.useEffect(()=>{(async()=>{if(o)try{const{data:S,error:N}=await I.from("user_nationalities").select("nationality").eq("user_id",o.id).maybeSingle();if(N)throw N;S&&m(S.nationality)}catch(S){console.error("Error fetching nationality:",S)}})()},[o]);const k=E=>{if(!E||!w)return!1;try{const S=r4(E,"yyyy-MM-dd",new Date);return fL(new Date,S)<(w==="ko"?19:18)?(_(w==="ko"?s==="ko"?"한국인은 만 19세 이상만 가입할 수 있습니다.":"韓国人は満19歳以上のみ登録できます。":s==="ko"?"일본인은 만 18세 이상만 가입할 수 있습니다.":"日本人は満18歳以上のみ登録できます。"),!1):(_(null),!0)}catch(S){return console.error("Error validating age:",S),!1}},j=async E=>{if(E.preventDefault(),!(!a||!f||!v||!o)&&k(f)){x(!0);try{const{error:S}=await I.from("users").update({nickname:a,gender:u,birthdate:f,city:v}).eq("id",o.id);if(S)throw S;e()}catch(S){console.error("Error saving basic info:",S),i({title:n("error.generic"),description:n("error.try_again"),variant:"destructive"})}finally{x(!1)}}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n("onboarding.basics.title")}),l.jsx("p",{className:"text-muted-foreground",children:n("onboarding.basics.desc")})]}),l.jsxs("form",{className:"space-y-4",onSubmit:j,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"name",className:"text-sm font-medium",children:n("onboarding.basics.name")}),l.jsx(Yr,{id:"name",value:a,onChange:E=>c(E.target.value),className:"pasar-input",placeholder:s==="ko"?"홍길동":"山田太郎",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"gender",className:"text-sm font-medium",children:n("onboarding.basics.gender")}),l.jsxs(bs,{value:u,onValueChange:d,required:!0,children:[l.jsx(zn,{className:"pasar-input",children:l.jsx(_s,{})}),l.jsxs(Bn,{children:[l.jsx(we,{value:"male",children:s==="ko"?"남성":"男性"}),l.jsx(we,{value:"female",children:s==="ko"?"여성":"女性"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"birthdate",className:"text-sm font-medium",children:n("onboarding.basics.birthdate")}),l.jsx(Yr,{id:"birthdate",type:"date",value:f,onChange:E=>{p(E.target.value),E.target.value&&k(E.target.value)},className:"pasar-input",required:!0}),b&&l.jsx("p",{className:"text-sm text-red-500 mt-1",children:b})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"city",className:"text-sm font-medium",children:n("onboarding.basics.city")}),l.jsx(Yr,{id:"city",value:v,onChange:E=>y(E.target.value),className:"pasar-input",placeholder:s==="ko"?"서울":"東京",required:!0})]}),l.jsx("div",{className:"flex justify-end mt-8",children:l.jsx(X,{type:"submit",className:"pasar-btn",disabled:!a||!f||!v||g||!!b,children:g?l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}),s==="ko"?"저장 중...":"保存中..."]}):n("action.next")})})]})]})}const Ap=h.forwardRef(({className:e,...t},r)=>l.jsx("textarea",{className:H("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));Ap.displayName="Textarea";var Op="Checkbox",[o4,K5]=Yt(Op),[i4,a4]=o4(Op),h_=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:u,form:d,...f}=e,[p,v]=h.useState(null),y=se(t,_=>v(_)),g=h.useRef(!1),x=p?d||!!p.closest("form"):!0,[w=!1,m]=qt({prop:s,defaultProp:o,onChange:u}),b=h.useRef(w);return h.useEffect(()=>{const _=p==null?void 0:p.form;if(_){const k=()=>m(b.current);return _.addEventListener("reset",k),()=>_.removeEventListener("reset",k)}},[p,m]),l.jsxs(i4,{scope:r,state:w,disabled:a,children:[l.jsx(K.button,{type:"button",role:"checkbox","aria-checked":Wn(w)?"mixed":w,"aria-required":i,"data-state":g_(w),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:y,onKeyDown:L(e.onKeyDown,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:L(e.onClick,_=>{m(k=>Wn(k)?!0:!k),x&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),x&&l.jsx(l4,{control:p,bubbles:!g.current,name:n,value:c,checked:w,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:Wn(o)?!1:o})]})});h_.displayName=Op;var p_="CheckboxIndicator",m_=h.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...s}=e,o=a4(p_,r);return l.jsx(Qt,{present:n||Wn(o.state)||o.state===!0,children:l.jsx(K.span,{"data-state":g_(o.state),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});m_.displayName=p_;var l4=e=>{const{control:t,checked:r,bubbles:n=!0,defaultChecked:s,...o}=e,i=h.useRef(null),a=Ep(r),c=Yh(t);h.useEffect(()=>{const d=i.current,f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(a!==r&&v){const y=new Event("click",{bubbles:n});d.indeterminate=Wn(r),v.call(d,Wn(r)?!1:r),d.dispatchEvent(y)}},[a,r,n]);const u=h.useRef(Wn(r)?!1:r);return l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??u.current,...o,tabIndex:-1,ref:i,style:{...e.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Wn(e){return e==="indeterminate"}function g_(e){return Wn(e)?"indeterminate":e?"checked":"unchecked"}var v_=h_,c4=m_;const y_=h.forwardRef(({className:e,...t},r)=>l.jsx(v_,{ref:r,className:H("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:l.jsx(c4,{className:H("flex items-center justify-center text-current"),children:l.jsx(Ms,{className:"h-4 w-4"})})}));y_.displayName=v_.displayName;function u4({onComplete:e,tempData:t,updateTempData:r}){const{t:n,language:s}=ae(),{user:o}=$e(),{toast:i}=Se(),[a,c]=h.useState(t.job||""),[u,d]=h.useState(t.education||""),[f,p]=h.useState(t.bio||""),[v,y]=h.useState(t.interests||[]),[g,x]=h.useState(t.koreanLevel||(s==="ko"?"native":"beginner")),[w,m]=h.useState(t.japaneseLevel||(s==="ko"?"beginner":"native")),[b,_]=h.useState(!1);h.useEffect(()=>{r({job:a,education:u,bio:f,interests:v,koreanLevel:g,japaneseLevel:w})},[a,u,f,v,g,w,r]);const k={ko:["영화","음악","여행","독서","요리","운동","패션","게임","언어 교환","사진","미술","테크놀로지","댄스","명상","자연","음식","동물"],ja:["映画","音楽","旅行","読書","料理","スポーツ","ファッション","ゲーム","言語交換","写真","美術","テクノロジー","ダンス","瞑想","自然","食べ物","動物"]},j=S=>{v.includes(S)?y(v.filter(N=>N!==S)):y([...v,S])},E=async S=>{if(S.preventDefault(),!!o){_(!0);try{const{error:N}=await I.from("users").update({bio:f}).eq("id",o.id);if(N)throw N;if(v.length>0){const D=v.map(M=>({user_id:o.id,interest:M})),{error:B}=await I.from("user_interests").insert(D);if(B)throw B}const T=[{user_id:o.id,language_code:"korean",proficiency:g},{user_id:o.id,language_code:"japanese",proficiency:w}],{error:z}=await I.from("language_skills").insert(T);if(z)throw z;e()}catch(N){console.error("Error saving profile data:",N),i({title:n("error.generic"),description:n("error.try_again"),variant:"destructive"})}finally{_(!1)}}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"text-center",children:l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n("onboarding.questions.title")})}),l.jsxs("form",{className:"space-y-6",onSubmit:E,children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"job",className:"text-sm font-medium",children:n("onboarding.questions.job")}),l.jsx(Yr,{id:"job",value:a,onChange:S=>c(S.target.value),className:"pasar-input",placeholder:s==="ko"?"직업을 입력하세요":"職業を入力してください"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"education",className:"text-sm font-medium",children:n("onboarding.questions.education")}),l.jsxs(bs,{value:u,onValueChange:d,children:[l.jsx(zn,{className:"pasar-input",children:l.jsx(_s,{placeholder:s==="ko"?"학력 선택":"学歴を選択"})}),l.jsxs(Bn,{children:[l.jsx(we,{value:"high_school",children:s==="ko"?"고등학교 졸업":"高校卒業"}),l.jsx(we,{value:"bachelors",children:s==="ko"?"학사":"学士"}),l.jsx(we,{value:"masters",children:s==="ko"?"석사":"修士"}),l.jsx(we,{value:"phd",children:s==="ko"?"박사":"博士"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"bio",className:"text-sm font-medium",children:n("profile.about")}),l.jsx(Ap,{id:"bio",value:f,onChange:S=>p(S.target.value),className:"pasar-input min-h-[100px]",placeholder:s==="ko"?"자기소개를 작성해주세요":"自己紹介を書いてください"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-medium",children:n("onboarding.questions.interests")}),l.jsx("div",{className:"flex flex-wrap gap-2",children:k[s].map(S=>l.jsx("label",{className:`px-3 py-2 rounded-full text-sm cursor-pointer transition-colors
                ${v.includes(S)?"bg-primary text-primary-foreground":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(y_,{checked:v.includes(S),onCheckedChange:()=>j(S),className:"hidden"}),l.jsx("span",{children:S})]})},S))})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"languages",className:"text-sm font-medium",children:n("onboarding.questions.languages")}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:s==="ko"?"한국어":"韓国語"}),l.jsxs(bs,{value:g,onValueChange:x,children:[l.jsx(zn,{className:"pasar-input",children:l.jsx(_s,{})}),l.jsxs(Bn,{children:[l.jsx(we,{value:"none",children:s==="ko"?"못함":"できない"}),l.jsx(we,{value:"beginner",children:s==="ko"?"초급":"初級"}),l.jsx(we,{value:"intermediate",children:s==="ko"?"중급":"中級"}),l.jsx(we,{value:"advanced",children:s==="ko"?"고급":"上級"}),l.jsx(we,{value:"native",children:s==="ko"?"원어민":"ネイティブ"})]})]})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:s==="ko"?"일본어":"日本語"}),l.jsxs(bs,{value:w,onValueChange:m,children:[l.jsx(zn,{className:"pasar-input",children:l.jsx(_s,{})}),l.jsxs(Bn,{children:[l.jsx(we,{value:"none",children:s==="ko"?"못함":"できない"}),l.jsx(we,{value:"beginner",children:s==="ko"?"초급":"初級"}),l.jsx(we,{value:"intermediate",children:s==="ko"?"중급":"中級"}),l.jsx(we,{value:"advanced",children:s==="ko"?"고급":"上級"}),l.jsx(we,{value:"native",children:s==="ko"?"원어민":"ネイティブ"})]})]})]})]})]}),l.jsx("div",{className:"flex justify-end mt-8",children:l.jsx(X,{type:"submit",className:"pasar-btn",disabled:b,children:b?l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}),s==="ko"?"저장 중...":"保存中..."]}):n("action.next")})})]})]})}function d4({onComplete:e,tempData:t,updateTempData:r}){const{t:n,language:s}=ae(),{user:o}=$e(),{toast:i}=Se(),a=it(),[c,u]=h.useState(t.docType||""),[d,f]=h.useState(t.frontUploaded||!1),[p,v]=h.useState(!1),[y,g]=h.useState(t.file||null),x=h.useRef(null);h.useEffect(()=>{r({docType:c,frontUploaded:d,file:y})},[c,d,y,r]);const w=_=>{_.target.files&&_.target.files[0]&&(g(_.target.files[0]),f(!0))},m=async()=>{if(!(!y||!c||!o)){v(!0);try{const _=await g1(o.id,y),{error:k}=await I.from("identity_verifications").insert({user_id:o.id,country_code:s==="ko"?"KR":"JP",doc_type:c,id_front_url:_,status:"submitted",submitted_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(k)throw k;i({title:s==="ko"?"신분증이 제출되었습니다":"身分証明書が提出されました",description:s==="ko"?"검토 후 알림으로 알려드립니다":"審査後、通知でお知らせします"}),a("/home")}catch(_){console.error("Error submitting verification:",_),i({title:n("error.generic"),description:_ instanceof Error?_.message:n("error.try_again"),variant:"destructive"})}finally{v(!1)}}},b=()=>{e()};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("h2",{className:"text-2xl font-semibold mb-2",children:n("onboarding.verification.title")}),l.jsx("p",{className:"text-muted-foreground",children:n("onboarding.verification.desc")})]}),l.jsx("div",{className:"bg-pastel-mint/30 rounded-lg p-4 border border-pastel-mint",children:l.jsx("p",{className:"text-sm",children:s==="ko"?"신분증 정보는 안전하게 암호화되어 저장됩니다. 신분증 인증은 안전한 매칭 서비스를 제공하기 위함입니다.":"身分証明書の情報は安全に暗号化されて保存されます。身分証明書の確認は安全なマッチングサービスを提供するためです。"})}),l.jsxs("form",{className:"space-y-6",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"docType",className:"text-sm font-medium",children:s==="ko"?"신분증 종류":"身分証明書の種類"}),l.jsxs(bs,{value:c,onValueChange:u,children:[l.jsx(zn,{id:"docType",className:"pasar-input",children:l.jsx(_s,{placeholder:s==="ko"?"신분증 종류 선택":"身分証明書の種類を選択"})}),l.jsxs(Bn,{children:[l.jsx(we,{value:"resident_card",children:s==="ko"?"주민등록증":"住民基本台帳カード"}),l.jsx(we,{value:"driver_license",children:s==="ko"?"운전면허증":"運転免許証"}),l.jsx(we,{value:"passport",children:s==="ko"?"여권":"パスポート"}),s==="ja"&&l.jsx(we,{value:"my_number_card",children:"マイナンバーカード"})]})]})]}),c&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-medium",children:s==="ko"?"신분증 앞면":"身分証明書の表面"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center relative",children:[d?l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-pastel-mint flex items-center justify-center mb-3",children:l.jsx(Ms,{className:"w-6 h-6 text-green-600"})}),l.jsx("p",{className:"text-sm font-medium text-gray-700",children:s==="ko"?"파일이 업로드되었습니다":"ファイルがアップロードされました"}),l.jsx(X,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{f(!1),g(null),x.current&&(x.current.value="")},children:s==="ko"?"다시 선택":"再選択"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mb-3",children:l.jsx(zh,{className:"w-6 h-6 text-gray-500"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s==="ko"?"이미지를 끌어다 놓거나 클릭하여 업로드":"画像をドラッグ＆ドロップするか、クリックしてアップロード"}),l.jsx("p",{className:"text-xs text-gray-400",children:s==="ko"?"JPG, PNG, 최대 5MB":"JPG、PNG、最大5MB"})]}),l.jsx("input",{ref:x,type:"file",accept:"image/*",className:`absolute inset-0 w-full h-full opacity-0 cursor-pointer ${d?"hidden":""}`,onChange:w})]})]})]}),l.jsxs("div",{className:"flex justify-between mt-8",children:[l.jsx(X,{variant:"outline",onClick:b,className:"rounded-full",children:s==="ko"?"나중에 하기":"後でする"}),l.jsx(X,{onClick:m,className:"pasar-btn",disabled:!c||!d||p,children:p?l.jsxs("span",{className:"flex items-center",children:[l.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}),s==="ko"?"제출 중...":"送信中..."]}):s==="ko"?"제출하기":"送信する"})]})]})}const f4=()=>{const{step:e}=ip(),t=it(),r=parseInt(e||"1",10),{user:n,signInWithGoogle:s,signOut:o}=$e(),{toast:i}=Se(),{t:a}=ae(),[c,u]=h.useState(!1),d=5,[f,p]=h.useState({nationality:null,photos:[],basicInfo:{name:"",gender:"male",birthdate:"",city:""},questions:{job:"",education:"",bio:"",interests:[],koreanLevel:"",japaneseLevel:""},verification:{docType:"",frontUploaded:!1,file:null}}),v=(m,b)=>{p(_=>({..._,[m]:b}))},y=async m=>{u(!0);try{if(n){const{error:b}=await I.rpc("update_user_onboarding_step",{user_id:n.id,step_number:m,is_completed:m>d});if(b)throw b}m>d?t("/home"):t(`/onboarding/${m}`)}catch(b){console.error("Error updating onboarding step:",b),i({title:a("error.generic"),description:a("error.try_again"),variant:"destructive"})}finally{u(!1)}},g=async()=>{if(r>1){u(!0);try{if(n){const{error:m}=await I.rpc("update_user_onboarding_step",{user_id:n.id,step_number:r-1,is_completed:!1});if(m)throw m}t(`/onboarding/${r-1}`)}catch(m){console.error("Error updating onboarding step:",m),i({title:a("error.generic"),description:a("error.try_again"),variant:"destructive"})}finally{u(!1)}}},x=async()=>{try{await o(),await s(),i({title:a("auth.account_switch"),description:a("auth.account_switch_success")})}catch(m){console.error("Error switching account:",m),i({title:a("error.generic"),description:a("error.try_again"),variant:"destructive"})}},w=()=>{switch(r){case 1:return l.jsx(vv,{onComplete:()=>y(2),tempData:f.nationality,updateTempData:m=>v("nationality",m)});case 2:return l.jsx(yI,{onComplete:()=>y(3),tempData:f.photos,updateTempData:m=>v("photos",m)});case 3:return l.jsx(s4,{onComplete:()=>y(4),tempData:f.basicInfo,updateTempData:m=>v("basicInfo",m)});case 4:return l.jsx(u4,{onComplete:()=>y(5),tempData:f.questions,updateTempData:m=>v("questions",m)});case 5:return l.jsx(d4,{onComplete:()=>y(6),tempData:f.verification,updateTempData:m=>v("verification",m)});default:return l.jsx(vv,{onComplete:()=>y(2),tempData:f.nationality,updateTempData:m=>v("nationality",m)})}};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-white via-pastel-pink/10 to-pastel-lavender/20",children:l.jsxs("div",{className:"container max-w-lg mx-auto py-12 px-4 sm:px-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsx("h1",{className:"text-xl font-semibold text-primary",children:a("app.name")}),n&&l.jsxs(X,{variant:"ghost",size:"sm",onClick:x,className:"flex items-center text-muted-foreground hover:text-primary",children:[l.jsx(Cx,{className:"w-4 h-4 mr-1"}),l.jsx("span",{children:a("auth.switch_account")})]})]}),l.jsx(fI,{currentStep:r,totalSteps:d}),l.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-xl shadow-lg p-6",children:[r>1&&l.jsxs(X,{variant:"ghost",onClick:g,className:"mb-4 p-2","aria-label":a("onboarding.previous"),disabled:c,children:[l.jsx(jx,{className:"w-5 h-5 mr-1"}),l.jsx("span",{children:a("onboarding.previous")})]}),w()]})]})})};function h4(){const e=it();return h.useEffect(()=>{console.log("[Home Debug] Home page loaded, redirecting to recommendations"),e("/recommendations")},[e]),console.log("[Home Debug] Home component rendered"),null}const w_=async()=>{var e;try{const{data:t,error:r}=await I.rpc("get_user_notifications",{p_user_id:(e=(await I.auth.getUser()).data.user)==null?void 0:e.id});if(r)throw r;return t||[]}catch(t){return console.error("Error fetching notifications:",t),[]}},p4=async e=>{try{const{data:t,error:r}=await I.rpc("mark_notification_as_read",{p_notification_id:e});if(r)throw r;return!0}catch(t){return console.error("Error marking notification as read:",t),!1}},m4=async()=>{try{const{data:e,error:t}=await I.rpc("mark_all_notifications_as_read");if(t)throw t;return!0}catch(e){return console.error("Error marking all notifications as read:",e),!1}},g4=e=>{switch(e.type){case"match_accepted":return e.related_id?`/chat/${e.related_id}`:"/chat";case"match_rejected":return"/matches";case"new_message":return e.related_id?`/chat/${e.related_id}`:"/chat";case"verify_passed":case"verify_rejected":case"profile_photo_approved":case"profile_photo_rejected":case"profile_photo_request":return"/settings";case"match_request":return"/match-requests";default:return"/notifications"}},x_=e=>{const t=new Date(e),n=new Date().getTime()-t.getTime(),s=Math.floor(n/(1e3*60));if(s<1)return"just now";if(s<60)return`${s} min ago`;const o=Math.floor(s/60);if(o<24)return`${o} hr ago`;const i=Math.floor(o/24);return i<7?`${i} day${i>1?"s":""} ago`:t.toLocaleDateString()};function v4(){const{user:e}=$e(),{t}=ae(),{toast:r}=Se(),[n,s]=h.useState([]),[o,i]=h.useState(!1),[a,c]=h.useState(0),u=async()=>{if(e){i(!0);try{const d=await w_(),f=d.slice(0,5);s(f);const p=d.filter(v=>!v.is_read).length;c(p)}catch(d){console.error("Error fetching notifications:",d),r({title:t("common.error"),description:t("notifications.error.fetch"),variant:"destructive"})}finally{i(!1)}}};return h.useEffect(()=>{if(!e)return;const d=I.channel("notification_changes").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${e.id}`},()=>{u()}).subscribe();return u(),()=>{I.removeChannel(d)}},[e]),l.jsxs(p1,{children:[l.jsx(m1,{asChild:!0,children:l.jsxs(X,{variant:"ghost",size:"icon",className:"relative rounded-full",children:[l.jsx(oN,{className:"h-5 w-5"}),a>0&&l.jsx("span",{className:"absolute -top-0.5 -right-0.5 h-3 w-3 rounded-full bg-primary border-2 border-white"})]})}),l.jsxs(kp,{align:"end",className:"w-80 mt-2",children:[l.jsx("div",{className:"px-4 py-3 font-medium border-b",children:t("settings.notifications")}),o?l.jsx("div",{className:"py-4 flex justify-center",children:l.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):n.length>0?l.jsx(l.Fragment,{children:n.map(d=>l.jsx(rt,{to:d.related_id?`/notifications?highlight=${d.id}`:"/notifications",children:l.jsx(fa,{className:"py-2 px-4 cursor-pointer",children:l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium",children:d.title}),l.jsx("p",{className:"text-xs text-muted-foreground",children:x_(d.created_at)})]})})},d.id))}):l.jsx("div",{className:"py-4 px-4 text-center text-sm text-muted-foreground",children:t("notification.empty")}),l.jsx(fa,{className:"justify-center cursor-pointer",children:l.jsx(rt,{to:"/notifications",className:"text-sm text-primary",children:t("notifications.view_all")})})]})]})}function y4(){const{t:e}=ae();return $e(),l.jsx("header",{className:"fixed top-0 left-0 right-0 bg-white/80 backdrop-blur-md z-50 shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between h-16 items-center",children:[l.jsxs(rt,{to:"/home",className:"flex items-center",children:[l.jsx("img",{src:"/lovable-uploads/6bdd8a27-cd91-4f69-bda2-2afe0a4a0cdd.png",alt:"Pasar Logo",className:"h-8 w-8 mr-2"}),l.jsx("span",{className:"text-xl font-bold font-hand",children:e("app.name")})]}),l.jsxs("nav",{className:"hidden md:flex space-x-8 items-center",children:[l.jsx(rt,{to:"/home",className:"text-gray-700 hover:text-primary transition-colors",children:e("nav.home")}),l.jsx(rt,{to:"/matches",className:"text-gray-700 hover:text-primary transition-colors",children:e("nav.matches")}),l.jsx(rt,{to:"/chat",className:"text-gray-700 hover:text-primary transition-colors",children:e("nav.messages")})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(jp,{}),l.jsx(v4,{}),l.jsx(rt,{to:"/mypage",children:l.jsx("div",{className:"h-10 w-10 rounded-full bg-pastel-lavender flex items-center justify-center",children:l.jsx(Tx,{className:"h-5 w-5"})})})]})]})})})}function w4(){const{t:e}=ae();return l.jsx("footer",{className:"bg-white mt-20",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"py-10 md:flex md:items-center md:justify-between",children:[l.jsxs("div",{className:"flex justify-center md:justify-start",children:[l.jsx("img",{src:"/lovable-uploads/6bdd8a27-cd91-4f69-bda2-2afe0a4a0cdd.png",alt:"Pasar Logo",className:"h-5 w-5 mr-2"}),l.jsx("span",{className:"text-lg font-hand",children:e("app.name")})]}),l.jsx("div",{className:"mt-8 md:mt-0",children:l.jsxs("p",{className:"text-center text-sm text-gray-400 md:text-right",children:["© ",new Date().getFullYear()," Pasar. All rights reserved."]})})]})})})}function x4(){const{t:e}=ae(),t=si(),r=n=>t.pathname.includes(n);return l.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 md:hidden z-50",children:l.jsxs("div",{className:"flex justify-around items-center h-16",children:[l.jsxs(rt,{to:"/recommendations",className:`flex flex-col items-center justify-center w-full h-full ${r("/recommendations")||r("/home")?"text-primary":"text-gray-500"}`,children:[l.jsx(dN,{className:"h-5 w-5"}),l.jsx("span",{className:"text-xs mt-1",children:e("nav.home")})]}),l.jsxs(rt,{to:"/matches",className:`flex flex-col items-center justify-center w-full h-full ${r("/matches")?"text-primary":"text-gray-500"}`,children:[l.jsx(Dc,{className:"h-5 w-5"}),l.jsx("span",{className:"text-xs mt-1",children:e("nav.matches")})]}),l.jsxs(rt,{to:"/chat",className:`flex flex-col items-center justify-center w-full h-full ${r("/chat")?"text-primary":"text-gray-500"}`,children:[l.jsx(Nx,{className:"h-5 w-5"}),l.jsx("span",{className:"text-xs mt-1",children:e("nav.messages")})]}),l.jsxs(rt,{to:"/mypage",className:`flex flex-col items-center justify-center w-full h-full ${r("/mypage")||r("/profile")?"text-primary":"text-gray-500"}`,children:[l.jsx(Tx,{className:"h-5 w-5"}),l.jsx("span",{className:"text-xs mt-1",children:e("nav.profile")})]})]})})}function Je({children:e,hideFooter:t=!1}){return l.jsxs("div",{className:"min-h-screen flex flex-col",children:[l.jsx(y4,{}),l.jsx("main",{className:"flex-grow mt-16 pb-16 md:pb-0",children:e}),!t&&l.jsx(w4,{}),l.jsx(x4,{})]})}var b4="Separator",Cv="horizontal",_4=["horizontal","vertical"],b_=h.forwardRef((e,t)=>{const{decorative:r,orientation:n=Cv,...s}=e,o=k4(n)?n:Cv,a=r?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return l.jsx(K.div,{"data-orientation":o,...a,...s,ref:t})});b_.displayName=b4;function k4(e){return _4.includes(e)}var __=b_;const k_=h.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},s)=>l.jsx(__,{ref:s,decorative:r,orientation:t,className:H("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));k_.displayName=__.displayName;const j4=Jo("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $f({className:e,variant:t,...r}){return l.jsx("div",{className:H(j4({variant:t}),e),...r})}const S4=async e=>{try{if(console.log("[matchHelpers Debug] Sending match request to:",e),!e)throw console.error("[matchHelpers Debug] Error: targetProfileId is empty or undefined"),new Error("Target profile ID is required");const{data:t,error:r}=await I.rpc("send_match_request_rpc",{target_profile_id:e});if(r)throw console.error("[matchHelpers Debug] Error executing send_match_request_rpc:",r),console.error("[matchHelpers Debug] Error details:",JSON.stringify(r)),r;return console.log("[matchHelpers Debug] Match request response:",t),t.success||!1}catch(t){throw console.error("[matchHelpers Debug] Error sending match request:",t),console.error("[matchHelpers Debug] Error object details:",JSON.stringify(t)),t}},E4=async e=>{try{console.log("[matchHelpers Debug] Accepting match request:",e);const{data:t,error:r}=await I.rpc("accept_match_request_rpc",{request_id:e});if(r)throw console.error("[matchHelpers Debug] Error executing accept_match_request_rpc:",r),r;return console.log("[matchHelpers Debug] Accept request response:",t),t.success||!1}catch(t){throw console.error("[matchHelpers Debug] Error accepting match request:",t),t}},C4=async e=>{try{console.log("[matchHelpers Debug] Rejecting match request:",e);const{data:t,error:r}=await I.rpc("reject_match_request_rpc",{request_id:e});if(r)throw console.error("[matchHelpers Debug] Error executing reject_match_request_rpc:",r),r;return console.log("[matchHelpers Debug] Reject request response:",t),t.success||!1}catch(t){throw console.error("[matchHelpers Debug] Error rejecting match request:",t),t}},j_=async e=>{try{const{data:t}=await I.auth.getUser();if(!t.user)throw new Error("User not authenticated");const r=I.from("matches").select(`
        id, 
        status, 
        created_at,
        ${e==="sent"?"target_user_id":"user_id"},
        users:${e==="sent"?"target_user_id":"user_id"}(id, nickname)
      `).eq(e==="sent"?"user_id":"target_user_id",t.user.id);e==="received"&&r.eq("status","pending");const{data:n,error:s}=await r;if(s)throw s;const o=(n||[]).map(a=>{const c=a.users,u=I.from("profile_photos").select("url").eq("user_id",c.id).order("sort_order",{ascending:!0}).limit(1).single();return{id:a.id,status:a.status,requested_at:a.created_at,user:{id:c.id,nickname:c.nickname,photo_url:""}}});return await Promise.all(o.map(async a=>{const{data:c}=await I.from("profile_photos").select("url").eq("user_id",a.user.id).order("sort_order",{ascending:!0}).limit(1).maybeSingle();return{...a,user:{...a.user,photo_url:(c==null?void 0:c.url)||"/placeholder.svg"}}}))}catch(t){return console.error(`Error fetching ${e} match requests:`,t),[]}},N4=async()=>j_("sent"),P4=async()=>j_("received");function T4(){var _;const{id:e}=ip(),t=it(),{language:r}=ae(),{toast:n}=Se(),[s,o]=h.useState(null),[i,a]=h.useState(!0),[c,u]=h.useState(0),[d,f]=h.useState(!1),[p,v]=h.useState(!1);h.useEffect(()=>{(async()=>{var j,E;if(e)try{a(!0);const{data:S,error:N}=await I.from("users").select(`
            id,
            nickname,
            birthdate,
            city,
            country_code,
            bio,
            gender,
            nationality, 
            is_verified,
            profile_photos (
              id,
              url,
              sort_order
            ),
            user_interests (
              interest
            ),
            language_skills (
              language_code,
              proficiency
            )
          `).eq("id",e).single();if(N)throw N;const T=S.birthdate?Math.floor((new Date().getTime()-new Date(S.birthdate).getTime())/315576e5):null,z=((j=S.profile_photos)==null?void 0:j.sort((B,M)=>B.sort_order-M.sort_order))||[];o({...S,age:T,photos:z,interests:((E=S.user_interests)==null?void 0:E.map(B=>B.interest))||[],languages:S.language_skills||[]});const{data:D}=await I.auth.getUser();if(D.user){const{data:B,error:M}=await I.from("matches").select("id").eq("user_id",D.user.id).eq("target_user_id",e).limit(1);!M&&B&&B.length>0&&f(!0)}}catch(S){console.error("Error fetching profile details:",S),n({title:r==="ko"?"오류":"エラー",description:r==="ko"?"프로필 정보를 불러올 수 없습니다.":"プロフィール情報を読み込めません。",variant:"destructive"})}finally{a(!1)}})()},[e,n,r]);const y=()=>{s!=null&&s.photos&&c<s.photos.length-1&&u(c+1)},g=()=>{c>0&&u(c-1)},x=()=>{t(-1)},w=async()=>{if(!(!e||d||p))try{v(!0),await S4(e),f(!0),n({title:r==="ko"?"매칭 요청 보냄":"マッチングリクエスト送信",description:r==="ko"?"상대방이 수락하면 채팅이 가능해집니다.":"相手が承認するとチャットが可能になります。"})}catch(k){console.error("Error sending match request:",k),n({title:r==="ko"?"오류":"エラー",description:r==="ko"?"매칭 요청을 보낼 수 없습니다.":"マッチングリクエストを送信できません。",variant:"destructive"})}finally{v(!1)}};if(i)return l.jsx(Je,{children:l.jsx("div",{className:"flex justify-center items-center h-[50vh]",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})});if(!s)return l.jsx(Je,{children:l.jsxs("div",{className:"max-w-3xl mx-auto px-4 py-12 text-center",children:[l.jsx("h1",{className:"text-2xl font-bold mb-4",children:r==="ko"?"프로필을 찾을 수 없습니다":"プロフィールが見つかりません"}),l.jsx(X,{onClick:x,children:r==="ko"?"돌아가기":"戻る"})]})});const m=k=>{switch(k){case"native":return r==="ko"?"원어민":"ネイティブ";case"fluent":return r==="ko"?"유창함":"流暢";case"intermediate":return r==="ko"?"중급":"中級";case"beginner":return r==="ko"?"초급":"初級";default:return k}},b=k=>{var E;return((E={ko:{ko:"한국어",ja:"韓国語"},ja:{ko:"일본어",ja:"日本語"},en:{ko:"영어",ja:"英語"}}[k])==null?void 0:E[r])||k};return l.jsx(Je,{children:l.jsxs("div",{className:"max-w-3xl mx-auto px-4 pb-12",children:[l.jsxs("div",{className:"relative h-[50vh] rounded-b-xl overflow-hidden mb-4",children:[l.jsx("img",{src:((_=s.photos[c])==null?void 0:_.url)||"/placeholder.svg",alt:s.nickname,className:"w-full h-full object-cover"}),l.jsx("button",{onClick:x,className:"absolute top-4 left-4 bg-black/30 p-2 rounded-full text-white",children:l.jsx(Ds,{className:"h-5 w-5"})}),l.jsx("div",{className:"absolute bottom-4 left-0 right-0 flex justify-center gap-2",children:s.photos.map((k,j)=>l.jsx("button",{onClick:()=>u(j),className:`w-2 h-2 rounded-full ${j===c?"bg-white":"bg-white/50"}`},j))}),c>0&&l.jsx("button",{onClick:g,className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/30 p-2 rounded-full text-white",children:l.jsx(iN,{className:"h-5 w-5"})}),s.photos&&c<s.photos.length-1&&l.jsx("button",{onClick:y,className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/30 p-2 rounded-full text-white",children:l.jsx(Sx,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"pasar-card p-6",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h1",{className:"text-2xl font-bold",children:s.nickname}),s.is_verified&&l.jsx("span",{className:"text-primary",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:l.jsx("path",{fillRule:"evenodd",d:"M6.267 3.455a3.066 3.066 0 001.745-.723 3.066 3.066 0 013.976 0 3.066 3.066 0 001.745.723 3.066 3.066 0 012.812 2.812c.051.643.304 1.254.723 1.745a3.066 3.066 0 010 3.976 3.066 3.066 0 00-.723 1.745 3.066 3.066 0 01-2.812 2.812 3.066 3.066 0 00-1.745.723 3.066 3.066 0 01-3.976 0 3.066 3.066 0 00-1.745-.723 3.066 3.066 0 01-2.812-2.812 3.066 3.066 0 00-.723-1.745 3.066 3.066 0 010-3.976 3.066 3.066 0 00.723-1.745 3.066 3.066 0 012.812-2.812zm7.44 5.252a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})})]}),l.jsxs("p",{className:"text-muted-foreground",children:[s.age&&`${s.age}세 · `,s.city]})]}),l.jsx(X,{onClick:w,disabled:d||p,className:`rounded-full h-12 w-12 ${d?"bg-pink-100 text-pink-500 border border-pink-300 hover:bg-pink-200":"bg-primary hover:bg-primary/90 text-primary-foreground"}`,children:l.jsx(Dc,{className:`h-6 w-6 ${d?"fill-pink-500":""}`})})]}),s.bio&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-lg font-medium mb-2",children:r==="ko"?"자기 소개":"自己紹介"}),l.jsx("p",{children:s.bio})]}),l.jsx(k_,{className:"my-6"}),s.languages&&s.languages.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-lg font-medium mb-2",children:r==="ko"?"언어":"言語"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:s.languages.map((k,j)=>l.jsxs($f,{variant:"secondary",className:"px-3 py-1",children:[b(k.language_code)," - ",m(k.proficiency)]},j))})]}),s.interests&&s.interests.length>0&&l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-lg font-medium mb-2",children:r==="ko"?"관심사":"興味"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:s.interests.map((k,j)=>l.jsx($f,{variant:"outline",className:"px-3 py-1",children:k},j))})]})]})]})})}var Mp="Tabs",[R4,Y5]=Yt(Mp,[Zc]),S_=Zc(),[A4,Dp]=R4(Mp),E_=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:c="automatic",...u}=e,d=Ca(a),[f,p]=qt({prop:n,onChange:s,defaultProp:o});return l.jsx(A4,{scope:r,baseId:nr(),value:f,onValueChange:p,orientation:i,dir:d,activationMode:c,children:l.jsx(K.div,{dir:d,"data-orientation":i,...u,ref:t})})});E_.displayName=Mp;var C_="TabsList",N_=h.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...s}=e,o=Dp(C_,r),i=S_(r);return l.jsx(db,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:n,children:l.jsx(K.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});N_.displayName=C_;var P_="TabsTrigger",T_=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=e,i=Dp(P_,r),a=S_(r),c=O_(i.baseId,n),u=M_(i.baseId,n),d=n===i.value;return l.jsx(fb,{asChild:!0,...a,focusable:!s,active:d,children:l.jsx(K.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...o,ref:t,onMouseDown:L(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?i.onValueChange(n):f.preventDefault()}),onKeyDown:L(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(n)}),onFocus:L(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!s&&f&&i.onValueChange(n)})})})});T_.displayName=P_;var R_="TabsContent",A_=h.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...i}=e,a=Dp(R_,r),c=O_(a.baseId,n),u=M_(a.baseId,n),d=n===a.value,f=h.useRef(d);return h.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),l.jsx(Qt,{present:s||d,children:({present:p})=>l.jsx(K.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:p&&o})})});A_.displayName=R_;function O_(e,t){return`${e}-trigger-${t}`}function M_(e,t){return`${e}-content-${t}`}var O4=E_,D_=N_,I_=T_,L_=A_;const Ip=O4,au=h.forwardRef(({className:e,...t},r)=>l.jsx(D_,{ref:r,className:H("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));au.displayName=D_.displayName;const qr=h.forwardRef(({className:e,...t},r)=>l.jsx(I_,{ref:r,className:H("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));qr.displayName=I_.displayName;const Gr=h.forwardRef(({className:e,...t},r)=>l.jsx(L_,{ref:r,className:H("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Gr.displayName=L_.displayName;const M4={lessThanXSeconds:{one:"1秒未満",other:"{{count}}秒未満",oneWithSuffix:"約1秒",otherWithSuffix:"約{{count}}秒"},xSeconds:{one:"1秒",other:"{{count}}秒"},halfAMinute:"30秒",lessThanXMinutes:{one:"1分未満",other:"{{count}}分未満",oneWithSuffix:"約1分",otherWithSuffix:"約{{count}}分"},xMinutes:{one:"1分",other:"{{count}}分"},aboutXHours:{one:"約1時間",other:"約{{count}}時間"},xHours:{one:"1時間",other:"{{count}}時間"},xDays:{one:"1日",other:"{{count}}日"},aboutXWeeks:{one:"約1週間",other:"約{{count}}週間"},xWeeks:{one:"1週間",other:"{{count}}週間"},aboutXMonths:{one:"約1か月",other:"約{{count}}か月"},xMonths:{one:"1か月",other:"{{count}}か月"},aboutXYears:{one:"約1年",other:"約{{count}}年"},xYears:{one:"1年",other:"{{count}}年"},overXYears:{one:"1年以上",other:"{{count}}年以上"},almostXYears:{one:"1年近く",other:"{{count}}年近く"}},D4=(e,t,r)=>{r=r||{};let n;const s=M4[e];return typeof s=="string"?n=s:t===1?r.addSuffix&&s.oneWithSuffix?n=s.oneWithSuffix:n=s.one:r.addSuffix&&s.otherWithSuffix?n=s.otherWithSuffix.replace("{{count}}",String(t)):n=s.other.replace("{{count}}",String(t)),r.addSuffix?r.comparison&&r.comparison>0?n+"後":n+"前":n},I4={full:"y年M月d日EEEE",long:"y年M月d日",medium:"y/MM/dd",short:"y/MM/dd"},L4={full:"H時mm分ss秒 zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},$4={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},F4={date:Qr({formats:I4,defaultWidth:"full"}),time:Qr({formats:L4,defaultWidth:"full"}),dateTime:Qr({formats:$4,defaultWidth:"full"})},U4={lastWeek:"先週のeeeeのp",yesterday:"昨日のp",today:"今日のp",tomorrow:"明日のp",nextWeek:"翌週のeeeeのp",other:"P"},z4=(e,t,r,n)=>U4[e],B4={narrow:["BC","AC"],abbreviated:["紀元前","西暦"],wide:["紀元前","西暦"]},W4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["第1四半期","第2四半期","第3四半期","第4四半期"]},H4={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],wide:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"]},V4={narrow:["日","月","火","水","木","金","土"],short:["日","月","火","水","木","金","土"],abbreviated:["日","月","火","水","木","金","土"],wide:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"]},q4={narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},G4={narrow:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},abbreviated:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"},wide:{am:"午前",pm:"午後",midnight:"深夜",noon:"正午",morning:"朝",afternoon:"午後",evening:"夜",night:"深夜"}},K4=(e,t)=>{const r=Number(e);switch(String(t==null?void 0:t.unit)){case"year":return`${r}年`;case"quarter":return`第${r}四半期`;case"month":return`${r}月`;case"week":return`第${r}週`;case"date":return`${r}日`;case"hour":return`${r}時`;case"minute":return`${r}分`;case"second":return`${r}秒`;default:return`${r}`}},Y4={ordinalNumber:K4,era:yt({values:B4,defaultWidth:"wide"}),quarter:yt({values:W4,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:yt({values:H4,defaultWidth:"wide"}),day:yt({values:V4,defaultWidth:"wide"}),dayPeriod:yt({values:q4,defaultWidth:"wide",formattingValues:G4,defaultFormattingWidth:"wide"})},Q4=/^第?\d+(年|四半期|月|週|日|時|分|秒)?/i,X4=/\d+/i,J4={narrow:/^(B\.?C\.?|A\.?D\.?)/i,abbreviated:/^(紀元[前後]|西暦)/i,wide:/^(紀元[前後]|西暦)/i},Z4={narrow:[/^B/i,/^A/i],any:[/^(紀元前)/i,/^(西暦|紀元後)/i]},e3={narrow:/^[1234]/i,abbreviated:/^Q[1234]/i,wide:/^第[1234一二三四１２３４]四半期/i},t3={any:[/(1|一|１)/i,/(2|二|２)/i,/(3|三|３)/i,/(4|四|４)/i]},r3={narrow:/^([123456789]|1[012])/,abbreviated:/^([123456789]|1[012])月/i,wide:/^([123456789]|1[012])月/i},n3={any:[/^1\D/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},s3={narrow:/^[日月火水木金土]/,short:/^[日月火水木金土]/,abbreviated:/^[日月火水木金土]/,wide:/^[日月火水木金土]曜日/},o3={any:[/^日/,/^月/,/^火/,/^水/,/^木/,/^金/,/^土/]},i3={any:/^(AM|PM|午前|午後|正午|深夜|真夜中|夜|朝)/i},a3={any:{am:/^(A|午前)/i,pm:/^(P|午後)/i,midnight:/^深夜|真夜中/i,noon:/^正午/i,morning:/^朝/i,afternoon:/^午後/i,evening:/^夜/i,night:/^深夜/i}},l3={ordinalNumber:Np({matchPattern:Q4,parsePattern:X4,valueCallback:function(e){return parseInt(e,10)}}),era:wt({matchPatterns:J4,defaultMatchWidth:"wide",parsePatterns:Z4,defaultParseWidth:"any"}),quarter:wt({matchPatterns:e3,defaultMatchWidth:"wide",parsePatterns:t3,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wt({matchPatterns:r3,defaultMatchWidth:"wide",parsePatterns:n3,defaultParseWidth:"any"}),day:wt({matchPatterns:s3,defaultMatchWidth:"wide",parsePatterns:o3,defaultParseWidth:"any"}),dayPeriod:wt({matchPatterns:i3,defaultMatchWidth:"any",parsePatterns:a3,defaultParseWidth:"any"})},$_={code:"ja",formatDistance:D4,formatLong:F4,formatRelative:z4,localize:Y4,match:l3,options:{weekStartsOn:0,firstWeekContainsDate:1}},c3={lessThanXSeconds:{one:"1초 미만",other:"{{count}}초 미만"},xSeconds:{one:"1초",other:"{{count}}초"},halfAMinute:"30초",lessThanXMinutes:{one:"1분 미만",other:"{{count}}분 미만"},xMinutes:{one:"1분",other:"{{count}}분"},aboutXHours:{one:"약 1시간",other:"약 {{count}}시간"},xHours:{one:"1시간",other:"{{count}}시간"},xDays:{one:"1일",other:"{{count}}일"},aboutXWeeks:{one:"약 1주",other:"약 {{count}}주"},xWeeks:{one:"1주",other:"{{count}}주"},aboutXMonths:{one:"약 1개월",other:"약 {{count}}개월"},xMonths:{one:"1개월",other:"{{count}}개월"},aboutXYears:{one:"약 1년",other:"약 {{count}}년"},xYears:{one:"1년",other:"{{count}}년"},overXYears:{one:"1년 이상",other:"{{count}}년 이상"},almostXYears:{one:"거의 1년",other:"거의 {{count}}년"}},u3=(e,t,r)=>{let n;const s=c3[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?n+" 후":n+" 전":n},d3={full:"y년 M월 d일 EEEE",long:"y년 M월 d일",medium:"y.MM.dd",short:"y.MM.dd"},f3={full:"a H시 mm분 ss초 zzzz",long:"a H:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},h3={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},p3={date:Qr({formats:d3,defaultWidth:"full"}),time:Qr({formats:f3,defaultWidth:"full"}),dateTime:Qr({formats:h3,defaultWidth:"full"})},m3={lastWeek:"'지난' eeee p",yesterday:"'어제' p",today:"'오늘' p",tomorrow:"'내일' p",nextWeek:"'다음' eeee p",other:"P"},g3=(e,t,r,n)=>m3[e],v3={narrow:["BC","AD"],abbreviated:["BC","AD"],wide:["기원전","서기"]},y3={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1분기","2분기","3분기","4분기"]},w3={narrow:["1","2","3","4","5","6","7","8","9","10","11","12"],abbreviated:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],wide:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"]},x3={narrow:["일","월","화","수","목","금","토"],short:["일","월","화","수","목","금","토"],abbreviated:["일","월","화","수","목","금","토"],wide:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"]},b3={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},_3={narrow:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},abbreviated:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"},wide:{am:"오전",pm:"오후",midnight:"자정",noon:"정오",morning:"아침",afternoon:"오후",evening:"저녁",night:"밤"}},k3=(e,t)=>{const r=Number(e);switch(String(t==null?void 0:t.unit)){case"minute":case"second":return String(r);case"date":return r+"일";default:return r+"번째"}},j3={ordinalNumber:k3,era:yt({values:v3,defaultWidth:"wide"}),quarter:yt({values:y3,defaultWidth:"wide",argumentCallback:e=>e-1}),month:yt({values:w3,defaultWidth:"wide"}),day:yt({values:x3,defaultWidth:"wide"}),dayPeriod:yt({values:b3,defaultWidth:"wide",formattingValues:_3,defaultFormattingWidth:"wide"})},S3=/^(\d+)(일|번째)?/i,E3=/\d+/i,C3={narrow:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(기원전|서기)/i},N3={any:[/^(bc|기원전)/i,/^(ad|서기)/i]},P3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234]사?분기/i},T3={any:[/1/i,/2/i,/3/i,/4/i]},R3={narrow:/^(1[012]|[123456789])/,abbreviated:/^(1[012]|[123456789])월/i,wide:/^(1[012]|[123456789])월/i},A3={any:[/^1월?$/,/^2/,/^3/,/^4/,/^5/,/^6/,/^7/,/^8/,/^9/,/^10/,/^11/,/^12/]},O3={narrow:/^[일월화수목금토]/,short:/^[일월화수목금토]/,abbreviated:/^[일월화수목금토]/,wide:/^[일월화수목금토]요일/},M3={any:[/^일/,/^월/,/^화/,/^수/,/^목/,/^금/,/^토/]},D3={any:/^(am|pm|오전|오후|자정|정오|아침|저녁|밤)/i},I3={any:{am:/^(am|오전)/i,pm:/^(pm|오후)/i,midnight:/^자정/i,noon:/^정오/i,morning:/^아침/i,afternoon:/^오후/i,evening:/^저녁/i,night:/^밤/i}},L3={ordinalNumber:Np({matchPattern:S3,parsePattern:E3,valueCallback:e=>parseInt(e,10)}),era:wt({matchPatterns:C3,defaultMatchWidth:"wide",parsePatterns:N3,defaultParseWidth:"any"}),quarter:wt({matchPatterns:P3,defaultMatchWidth:"wide",parsePatterns:T3,defaultParseWidth:"any",valueCallback:e=>e+1}),month:wt({matchPatterns:R3,defaultMatchWidth:"wide",parsePatterns:A3,defaultParseWidth:"any"}),day:wt({matchPatterns:O3,defaultMatchWidth:"wide",parsePatterns:M3,defaultParseWidth:"any"}),dayPeriod:wt({matchPatterns:D3,defaultMatchWidth:"any",parsePatterns:I3,defaultParseWidth:"any"})},F_={code:"ko",formatDistance:u3,formatLong:p3,formatRelative:g3,localize:j3,match:L3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Nv({id:e,profile:t,requestedAt:r,status:n="pending",type:s,onAction:o}){const{language:i}=ae(),{toast:a}=Se(),[c,u]=h.useState(!1),[d,f]=h.useState(n),p=i==="ko"?F_:i==="ja"?$_:Ra,v=o$(new Date(r),{addSuffix:!0,locale:p}),y=async()=>{try{u(!0),await E4(e),f("accepted"),a({title:i==="ko"?"매칭 수락":"マッチング承認",description:i==="ko"?"채팅이 가능해졌습니다.":"チャットが可能になりました。"}),o&&o(e,"accept")}catch(x){console.error("Error accepting match request:",x),a({title:i==="ko"?"오류":"エラー",description:i==="ko"?"다시 시도해주세요.":"もう一度お試しください。",variant:"destructive"})}finally{u(!1)}},g=async()=>{try{u(!0),await C4(e),f("rejected"),a({title:i==="ko"?"매칭 거절":"マッチング拒否",description:i==="ko"?"매칭 요청을 거절했습니다.":"マッチングリクエストを拒否しました。"}),o&&o(e,"reject")}catch(x){console.error("Error rejecting match request:",x),a({title:i==="ko"?"오류":"エラー",description:i==="ko"?"다시 시도해주세요.":"もう一度お試しください。",variant:"destructive"})}finally{u(!1)}};return l.jsxs("div",{className:"pasar-card flex items-center gap-3 p-4",children:[l.jsx(rt,{to:`/profile/${t.id}`,children:l.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden border border-gray-100",children:l.jsx("img",{src:t.photo||"/placeholder.svg",alt:t.name,className:"w-full h-full object-cover"})})}),l.jsxs("div",{className:"flex-1",children:[l.jsx(rt,{to:`/profile/${t.id}`,className:"hover:underline",children:l.jsx("h3",{className:"font-medium text-lg",children:t.name})}),l.jsx("p",{className:"text-sm text-muted-foreground",children:i==="ko"?`${s==="sent"?"보낸":"받은"} 요청: ${v}`:`${s==="sent"?"送信":"受信"}リクエスト: ${v}`})]}),s==="received"&&d==="pending"&&l.jsxs("div",{className:"flex gap-2",children:[l.jsx(X,{variant:"outline",onClick:g,disabled:c,className:"border-pink-100 text-pink-500 hover:bg-pink-50 hover:text-pink-600",children:i==="ko"?"거절":"拒否"}),l.jsx(X,{onClick:y,disabled:c,className:"bg-primary hover:bg-primary/90",children:c?l.jsx("span",{className:"h-4 w-4 block rounded-full border-2 border-white border-t-transparent animate-spin"}):i==="ko"?"수락":"承認"})]}),d==="accepted"&&l.jsx(rt,{to:"/chat",children:l.jsx(X,{children:i==="ko"?"채팅하기":"チャット"})}),s==="sent"&&d==="pending"&&l.jsx("span",{className:"text-sm bg-gray-100 px-2 py-1 rounded-full",children:i==="ko"?"대기중":"保留中"}),d==="rejected"&&l.jsx("span",{className:"text-sm text-muted-foreground",children:i==="ko"?"거절됨":"拒否されました"})]})}function $3(){const{t:e,language:t}=ae(),{user:r}=$e(),n=it(),[s,o]=h.useState([]),[i,a]=h.useState([]),[c,u]=h.useState(!0);h.useEffect(()=>{if(!r){n("/login");return}(async()=>{try{u(!0);const[p,v]=await Promise.all([N4(),P4()]);o(p||[]),a(v||[])}catch(p){console.error("Error loading match requests:",p)}finally{u(!1)}})()},[r,n]);const d=(f,p)=>{a(v=>v.filter(y=>y.id!==f))};return l.jsx(Je,{children:l.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[l.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:t==="ko"?"매칭 요청":"マッチングリクエスト"}),l.jsxs(Ip,{defaultValue:"received",className:"w-full",children:[l.jsxs(au,{className:"grid w-full grid-cols-2 mb-6",children:[l.jsxs(qr,{value:"received",children:[t==="ko"?"받은 요청":"受信したリクエスト",i.length>0&&l.jsx("span",{className:"ml-2 bg-primary text-primary-foreground text-xs rounded-full px-2 py-0.5",children:i.length})]}),l.jsx(qr,{value:"sent",children:t==="ko"?"보낸 요청":"送信したリクエスト"})]}),l.jsx(Gr,{value:"received",className:"space-y-4",children:c?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):i.length>0?i.map(f=>l.jsx(Nv,{id:f.id,profile:f.profile,requestedAt:f.requestedAt,type:"received",onAction:d},f.id)):l.jsx("div",{className:"pasar-card text-center p-8",children:l.jsx("p",{className:"text-muted-foreground",children:t==="ko"?"받은 매칭 요청이 없습니다":"受信したマッチングリクエストがありません"})})}),l.jsx(Gr,{value:"sent",className:"space-y-4",children:c?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.length>0?s.map(f=>l.jsx(Nv,{id:f.id,profile:f.profile,requestedAt:f.requestedAt,status:f.status,type:"sent"},f.id)):l.jsx("div",{className:"pasar-card text-center p-8",children:l.jsx("p",{className:"text-muted-foreground",children:t==="ko"?"보낸 매칭 요청이 없습니다":"送信したマッチングリクエストがありません"})})})]})]})})}const F3=async(e,t)=>{try{const{data:r,error:n}=await I.rpc("send_chat_message_rpc",{match_id:e,content:t});if(n)throw n;const s=r;return s.success?s.data:null}catch(r){return console.error("Error sending message:",r),null}},U3=async(e,t=50)=>{try{const{data:r,error:n}=await I.rpc("get_chat_messages_rpc",{match_id:e,message_limit:t});if(n)throw n;const s=r;return s.success&&Array.isArray(s.data)?s.data:[]}catch(r){return console.error("Error fetching messages:",r),[]}},z3=async e=>{try{const{data:t,error:r}=await I.rpc("mark_messages_as_read_rpc",{match_id:e});if(r)throw r;return t.success||!1}catch(t){return console.error("Error marking messages as read:",t),!1}},B3=async e=>{try{const{data:t,error:r}=await I.rpc("generate_random_topic_rpc",{match_id:e});if(r)throw r;const n=t;return n.success?n.data:null}catch(t){return console.error("Error generating random topic:",t),null}},U_=async()=>{try{const{data:e,error:t}=await I.rpc("get_user_chats_rpc");if(t)throw console.error("Error executing get_user_chats_rpc:",t),t;const r=e;return r.success&&Array.isArray(r.data)?r.data:[]}catch(e){return console.error("Error fetching user chats:",e),[{match_id:"1",partner_id:"101",partner_nickname:"Yuna",partner_photo:"/placeholder.svg",last_message:"안녕하세요! 반가워요.",last_message_time:new Date().toISOString(),unread_count:2},{match_id:"2",partner_id:"102",partner_nickname:"Haruki",partner_photo:"/placeholder.svg",last_message:"こんにちは！よろしくお願いします。",last_message_time:new Date(Date.now()-864e5).toISOString(),unread_count:0}]}},W3=(e,t="en")=>{try{const r=new Date(e),n=new Date,s=t==="ko"?F_:t==="ja"?$_:Ra;if(r.toDateString()===n.toDateString())return cd(r,"HH:mm",{locale:s});const o=new Date(n);if(o.setDate(n.getDate()-1),r.toDateString()===o.toDateString())return t==="ko"?"어제":t==="ja"?"昨日":"Yesterday";const i=new Date(n);return i.setDate(n.getDate()-7),r>i?cd(r,t==="ko"?"E요일":t==="ja"?"E曜日":"EEEE",{locale:s}):cd(r,t==="ko"||t==="ja"?"yy.MM.dd":"MM/dd/yy",{locale:s})}catch(r){return console.error("Error formatting date:",r),e}};function H3(){const{t:e,language:t}=ae(),{toast:r}=Se(),[n,s]=h.useState([]),[o,i]=h.useState(!0);h.useEffect(()=>{a();const c=I.channel("public:chat_messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},()=>{a()}).subscribe();return()=>{I.removeChannel(c)}},[]);const a=async()=>{try{i(!0);const c=await U_();s(c)}catch(c){r({title:t==="ko"?"오류 발생":"エラーが発生しました",description:t==="ko"?"채팅 목록을 불러오는데 문제가 발생했습니다.":"チャットリストの読み込み中にエラーが発生しました。",variant:"destructive"}),console.error("Error loading chats:",c)}finally{i(!1)}};return o?l.jsx("div",{className:"flex justify-center items-center py-20",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n.length===0?l.jsxs("div",{className:"pasar-card max-w-lg mx-auto p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-pastel-pink/20 flex items-center justify-center",children:l.jsx("img",{src:"/lovable-uploads/6bdd8a27-cd91-4f69-bda2-2afe0a4a0cdd.png",alt:"Pasar",className:"h-12 w-12"})}),l.jsx("h3",{className:"text-xl font-medium mb-3",children:t==="ko"?"아직 매칭된 채팅이 없습니다":"まだマッチングしたチャットがありません"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:t==="ko"?"매칭이 성사되면 이곳에서 채팅을 시작할 수 있어요!":"マッチングが成立したら、ここでチャットを開始できます！"})]}):l.jsx("div",{className:"space-y-2",children:n.map(c=>l.jsx(rt,{to:`/chat/${c.match_id}`,children:l.jsxs("div",{className:"pasar-card flex items-center p-4 hover:bg-slate-50",children:[l.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden mr-4",children:l.jsx("img",{src:c.partner_photo||"/placeholder.svg",alt:c.partner_nickname,className:"w-full h-full object-cover"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"font-medium truncate",children:c.partner_nickname}),l.jsx("span",{className:"text-xs text-muted-foreground",children:c.last_message_time?W3(c.last_message_time,t):""})]}),l.jsx("p",{className:"text-sm text-muted-foreground truncate",children:c.last_message||(t==="ko"?"새 매치! 대화를 시작해보세요.":"新しいマッチ！会話を始めましょう。")})]}),c.unread_count>0&&l.jsx($f,{className:"ml-2 bg-primary",children:c.unread_count})]})},c.match_id))})}var V3="Toggle",z_=h.forwardRef((e,t)=>{const{pressed:r,defaultPressed:n=!1,onPressedChange:s,...o}=e,[i=!1,a]=qt({prop:r,onChange:s,defaultProp:n});return l.jsx(K.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":e.disabled?"":void 0,...o,ref:t,onClick:L(e.onClick,()=>{e.disabled||a(!i)})})});z_.displayName=V3;var B_=z_;const q3=Jo("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3",sm:"h-9 px-2.5",lg:"h-11 px-5"}},defaultVariants:{variant:"default",size:"default"}}),W_=h.forwardRef(({className:e,variant:t,size:r,...n},s)=>l.jsx(B_,{ref:s,className:H(q3({variant:t,size:r,className:e})),...n}));W_.displayName=B_.displayName;function G3({message:e,isCurrentUser:t,showOriginal:r=!1,isTranslating:n=!1}){$e();const{language:s}=ae(),[o,i]=h.useState(!r),a=e.is_icebreaker,c=u=>{try{return new Date(u).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}};return a?l.jsx("div",{className:"my-4 flex justify-center",children:l.jsx("div",{className:"inline-block px-4 py-2 max-w-[85%] bg-pastel-yellow/20 rounded-lg",children:l.jsx("div",{className:"text-sm text-center",children:e.content})})}):l.jsx("div",{className:`my-2 flex ${t?"justify-end":"justify-start"}`,children:l.jsxs("div",{className:`px-4 py-2 rounded-lg max-w-[80%] ${t?"bg-pastel-green text-slate-800":"bg-pastel-blue/20 text-slate-800"}`,children:[l.jsx("div",{className:"text-sm",children:n&&e.translated_content&&o?l.jsxs("div",{children:[l.jsx("p",{children:e.translated_content}),l.jsx("button",{className:"text-xs text-primary underline mt-1",onClick:()=>i(!1),children:s==="ko"?"원문 보기":"原文を表示"})]}):l.jsxs("div",{children:[l.jsx("p",{children:e.content}),n&&e.translated_content&&l.jsx("button",{className:"text-xs text-primary underline mt-1",onClick:()=>i(!0),children:s==="ko"?"번역 보기":"翻訳を表示"})]})}),l.jsx("div",{className:"text-right",children:l.jsx("span",{className:"text-xs opacity-70",children:c(e.created_at)})})]})})}function K3({matchId:e,partnerName:t,partnerPhoto:r,onBack:n}){const{t:s,language:o}=ae(),{user:i}=$e(),{toast:a}=Se(),[c,u]=h.useState([]),[d,f]=h.useState(""),[p,v]=h.useState(!1),[y,g]=h.useState(!1),[x,w]=h.useState(null),[m,b]=h.useState(!0),_=h.useRef(null);h.useEffect(()=>{(async()=>{try{b(!0);const T=await U3(e);u(T),await z3(e)}catch(T){console.error("Error loading initial messages:",T),a({title:s("chat.error_loading_messages"),description:s("chat.try_again"),variant:"destructive"})}finally{b(!1)}})()},[e,s,a]),h.useEffect(()=>{k()},[c]);const k=()=>{var N;(N=_.current)==null||N.scrollIntoView({behavior:"smooth"})},j=async()=>{if(d.trim()!=="")try{const N=await F3(e,d);N?(u(T=>[...T,N]),f(""),k()):a({title:s("chat.error_sending_message"),description:s("chat.try_again"),variant:"destructive"})}catch(N){console.error("Error sending message:",N),a({title:s("chat.error_sending_message"),description:s("chat.try_again"),variant:"destructive"})}},E=N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),j())},S=async()=>{try{const N=await B3(e);N?w(N):a({title:s("chat.error_getting_topic"),description:s("chat.try_again"),variant:"destructive"})}catch(N){console.error("Error generating topic:",N),a({title:s("chat.error_getting_topic"),description:s("chat.try_again"),variant:"destructive"})}};return l.jsxs("div",{className:"flex flex-col h-full",children:[l.jsxs("div",{className:"border-b p-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center",children:[n&&l.jsx(X,{variant:"ghost",size:"icon",onClick:n,className:"mr-2",children:l.jsx(jx,{className:"h-5 w-5"})}),l.jsxs("div",{className:"flex items-center",children:[r&&l.jsx("div",{className:"h-8 w-8 rounded-full overflow-hidden mr-2",children:l.jsx("img",{src:r||"/placeholder.svg",alt:t||"Chat partner",className:"h-full w-full object-cover"})}),l.jsx("h2",{className:"text-lg font-semibold",children:t||s("chat.chat_with_user")})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(W_,{"aria-label":"Translate",pressed:p,onPressedChange:()=>v(!p),children:l.jsx(Ex,{className:"h-5 w-5"})}),l.jsx(X,{variant:"outline",size:"icon",onClick:S,children:l.jsx(fN,{className:"h-5 w-5"})})]})]}),x&&l.jsx("div",{className:"mt-2 p-3 bg-secondary rounded-md",children:l.jsxs("p",{className:"text-sm text-muted-foreground",children:[s("chat.suggested_topic"),": ",x]})})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[m?l.jsx("div",{className:"flex justify-center items-center h-full",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):c.map(N=>l.jsx(G3,{message:N,isCurrentUser:N.sender_id===(i==null?void 0:i.id),showOriginal:y,isTranslating:p},N.id)),l.jsx("div",{ref:_})]}),l.jsx("div",{className:"border-t p-4",children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx(X,{variant:"secondary",size:"icon",onClick:()=>g(!y),children:l.jsx(nN,{className:"h-5 w-5"})}),l.jsx("textarea",{value:d,onChange:N=>f(N.target.value),onKeyDown:E,placeholder:s("chat.type_message"),className:"flex-1 p-3 rounded-md border text-sm focus:outline-none focus:ring-1 focus:ring-primary resize-none scrollbar-hide"}),l.jsx(X,{onClick:j,children:s("chat.send")})]})})]})}const H_=async()=>{try{const{data:e,error:t}=await I.functions.invoke("get_user_verification_status");if(t)throw console.error("Error checking verification status:",t),t;return e}catch(e){return console.error("Error in checkVerificationStatus:",e),{is_verified:!1,verification_status:"error"}}},Y3=async()=>{try{const e=await H_();return{canAccess:e.is_verified,verificationStatus:e.verification_status}}catch(e){return console.error("Error checking chat access:",e),{canAccess:!1,verificationStatus:"error"}}};function Pv(){const{id:e}=ip(),{t,language:r}=ae(),{user:n}=$e(),s=it(),{toast:o}=Se(),[i,a]=h.useState(null),[c,u]=h.useState(!0),[d,f]=h.useState(!0),[p,v]=h.useState(null);h.useEffect(()=>{if(!n){s("/login");return}(async()=>{try{const{canAccess:x,verificationStatus:w}=await Y3();f(x),v(w),x&&e?y(e):u(!1)}catch(x){console.error("Error checking verification status:",x),o({title:r==="ko"?"오류 발생":"エラーが発生しました",description:r==="ko"?"인증 상태를 확인하는 중 오류가 발생했습니다.":"認証状態の確認中にエラーが発生しました。",variant:"destructive"}),u(!1)}})()},[e,n,s,r,o]);const y=async g=>{try{u(!0);const w=(await U_()).find(m=>m.match_id===g);w?a(w):s("/chat")}catch(x){console.error("Error loading chat details:",x)}finally{u(!1)}};return c?l.jsx(Je,{children:l.jsx("div",{className:"flex justify-center items-center h-[50vh]",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):d?l.jsx(Je,{children:l.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-center my-8",children:r==="ko"?"채팅":"チャット"}),e&&i?l.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden h-[70vh]",children:l.jsx(K3,{matchId:e,partnerName:i.partner_nickname,partnerPhoto:i.partner_photo,onBack:()=>s("/chat")})}):l.jsx(H3,{})]})}):l.jsx(Je,{children:l.jsxs("div",{className:"max-w-3xl mx-auto px-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-center my-8",children:r==="ko"?"채팅":"チャット"}),l.jsxs("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-pastel-pink/20 flex items-center justify-center",children:l.jsx(Px,{className:"h-8 w-8 text-primary"})}),l.jsx("h3",{className:"text-xl font-medium mb-3",children:r==="ko"?"신분증 인증이 필요합니다":"身分証明書の認証が必要です"}),l.jsx("p",{className:"text-muted-foreground mb-6",children:r==="ko"?p==="submitted"||p==="in_review"?"신분증 인증이 검토 중입니다. 승인 후 채팅이 가능합니다. 잠시만 기다려 주세요.":p==="rejected"?"신분증 인증이 거부되었습니다. 다시 제출해 주세요.":"안전한 매칭을 위해 신분증 인증이 필요합니다. 인증 후 채팅이 가능합니다.":p==="submitted"||p==="in_review"?"身分証明書の確認が審査中です。承認までしばらくお待ちください。承認後にチャットが可能になります。":p==="rejected"?"身分証明書の認証が拒否されました。再度提出してください。":"安全なマッチングのために身分証明書の認証が必要です。認証後にチャットが可能になります。"}),l.jsx(X,{onClick:()=>s("/verify"),className:"pasar-btn",children:r==="ko"?"신분증 인증하기":"身分証明書を認証する"})]})]})})}function Q3({notification:e,onRead:t}){const r=it(),[n,s]=h.useState(e.is_read),o=async()=>{n||(s(!0),await p4(e.id),t&&t(e.id));const c=g4(e);r(c)},i=()=>{switch(e.type){case"match_accepted":return l.jsx(Dc,{className:"h-5 w-5 text-pastel-pink"});case"match_rejected":return l.jsx(Ds,{className:"h-5 w-5 text-pastel-yellow"});case"new_message":return l.jsx(Nx,{className:"h-5 w-5 text-pastel-blue"});case"verify_passed":return l.jsx(cN,{className:"h-5 w-5 text-pastel-green"});case"verify_rejected":return l.jsx(lN,{className:"h-5 w-5 text-pastel-lavender"});default:return null}},a=n?"bg-white":"bg-pastel-mint/10";return l.jsx("div",{className:`p-4 border-b last:border-b-0 cursor-pointer ${a} hover:bg-gray-50 transition-colors`,onClick:o,children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"mt-1",children:i()}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsx("h3",{className:`${n?"font-normal":"font-medium"}`,children:e.title}),l.jsx("span",{className:"text-xs text-muted-foreground",children:x_(e.created_at)})]}),l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e.body})]})]})})}function X3(){const{t:e}=ae(),{toast:t}=Se(),{user:r}=$e(),n=it(),[s,o]=h.useState([]),[i,a]=h.useState(!0);h.useEffect(()=>{const v=async()=>{if(!r){n("/login");return}a(!0);try{const y=await w_();o(y)}catch(y){console.error("Error fetching notifications:",y),t({title:e("common.error"),description:e("notifications.error.fetch"),variant:"destructive"})}finally{a(!1)}};if(v(),r){const y=I.channel("notification_updates").on("postgres_changes",{event:"*",schema:"public",table:"notifications",filter:`user_id=eq.${r.id}`},()=>{v()}).subscribe();return()=>{I.removeChannel(y)}}},[e,r,n,t]);const c=async()=>{try{await m4(),o(v=>v.map(y=>({...y,is_read:!0}))),t({title:e("notifications.marked_all_read"),description:e("notifications.marked_all_read_description")})}catch(v){console.error("Error marking all notifications as read:",v),t({title:e("common.error"),description:e("notifications.error.mark_read"),variant:"destructive"})}},u=v=>{o(y=>y.map(g=>g.id===v?{...g,is_read:!0}:g))},d=v=>{const y=new Date(v),x=Math.abs(new Date().getTime()-y.getTime()),w=Math.floor(x/(1e3*60*60*24));return w===0?e("notification.today"):w===1?e("notification.yesterday"):y.toLocaleDateString(e("language")==="ko"?"ko-KR":"ja-JP",{month:"short",day:"numeric"})},f=s.reduce((v,y)=>{const g=d(y.created_at);return v[g]||(v[g]=[]),v[g].push(y),v},{}),p=s.some(v=>!v.is_read);return l.jsx(Je,{children:l.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-8 md:py-12",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold",children:e("notification.title")}),p&&l.jsx(X,{variant:"outline",size:"sm",onClick:c,className:"text-xs",children:e("notification.mark_all_read")})]}),i?l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.length>0?l.jsx("div",{children:Object.entries(f).map(([v,y])=>l.jsxs("div",{className:"mb-6",children:[l.jsx("h2",{className:"text-sm font-medium text-muted-foreground mb-2 px-1",children:v}),l.jsx("div",{className:"bg-white rounded-xl border overflow-hidden",children:y.map(g=>l.jsx(Q3,{notification:g,onRead:u},g.id))})]},v))}):l.jsx("div",{className:"text-center py-12 bg-white rounded-lg shadow-sm",children:l.jsx("p",{className:"text-muted-foreground",children:e("notification.empty")})})]})})}const xt=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:H("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));xt.displayName="Card";const Ut=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:H("flex flex-col space-y-1.5 p-6",e),...t}));Ut.displayName="CardHeader";const zt=h.forwardRef(({className:e,...t},r)=>l.jsx("h3",{ref:r,className:H("text-2xl font-semibold leading-none tracking-tight",e),...t}));zt.displayName="CardTitle";const ho=h.forwardRef(({className:e,...t},r)=>l.jsx("p",{ref:r,className:H("text-sm text-muted-foreground",e),...t}));ho.displayName="CardDescription";const bt=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:H("p-6 pt-0",e),...t}));bt.displayName="CardContent";const J3=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:H("flex items-center p-6 pt-0",e),...t}));J3.displayName="CardFooter";var Z3="Label",V_=h.forwardRef((e,t)=>l.jsx(K.label,{...e,ref:t,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));V_.displayName=Z3;var q_=V_;const eF=Jo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),kn=h.forwardRef(({className:e,...t},r)=>l.jsx(q_,{ref:r,className:H(eF(),e),...t}));kn.displayName=q_.displayName;var Lp="Switch",[tF,Q5]=Yt(Lp),[rF,nF]=tF(Lp),G_=h.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:i,disabled:a,value:c="on",onCheckedChange:u,form:d,...f}=e,[p,v]=h.useState(null),y=se(t,b=>v(b)),g=h.useRef(!1),x=p?d||!!p.closest("form"):!0,[w=!1,m]=qt({prop:s,defaultProp:o,onChange:u});return l.jsxs(rF,{scope:r,checked:w,disabled:a,children:[l.jsx(K.button,{type:"button",role:"switch","aria-checked":w,"aria-required":i,"data-state":Q_(w),"data-disabled":a?"":void 0,disabled:a,value:c,...f,ref:y,onClick:L(e.onClick,b=>{m(_=>!_),x&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})}),x&&l.jsx(sF,{control:p,bubbles:!g.current,name:n,value:c,checked:w,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});G_.displayName=Lp;var K_="SwitchThumb",Y_=h.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,s=nF(K_,r);return l.jsx(K.span,{"data-state":Q_(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:t})});Y_.displayName=K_;var sF=e=>{const{control:t,checked:r,bubbles:n=!0,...s}=e,o=h.useRef(null),i=Ep(r),a=Yh(t);return h.useEffect(()=>{const c=o.current,u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(i!==r&&f){const p=new Event("click",{bubbles:n});f.call(c,r),c.dispatchEvent(p)}},[i,r,n]),l.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Q_(e){return e?"checked":"unchecked"}var X_=G_,oF=Y_;const Pl=h.forwardRef(({className:e,...t},r)=>l.jsx(X_,{className:H("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:l.jsx(oF,{className:H("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Pl.displayName=X_.displayName;function iF(){const{t:e,language:t,setLanguage:r}=ae(),{user:n}=$e(),s=it(),{toast:o}=Se(),[i,a]=h.useState({newMatches:!0,messages:!0,verificationStatus:!0}),[c,u]=h.useState(!1),[d,f]=h.useState(!0),[p,v]=h.useState({email:"",name:""}),[y,g]=h.useState(!1);h.useEffect(()=>{(async()=>{var b,_;if(!n){f(!1);return}try{f(!0);const{data:k,error:j}=await I.from("users").select("nickname, gender, birthdate, city").eq("id",n.id).single();j&&j.code!=="PGRST116"&&console.error("유저 프로필 데이터 가져오기 오류:",j),v({email:n.email||"",name:(k==null?void 0:k.nickname)||((b=n.user_metadata)==null?void 0:b.full_name)||((_=n.email)==null?void 0:_.split("@")[0])||""})}catch(k){console.error("사용자 데이터 로드 중 오류:",k),o({title:e("error.generic"),description:e("error.try_again"),variant:"destructive"})}finally{f(!1)}})()},[n,e,o]);const x=async()=>{if(n){g(!0);try{const{error:m}=await I.from("users").update({nickname:p.name}).eq("id",n.id);if(m)throw m;o({title:t==="ko"?"변경사항이 저장되었습니다":"変更が保存されました",description:t==="ko"?"프로필이 업데이트 되었습니다":"プロフィールが更新されました"})}catch(m){console.error("변경사항 저장 중 오류:",m),o({title:e("error.generic"),description:e("error.try_again"),variant:"destructive"})}finally{g(!1)}}},w=()=>{u(!0),setTimeout(()=>{s("/login")},1e3)};return l.jsx(Je,{children:l.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 py-8 md:py-12",children:[l.jsx("h1",{className:"text-3xl font-bold mb-8",children:e("settings.title")}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs(xt,{children:[l.jsxs(Ut,{children:[l.jsx(zt,{children:e("settings.account")}),l.jsx(ho,{children:t==="ko"?"계정 정보를 관리하세요":"アカウント情報を管理する"})]}),l.jsx(bt,{className:"space-y-4",children:d?l.jsx("div",{className:"flex justify-center py-4",children:l.jsx(Ot,{className:"h-6 w-6 animate-spin text-primary"})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(kn,{htmlFor:"email",children:e("auth.email")}),l.jsx(Yr,{id:"email",value:p.email,disabled:!0,className:"pasar-input"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(kn,{htmlFor:"name",children:e("onboarding.basics.name")}),l.jsx(Yr,{id:"name",value:p.name,onChange:m=>v({...p,name:m.target.value}),className:"pasar-input"})]}),l.jsx(X,{className:"pasar-btn",onClick:x,disabled:y,children:y?l.jsxs("span",{className:"flex items-center",children:[l.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}),t==="ko"?"저장 중...":"保存中..."]}):t==="ko"?"변경사항 저장":"変更を保存"})]})})]}),l.jsxs(xt,{children:[l.jsxs(Ut,{children:[l.jsx(zt,{children:e("settings.language")}),l.jsx(ho,{children:t==="ko"?"앱 언어를 선택하세요":"アプリの言語を選択してください"})]}),l.jsx(bt,{children:l.jsxs(bs,{defaultValue:t,onValueChange:m=>r(m),children:[l.jsx(zn,{className:"pasar-input",children:l.jsx(_s,{})}),l.jsxs(Bn,{children:[l.jsx(we,{value:"ko",children:"한국어"}),l.jsx(we,{value:"ja",children:"日本語"})]})]})})]}),l.jsxs(xt,{children:[l.jsxs(Ut,{children:[l.jsx(zt,{children:e("settings.notifications")}),l.jsx(ho,{children:t==="ko"?"알림 설정을 관리하세요":"通知設定を管理する"})]}),l.jsxs(bt,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(kn,{htmlFor:"new-matches",children:t==="ko"?"새로운 매치":"新しいマッチ"}),l.jsx(Pl,{id:"new-matches",checked:i.newMatches,onCheckedChange:m=>a({...i,newMatches:m})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(kn,{htmlFor:"messages",children:t==="ko"?"메시지":"メッセージ"}),l.jsx(Pl,{id:"messages",checked:i.messages,onCheckedChange:m=>a({...i,messages:m})})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(kn,{htmlFor:"verification-status",children:t==="ko"?"인증 상태 업데이트":"認証状況のアップデート"}),l.jsx(Pl,{id:"verification-status",checked:i.verificationStatus,onCheckedChange:m=>a({...i,verificationStatus:m})})]})]})]}),l.jsxs(xt,{children:[l.jsxs(Ut,{children:[l.jsx(zt,{children:t==="ko"?"외부 연결":"外部接続"}),l.jsx(ho,{children:t==="ko"?"외부 서비스 연결을 관리하세요":"外部サービスの接続を管理する"})]}),l.jsxs(bt,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:t==="ko"?"카카오톡 연결":"KakaoTalk連携"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t==="ko"?"카카오톡으로 알림을 받으세요":"KakaoTalkで通知を受け取る"})]}),l.jsx(X,{variant:"outline",className:"rounded-full",children:t==="ko"?"연결하기":"連携する"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium",children:t==="ko"?"라인 연결":"LINE連携"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:t==="ko"?"라인으로 알림을 받으세요":"LINEで通知を受け取る"})]}),l.jsx(X,{variant:"outline",className:"rounded-full",children:t==="ko"?"연결하기":"連携する"})]})]})]}),l.jsxs(xt,{children:[l.jsx(Ut,{children:l.jsx(zt,{children:t==="ko"?"계정 관리":"アカウント管理"})}),l.jsx(bt,{className:"space-y-4",children:l.jsx(X,{variant:"destructive",className:"w-full rounded-full",onClick:w,disabled:c,children:c?l.jsxs("span",{className:"flex items-center justify-center",children:[l.jsx("span",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}),t==="ko"?"로그아웃 중...":"ログアウト中..."]}):e("settings.logout")})})]})]})]})})}const aF=()=>{const e=si(),{t}=ae();return h.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),l.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100",children:l.jsxs("div",{className:"text-center",children:[l.jsx("h1",{className:"text-6xl font-bold text-primary mb-4",children:"404"}),l.jsx("p",{className:"text-xl text-gray-600 mb-6",children:t("error.page_not_found")}),l.jsx(rt,{to:"/home",className:"inline-flex items-center justify-center px-6 py-3 border border-transparent rounded-md shadow-sm text-base font-medium text-white bg-primary hover:bg-primary/90",children:t("nav.back_to_home")}),l.jsx("div",{className:"mt-8",children:l.jsx(jp,{variant:"text"})})]})})},lF=()=>{const e=it(),[t,r]=h.useState(!0),{user:n,loading:s}=$e(),{setLanguage:o}=ae(),i=(a,c)=>{console.log(`[Index Debug] ${a}`,c||"")};return h.useEffect(()=>{(async()=>{if(i("Index 페이지 리디렉션 로직 시작",{pathname:window.location.pathname,user:!!n,authLoading:s}),s){i("인증 로딩 중, 리디렉션 대기");return}const c=window.location.href,u=c.includes("access_token=")||c.includes("code=")||c.includes("error=")||c.includes("provider=");if(i("URL 인증 파라미터 확인",{hasAuthParams:u}),u)i("인증 파라미터 있음, Supabase Auth가 처리"),r(!1);else try{if(localStorage.getItem("user_selected_language")){const d=localStorage.getItem("user_selected_language");i("저장된 언어 사용",{savedLang:d})}else{i("사용자 선택 언어 없음, 언어 감지 시작");try{const d=await A0();i("언어 감지 완료",{detectedLang:d}),localStorage.setItem("user_selected_language",d),o(d)}catch(d){i("언어 감지 오류",d),localStorage.setItem("user_selected_language","ko"),o("ko")}}window.location.pathname==="/"?(i("루트 경로에서 리디렉션 시작",{user:!!n}),n?(i("사용자 로그인됨, 홈으로 리디렉션"),e("/home")):(i("사용자 로그인 안됨, 로그인 페이지로 리디렉션"),e("/login"))):i("루트 경로가 아님, 리디렉션 없음",{pathname:window.location.pathname})}catch(d){i("리디렉션 오류",d),window.location.pathname==="/"&&e("/login")}finally{r(!1)}})()},[e,n,s,o]),l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white via-pastel-pink/10 to-pastel-lavender/20",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})},cF=({photos:e,isPendingApproval:t=()=>!1,onAddPhoto:r,onRemovePhoto:n,onUpdatePhoto:s,isUploading:o=!1,editable:i=!0,maxPhotos:a=9})=>{const{language:c}=ae(),u=c==="ko"?"검토중입니다":"審査中です",d=c==="ko"?"사진 추가":"写真追加",f=c==="ko"?"사진을 삭제하시겠습니까?":"写真を削除しますか？",p=v=>{window.confirm(f)&&n(v)};return l.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.map((v,y)=>l.jsxs("div",{className:"relative aspect-square rounded-lg overflow-hidden",children:[l.jsx("img",{src:v,alt:`Profile ${y+1}`,className:"w-full h-full object-cover"}),t(v)&&l.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center text-white text-sm font-medium",children:u}),i&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>s(y),className:"absolute bottom-2 right-10 p-1 bg-white/80 rounded-full text-gray-700 hover:bg-white",disabled:o,children:l.jsx(zh,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>p(y),className:"absolute bottom-2 right-2 p-1 bg-white/80 rounded-full text-gray-700 hover:bg-white",disabled:o,children:l.jsx(Ds,{className:"h-4 w-4"})})]})]},y)),i&&e.length<a&&l.jsxs("button",{onClick:r,className:"aspect-square rounded-lg border-2 border-dashed border-gray-300 flex flex-col items-center justify-center hover:border-gray-400 transition-colors",disabled:o,children:[l.jsx(pN,{className:"h-6 w-6 text-gray-400"}),l.jsx("span",{className:"mt-2 text-sm text-gray-500",children:d})]}),o&&l.jsx("div",{className:"fixed inset-0 bg-black/30 flex items-center justify-center z-50",children:l.jsxs("div",{className:"bg-white p-4 rounded-lg",children:[l.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-gray-900 mx-auto"}),l.jsx("p",{className:"mt-2 text-sm",children:c==="ko"?"업로드 중...":"アップロード中..."})]})})]})};function uF({nickname:e,birthdate:t,gender:r,city:n,countryCode:s,nationality:o}){const{language:i}=ae(),c=t?(f=>{if(!f)return null;const p=new Date(f),v=new Date;let y=v.getFullYear()-p.getFullYear();const g=v.getMonth()-p.getMonth();return(g<0||g===0&&v.getDate()<p.getDate())&&y--,y})(t):null,u=f=>f?i==="ko"?f==="male"?"남성":f==="female"?"여성":f:f==="male"?"男性":f==="female"?"女性":f:null,d=f=>f?f==="ko"?i==="ko"?"한국":"韓国":f==="ja"?i==="ko"?"일본":"日本":f:null;return l.jsxs(xt,{className:"mb-6",children:[l.jsx(Ut,{children:l.jsx(zt,{className:"text-xl font-semibold",children:i==="ko"?"기본 정보":"基本情報"})}),l.jsxs(bt,{className:"grid gap-y-4 sm:grid-cols-2",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:i==="ko"?"닉네임":"ニックネーム"}),l.jsx("p",{children:e||"-"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:i==="ko"?"나이":"年齢"}),l.jsx("p",{children:c?`${c}${i==="ko"?"세":"歳"}`:"-"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:i==="ko"?"성별":"性別"}),l.jsx("p",{children:u(r)||"-"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:i==="ko"?"국적":"国籍"}),l.jsx("p",{children:d(o)||"-"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:i==="ko"?"도시":"都市"}),l.jsx("p",{children:n||"-"})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-muted-foreground",children:i==="ko"?"국가 코드":"国コード"}),l.jsx("p",{children:s?s.toUpperCase():"-"})]})]})]})}function dF({initialBio:e,userId:t,isPendingApproval:r=!1}){const{toast:n}=Se(),{language:s}=ae(),[o,i]=h.useState(e||""),[a,c]=h.useState(!1),[u,d]=h.useState(!1),[f,p]=h.useState(r),v=async()=>{if(t){d(!0);try{const{error:y}=await I.from("users").update({bio:o}).eq("id",t);if(y)throw y;const{error:g}=await I.from("verification_requests").insert({user_id:t,type:"bio_update",status:"pending"});g&&console.error("Failed to create verification request:",g),n({title:s==="ko"?"저장 완료":"保存完了",description:s==="ko"?"프로필이 저장되었습니다. 관리자 승인 후 공개됩니다.":"プロフィールが保存されました。管理者の承認後に公開されます。"}),p(!0),c(!1)}catch(y){console.error("Error saving bio:",y),n({title:s==="ko"?"오류 발생":"エラーが発生しました",description:s==="ko"?"저장 중 문제가 발생했습니다":"保存中に問題が発生しました",variant:"destructive"})}finally{d(!1)}}};return l.jsxs(xt,{className:"mb-6",children:[l.jsxs(Ut,{className:"flex flex-row items-center justify-between pb-2",children:[l.jsx(zt,{className:"text-xl font-semibold",children:s==="ko"?"자기소개":"自己紹介"}),l.jsxs(X,{variant:"ghost",size:"sm",onClick:()=>c(!a),disabled:u,children:[l.jsx(hN,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:s==="ko"?"수정":"編集"})]})]}),l.jsx(bt,{children:a?l.jsxs("div",{className:"space-y-4",children:[l.jsx(Ap,{value:o,onChange:y=>i(y.target.value),placeholder:s==="ko"?"자기소개를 작성해주세요":"自己紹介を書いてください",className:"min-h-[120px]"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(X,{variant:"outline",onClick:()=>{i(e||""),c(!1)},disabled:u,children:s==="ko"?"취소":"キャンセル"}),l.jsx(X,{onClick:v,disabled:u,children:u?l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}),s==="ko"?"저장 중...":"保存中..."]}):l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ms,{className:"mr-2 h-4 w-4"}),s==="ko"?"저장":"保存"]})})]})]}):l.jsxs("div",{children:[f&&l.jsx("div",{className:"mb-2 text-sm px-3 py-1 bg-yellow-50 text-yellow-700 rounded-md inline-block",children:s==="ko"?"검토 중입니다":"審査中です"}),l.jsx("p",{className:"text-muted-foreground whitespace-pre-wrap",children:o||(s==="ko"?"자기소개가 없습니다":"自己紹介がありません")})]})})]})}var $p="Dialog",[J_,Z_]=Yt($p),[fF,br]=J_($p),ek=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=h.useRef(null),c=h.useRef(null),[u=!1,d]=qt({prop:n,defaultProp:s,onChange:o});return l.jsx(fF,{scope:t,triggerRef:a,contentRef:c,contentId:nr(),titleId:nr(),descriptionId:nr(),open:u,onOpenChange:d,onOpenToggle:h.useCallback(()=>d(f=>!f),[d]),modal:i,children:r})};ek.displayName=$p;var tk="DialogTrigger",rk=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=br(tk,r),o=se(t,s.triggerRef);return l.jsx(K.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":zp(s.open),...n,ref:o,onClick:L(e.onClick,s.onOpenToggle)})});rk.displayName=tk;var Fp="DialogPortal",[hF,nk]=J_(Fp,{forceMount:void 0}),sk=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:s}=e,o=br(Fp,t);return l.jsx(hF,{scope:t,forceMount:r,children:h.Children.map(n,i=>l.jsx(Qt,{present:r||o.open,children:l.jsx(ba,{asChild:!0,container:s,children:i})}))})};sk.displayName=Fp;var fc="DialogOverlay",ok=h.forwardRef((e,t)=>{const r=nk(fc,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=br(fc,e.__scopeDialog);return o.modal?l.jsx(Qt,{present:n||o.open,children:l.jsx(pF,{...s,ref:t})}):null});ok.displayName=fc;var pF=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=br(fc,r);return l.jsx(tu,{as:qn,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(K.div,{"data-state":zp(s.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Ts="DialogContent",ik=h.forwardRef((e,t)=>{const r=nk(Ts,e.__scopeDialog),{forceMount:n=r.forceMount,...s}=e,o=br(Ts,e.__scopeDialog);return l.jsx(Qt,{present:n||o.open,children:o.modal?l.jsx(mF,{...s,ref:t}):l.jsx(gF,{...s,ref:t})})});ik.displayName=Ts;var mF=h.forwardRef((e,t)=>{const r=br(Ts,e.__scopeDialog),n=h.useRef(null),s=se(t,r.contentRef,n);return h.useEffect(()=>{const o=n.current;if(o)return pp(o)},[]),l.jsx(ak,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:L(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=r.triggerRef.current)==null||i.focus()}),onPointerDownOutside:L(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:L(e.onFocusOutside,o=>o.preventDefault())})}),gF=h.forwardRef((e,t)=>{const r=br(Ts,e.__scopeDialog),n=h.useRef(!1),s=h.useRef(!1);return l.jsx(ak,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(n.current||(a=r.triggerRef.current)==null||a.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=r.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),ak=h.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=br(Ts,r),c=h.useRef(null),u=se(t,c);return hp(),l.jsxs(l.Fragment,{children:[l.jsx(Xc,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:l.jsx(Xo,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":zp(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(yF,{titleId:a.titleId}),l.jsx(xF,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Up="DialogTitle",lk=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=br(Up,r);return l.jsx(K.h2,{id:s.titleId,...n,ref:t})});lk.displayName=Up;var ck="DialogDescription",uk=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=br(ck,r);return l.jsx(K.p,{id:s.descriptionId,...n,ref:t})});uk.displayName=ck;var dk="DialogClose",fk=h.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,s=br(dk,r);return l.jsx(K.button,{type:"button",...n,ref:t,onClick:L(e.onClick,()=>s.onOpenChange(!1))})});fk.displayName=dk;function zp(e){return e?"open":"closed"}var hk="DialogTitleWarning",[vF,pk]=vC(hk,{contentName:Ts,titleName:Up,docsSlug:"dialog"}),yF=({titleId:e})=>{const t=pk(hk),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return h.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},wF="DialogDescriptionWarning",xF=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pk(wF).contentName}}.`;return h.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},bF=ek,_F=rk,kF=sk,jF=ok,SF=ik,EF=lk,CF=uk,mk=fk,gk="AlertDialog",[NF,X5]=Yt(gk,[Z_]),sn=Z_(),vk=e=>{const{__scopeAlertDialog:t,...r}=e,n=sn(t);return l.jsx(bF,{...n,...r,modal:!0})};vk.displayName=gk;var PF="AlertDialogTrigger",TF=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=sn(r);return l.jsx(_F,{...s,...n,ref:t})});TF.displayName=PF;var RF="AlertDialogPortal",yk=e=>{const{__scopeAlertDialog:t,...r}=e,n=sn(t);return l.jsx(kF,{...n,...r})};yk.displayName=RF;var AF="AlertDialogOverlay",wk=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=sn(r);return l.jsx(jF,{...s,...n,ref:t})});wk.displayName=AF;var So="AlertDialogContent",[OF,MF]=NF(So),xk=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...s}=e,o=sn(r),i=h.useRef(null),a=se(t,i),c=h.useRef(null);return l.jsx(vF,{contentName:So,titleName:bk,docsSlug:"alert-dialog",children:l.jsx(OF,{scope:r,cancelRef:c,children:l.jsxs(SF,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:L(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=c.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[l.jsx(Dh,{children:n}),l.jsx(IF,{contentRef:i})]})})})});xk.displayName=So;var bk="AlertDialogTitle",_k=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=sn(r);return l.jsx(EF,{...s,...n,ref:t})});_k.displayName=bk;var kk="AlertDialogDescription",jk=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=sn(r);return l.jsx(CF,{...s,...n,ref:t})});jk.displayName=kk;var DF="AlertDialogAction",Sk=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,s=sn(r);return l.jsx(mk,{...s,...n,ref:t})});Sk.displayName=DF;var Ek="AlertDialogCancel",Ck=h.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:s}=MF(Ek,r),o=sn(r),i=se(t,s);return l.jsx(mk,{...o,...n,ref:i})});Ck.displayName=Ek;var IF=({contentRef:e})=>{const t=`\`${So}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${So}\` by passing a \`${kk}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${So}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return h.useEffect(()=>{var n;document.getElementById((n=e.current)==null?void 0:n.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},LF=vk,$F=yk,Nk=wk,Pk=xk,Tk=Sk,Rk=Ck,Ak=_k,Ok=jk;const FF=LF,UF=$F,Mk=h.forwardRef(({className:e,...t},r)=>l.jsx(Nk,{className:H("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));Mk.displayName=Nk.displayName;const Dk=h.forwardRef(({className:e,...t},r)=>l.jsxs(UF,{children:[l.jsx(Mk,{}),l.jsx(Pk,{ref:r,className:H("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));Dk.displayName=Pk.displayName;const Ik=({className:e,...t})=>l.jsx("div",{className:H("flex flex-col space-y-2 text-center sm:text-left",e),...t});Ik.displayName="AlertDialogHeader";const Lk=({className:e,...t})=>l.jsx("div",{className:H("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Lk.displayName="AlertDialogFooter";const $k=h.forwardRef(({className:e,...t},r)=>l.jsx(Ak,{ref:r,className:H("text-lg font-semibold",e),...t}));$k.displayName=Ak.displayName;const Fk=h.forwardRef(({className:e,...t},r)=>l.jsx(Ok,{ref:r,className:H("text-sm text-muted-foreground",e),...t}));Fk.displayName=Ok.displayName;const Uk=h.forwardRef(({className:e,...t},r)=>l.jsx(Tk,{ref:r,className:H(fp(),e),...t}));Uk.displayName=Tk.displayName;const zk=h.forwardRef(({className:e,...t},r)=>l.jsx(Rk,{ref:r,className:H(fp({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));zk.displayName=Rk.displayName;function zF(){const{user:e,signOut:t}=$e(),{toast:r}=Se(),{language:n}=ae(),s=it(),[o,i]=h.useState(!1),[a,c]=h.useState(!1),[u,d]=h.useState(!1),f=async()=>{i(!0);try{await t(),s("/login"),r({title:n==="ko"?"로그아웃 성공":"ログアウト成功",description:n==="ko"?"안전하게 로그아웃되었습니다":"安全にログアウトされました"})}catch(v){console.error("Logout error:",v),r({title:n==="ko"?"오류 발생":"エラーが発生しました",description:n==="ko"?"로그아웃 중 문제가 발생했습니다":"ログアウト中に問題が発生しました",variant:"destructive"})}finally{i(!1)}},p=async()=>{var v;if(e){c(!0);try{const{data:y,error:g}=await I.functions.invoke("delete-user-account",{headers:{Authorization:`Bearer ${(v=(await I.auth.getSession()).data.session)==null?void 0:v.access_token}`}});if(g)throw console.error("Delete account error:",g),new Error(g.message||"Failed to delete account");if(!y.success)throw new Error(y.error||"Failed to delete account");await t(),r({title:n==="ko"?"계정 삭제 완료":"アカウント削除完了",description:n==="ko"?"계정이 성공적으로 삭제되었습니다":"アカウントが正常に削除されました"}),s("/login",{replace:!0})}catch(y){console.error("Delete account error:",y),r({title:n==="ko"?"오류 발생":"エラーが発生しました",description:n==="ko"?`계정 삭제 중 문제가 발생했습니다: ${y instanceof Error?y.message:"알 수 없는 오류"}`:`アカウント削除中に問題が発生しました: ${y instanceof Error?y.message:"不明なエラー"}`,variant:"destructive"})}finally{c(!1),d(!1)}}};return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-col space-y-4",children:[l.jsxs(X,{variant:"outline",onClick:f,disabled:o,className:"flex justify-start w-full",children:[o?l.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}):l.jsx(Cx,{className:"mr-2 h-4 w-4"}),n==="ko"?"로그아웃":"ログアウト"]}),l.jsxs(X,{variant:"outline",onClick:()=>d(!0),className:"flex justify-start w-full text-destructive hover:text-destructive",children:[l.jsx(gN,{className:"mr-2 h-4 w-4"}),n==="ko"?"계정 삭제":"アカウント削除"]})]}),l.jsx(FF,{open:u,onOpenChange:d,children:l.jsxs(Dk,{children:[l.jsxs(Ik,{children:[l.jsx($k,{children:n==="ko"?"계정을 정말 삭제하시겠습니까?":"本当にアカウントを削除しますか？"}),l.jsx(Fk,{children:n==="ko"?"이 작업은 되돌릴 수 없으며 모든 데이터가 영구적으로 삭제됩니다. 계정 삭제 후에는 모든 정보를 복구할 수 없습니다.":"この操作は元に戻せず、すべてのデータが永久に削除されます。アカウント削除後は、すべての情報を復元することはできません。"})]}),l.jsxs(Lk,{children:[l.jsx(zk,{children:n==="ko"?"취소":"キャンセル"}),l.jsx(Uk,{onClick:p,disabled:a,className:"bg-destructive hover:bg-destructive/90",children:a?l.jsxs("div",{className:"flex items-center",children:[l.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}),n==="ko"?"삭제 중...":"削除中..."]}):n==="ko"?"삭제":"削除"})]})]})})]})}function BF(){const{user:e}=$e(),{toast:t}=Se(),{t:r,language:n}=ae(),[s,o]=h.useState(null),[i,a]=h.useState(!0),c=h.useRef(null),[u,d]=h.useState(null),[f,p]=h.useState(!1),[v,y]=h.useState([]),{photos:g,isUploading:x,updateProfilePhoto:w,removePhoto:m,isPendingApproval:b,pendingApproval:_}=v1(v);h.useEffect(()=>{(async()=>{if(e)try{a(!0);const{data:T,error:z}=await I.from("users").select("*").eq("id",e.id).single();if(z)throw z;o(T);const{data:D,error:B}=await I.from("verification_requests").select("*").eq("user_id",e.id).eq("type","bio_update").eq("status","pending");B||p(D&&D.length>0);const{data:M,error:Y}=await I.from("profile_photos").select("*").eq("user_id",e.id).is("deleted_at",null).order("sort_order");if(Y)throw Y;const U=M.map(Q=>Q.url);y(U)}catch(T){console.error("Error fetching user profile:",T),t({title:"Error",description:"Failed to load user profile",variant:"destructive"})}finally{a(!1)}})()},[e,t]);const k=async N=>{if(!N.target.files||!N.target.files.length)return;const T=N.target.files[0],z=u!==null?u:v.length;try{const D=await w(T,z);if(D.success&&D.publicUrl){if(u!==null){const B=[...v];B[u]=D.publicUrl,y(B)}else y([...v,D.publicUrl]);t({title:n==="ko"?"성공":"成功",description:n==="ko"?"프로필 사진이 변경 요청되었습니다. 관리자 승인 후 적용됩니다.":"プロフィール写真の変更がリクエストされました。管理者の承認後に適用されます。"})}else t({title:n==="ko"?"오류":"エラー",description:D.error||(n==="ko"?"알 수 없는 오류가 발생했습니다":"不明なエラーが発生しました"),variant:"destructive"})}catch(D){console.error("Error updating profile photo:",D),t({title:n==="ko"?"오류":"エラー",description:n==="ko"?"프로필 사진 업데이트 실패":"プロフィール写真の更新に失敗しました",variant:"destructive"})}finally{c.current&&(c.current.value=""),d(null)}},j=()=>{var N;d(null),(N=c.current)==null||N.click()},E=N=>{var T;d(N),(T=c.current)==null||T.click()},S=async N=>{try{await m(N)}catch(T){console.error("Error removing photo:",T),t({title:n==="ko"?"오류":"エラー",description:n==="ko"?"프로필 사진 삭제 실패":"プロフィール写真の削除に失敗しました",variant:"destructive"})}};return i?l.jsx(Je,{children:l.jsx("div",{className:"flex items-center justify-center h-[50vh]",children:l.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-primary border-t-transparent"})})}):s?l.jsx(Je,{children:l.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[l.jsx("h1",{className:"text-3xl font-bold mb-8",children:r("profile.my_profile")}),l.jsxs(Ip,{defaultValue:"profile",className:"w-full",children:[l.jsxs(au,{className:"mb-8",children:[l.jsx(qr,{value:"profile",children:n==="ko"?"프로필":"プロフィール"}),l.jsx(qr,{value:"account",children:n==="ko"?"계정 관리":"アカウント管理"})]}),l.jsxs(Gr,{value:"profile",children:[l.jsx(xt,{className:"mb-8",children:l.jsxs(bt,{className:"pt-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-4",children:r("profile.photos")}),l.jsx(cF,{photos:v,isPendingApproval:b,onAddPhoto:j,onRemovePhoto:S,onUpdatePhoto:E,isUploading:x}),l.jsx("input",{type:"file",ref:c,onChange:k,accept:"image/*",className:"hidden"}),l.jsx("p",{className:"text-sm text-gray-500 mt-4",children:n==="ko"?"프로필 사진은 관리자 승인 후 공개됩니다. 최대 9장까지 등록 가능합니다.":"プロフィール写真は管理者の承認後に公開されます。最大9枚まで登録できます。"})]})}),l.jsx(dF,{initialBio:s==null?void 0:s.bio,userId:s==null?void 0:s.id,isPendingApproval:f}),l.jsx(uF,{nickname:s==null?void 0:s.nickname,birthdate:s==null?void 0:s.birthdate,gender:s==null?void 0:s.gender,city:s==null?void 0:s.city,countryCode:s==null?void 0:s.country_code,nationality:s==null?void 0:s.nationality})]}),l.jsx(Gr,{value:"account",children:l.jsx(xt,{children:l.jsxs(bt,{className:"py-6",children:[l.jsx("h2",{className:"text-xl font-semibold mb-6",children:n==="ko"?"계정 관리":"アカウント管理"}),l.jsx(zF,{})]})})})]})]})}):l.jsx(Je,{children:l.jsxs("div",{className:"text-center p-10",children:[l.jsx("h2",{className:"text-2xl font-bold mb-4",children:r("profile.not_found")}),l.jsx("p",{children:r("profile.might_not_exist")})]})})}var Bp="Avatar",[WF,J5]=Yt(Bp),[HF,Bk]=WF(Bp),Wk=h.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[s,o]=h.useState("idle");return l.jsx(HF,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:l.jsx(K.span,{...n,ref:t})})});Wk.displayName=Bp;var Hk="AvatarImage",Vk=h.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...o}=e,i=Bk(Hk,r),a=VF(n,o.referrerPolicy),c=ot(u=>{s(u),i.onImageLoadingStatusChange(u)});return Ge(()=>{a!=="idle"&&c(a)},[a,c]),a==="loaded"?l.jsx(K.img,{...o,ref:t,src:n}):null});Vk.displayName=Hk;var qk="AvatarFallback",Gk=h.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...s}=e,o=Bk(qk,r),[i,a]=h.useState(n===void 0);return h.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(c)}},[n]),i&&o.imageLoadingStatus!=="loaded"?l.jsx(K.span,{...s,ref:t}):null});Gk.displayName=qk;function VF(e,t){const[r,n]=h.useState("idle");return Ge(()=>{if(!e){n("error");return}let s=!0;const o=new window.Image,i=a=>()=>{s&&n(a)};return n("loading"),o.onload=i("loaded"),o.onerror=i("error"),o.src=e,t&&(o.referrerPolicy=t),()=>{s=!1}},[e,t]),r}var Kk=Wk,Yk=Vk,Qk=Gk;const hc=h.forwardRef(({className:e,...t},r)=>l.jsx(Kk,{ref:r,className:H("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));hc.displayName=Kk.displayName;const qF=h.forwardRef(({className:e,...t},r)=>l.jsx(Yk,{ref:r,className:H("aspect-square h-full w-full",e),...t}));qF.displayName=Yk.displayName;const pc=h.forwardRef(({className:e,...t},r)=>l.jsx(Qk,{ref:r,className:H("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));pc.displayName=Qk.displayName;var Wp="Collapsible",[GF,Xk]=Yt(Wp),[KF,Hp]=GF(Wp),Jk=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:s,disabled:o,onOpenChange:i,...a}=e,[c=!1,u]=qt({prop:n,defaultProp:s,onChange:i});return l.jsx(KF,{scope:r,disabled:o,contentId:nr(),open:c,onOpenToggle:h.useCallback(()=>u(d=>!d),[u]),children:l.jsx(K.div,{"data-state":qp(c),"data-disabled":o?"":void 0,...a,ref:t})})});Jk.displayName=Wp;var Zk="CollapsibleTrigger",ej=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,s=Hp(Zk,r);return l.jsx(K.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":qp(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...n,ref:t,onClick:L(e.onClick,s.onOpenToggle)})});ej.displayName=Zk;var Vp="CollapsibleContent",tj=h.forwardRef((e,t)=>{const{forceMount:r,...n}=e,s=Hp(Vp,e.__scopeCollapsible);return l.jsx(Qt,{present:r||s.open,children:({present:o})=>l.jsx(YF,{...n,ref:t,present:o})})});tj.displayName=Vp;var YF=h.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:s,...o}=e,i=Hp(Vp,r),[a,c]=h.useState(n),u=h.useRef(null),d=se(t,u),f=h.useRef(0),p=f.current,v=h.useRef(0),y=v.current,g=i.open||a,x=h.useRef(g),w=h.useRef();return h.useEffect(()=>{const m=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(m)},[]),Ge(()=>{const m=u.current;if(m){w.current=w.current||{transitionDuration:m.style.transitionDuration,animationName:m.style.animationName},m.style.transitionDuration="0s",m.style.animationName="none";const b=m.getBoundingClientRect();f.current=b.height,v.current=b.width,x.current||(m.style.transitionDuration=w.current.transitionDuration,m.style.animationName=w.current.animationName),c(n)}},[i.open,n]),l.jsx(K.div,{"data-state":qp(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!g,...o,ref:d,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:g&&s})});function qp(e){return e?"open":"closed"}var QF=Jk,XF=ej,JF=tj,on="Accordion",ZF=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Gp,e5,t5]=xa(on),[lu,Z5]=Yt(on,[t5,Xk]),Kp=Xk(),rj=A.forwardRef((e,t)=>{const{type:r,...n}=e,s=n,o=n;return l.jsx(Gp.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?l.jsx(o5,{...o,ref:t}):l.jsx(s5,{...s,ref:t})})});rj.displayName=on;var[nj,r5]=lu(on),[sj,n5]=lu(on,{collapsible:!1}),s5=A.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},collapsible:o=!1,...i}=e,[a,c]=qt({prop:r,defaultProp:n,onChange:s});return l.jsx(nj,{scope:e.__scopeAccordion,value:a?[a]:[],onItemOpen:c,onItemClose:A.useCallback(()=>o&&c(""),[o,c]),children:l.jsx(sj,{scope:e.__scopeAccordion,collapsible:o,children:l.jsx(oj,{...i,ref:t})})})}),o5=A.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:s=()=>{},...o}=e,[i=[],a]=qt({prop:r,defaultProp:n,onChange:s}),c=A.useCallback(d=>a((f=[])=>[...f,d]),[a]),u=A.useCallback(d=>a((f=[])=>f.filter(p=>p!==d)),[a]);return l.jsx(nj,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:u,children:l.jsx(sj,{scope:e.__scopeAccordion,collapsible:!0,children:l.jsx(oj,{...o,ref:t})})})}),[i5,cu]=lu(on),oj=A.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:s,orientation:o="vertical",...i}=e,a=A.useRef(null),c=se(a,t),u=e5(r),f=Ca(s)==="ltr",p=L(e.onKeyDown,v=>{var S;if(!ZF.includes(v.key))return;const y=v.target,g=u().filter(N=>{var T;return!((T=N.ref.current)!=null&&T.disabled)}),x=g.findIndex(N=>N.ref.current===y),w=g.length;if(x===-1)return;v.preventDefault();let m=x;const b=0,_=w-1,k=()=>{m=x+1,m>_&&(m=b)},j=()=>{m=x-1,m<b&&(m=_)};switch(v.key){case"Home":m=b;break;case"End":m=_;break;case"ArrowRight":o==="horizontal"&&(f?k():j());break;case"ArrowDown":o==="vertical"&&k();break;case"ArrowLeft":o==="horizontal"&&(f?j():k());break;case"ArrowUp":o==="vertical"&&j();break}const E=m%w;(S=g[E].ref.current)==null||S.focus()});return l.jsx(i5,{scope:r,disabled:n,direction:s,orientation:o,children:l.jsx(Gp.Slot,{scope:r,children:l.jsx(K.div,{...i,"data-orientation":o,ref:c,onKeyDown:n?void 0:p})})})}),mc="AccordionItem",[a5,Yp]=lu(mc),ij=A.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...s}=e,o=cu(mc,r),i=r5(mc,r),a=Kp(r),c=nr(),u=n&&i.value.includes(n)||!1,d=o.disabled||e.disabled;return l.jsx(a5,{scope:r,open:u,disabled:d,triggerId:c,children:l.jsx(QF,{"data-orientation":o.orientation,"data-state":fj(u),...a,...s,ref:t,disabled:d,open:u,onOpenChange:f=>{f?i.onItemOpen(n):i.onItemClose(n)}})})});ij.displayName=mc;var aj="AccordionHeader",lj=A.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=cu(on,r),o=Yp(aj,r);return l.jsx(K.h3,{"data-orientation":s.orientation,"data-state":fj(o.open),"data-disabled":o.disabled?"":void 0,...n,ref:t})});lj.displayName=aj;var Ff="AccordionTrigger",cj=A.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=cu(on,r),o=Yp(Ff,r),i=n5(Ff,r),a=Kp(r);return l.jsx(Gp.ItemSlot,{scope:r,children:l.jsx(XF,{"aria-disabled":o.open&&!i.collapsible||void 0,"data-orientation":s.orientation,id:o.triggerId,...a,...n,ref:t})})});cj.displayName=Ff;var uj="AccordionContent",dj=A.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,s=cu(on,r),o=Yp(uj,r),i=Kp(r);return l.jsx(JF,{role:"region","aria-labelledby":o.triggerId,"data-orientation":s.orientation,...i,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});dj.displayName=uj;function fj(e){return e?"open":"closed"}var l5=rj,c5=ij,u5=lj,hj=cj,pj=dj;const d5=l5,mj=h.forwardRef(({className:e,...t},r)=>l.jsx(c5,{ref:r,className:H("border-b",e),...t}));mj.displayName="AccordionItem";const gj=h.forwardRef(({className:e,children:t,...r},n)=>l.jsx(u5,{className:"flex",children:l.jsxs(hj,{ref:n,className:H("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,l.jsx(Uh,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));gj.displayName=hj.displayName;const vj=h.forwardRef(({className:e,children:t,...r},n)=>l.jsx(pj,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:l.jsx("div",{className:H("pb-4 pt-0",e),children:t})}));vj.displayName=pj.displayName;const f5=({photoRequests:e,loading:t,onRefresh:r})=>{const{t:n,language:s}=ae(),{toast:o}=Se(),[i,a]=h.useState({}),[c,u]=h.useState(null),[d,f]=h.useState({}),p=e.reduce((x,w)=>{const m=w.user_id;return m&&(x[m]||(x[m]={displayName:w.user_display_name||m,requests:[]}),x[m].requests.push(w)),x},{}),v=async x=>{u(x.id);try{if(x.photo_url){const m=x.photo_url.split("/");if(m[m.length-2]){const{data:_,error:k}=await I.from("profile_photos").select("deleted_at").eq("url",x.photo_url).single();if(k||!_){console.error("Photo not found in database:",k),o({title:s==="ko"?"사진을 찾을 수 없음":"写真が見つかりません",description:s==="ko"?"해당 사진이 삭제되었거나 존재하지 않습니다.":"その写真は削除されたか、存在しません。",variant:"destructive"}),r(),u(null);return}if(_.deleted_at){o({title:s==="ko"?"사진이 삭제됨":"写真が削除されました",description:s==="ko"?"해당 사진은 사용자에 의해 삭제되었습니다.":"その写真はユーザーによって削除されました。",variant:"destructive"}),r(),u(null);return}}}const{error:w}=await I.functions.invoke("update-verification-request",{body:{request_id:x.id,status:"approved"}});if(w)throw w;r(),o({title:s==="ko"?"승인 완료":"承認完了",description:s==="ko"?"요청이 승인되었습니다.":"リクエストが承認されました。"})}catch(w){console.error("요청 승인 오류:",w),o({title:n("error.generic"),description:n("error.try_again"),variant:"destructive"})}finally{u(null)}},y=async x=>{const w=i[x.id];if(!w){o({title:s==="ko"?"거부 사유 필요":"拒否理由が必要です",description:s==="ko"?"거부 사유를 입력해주세요.":"拒否理由を入力してください。",variant:"destructive"});return}u(x.id);try{const{error:m}=await I.functions.invoke("update-verification-request",{body:{request_id:x.id,status:"rejected",rejection_reason:w}});if(m)throw m;r(),a(b=>{const _={...b};return delete _[x.id],_}),o({title:s==="ko"?"거부 완료":"拒否完了",description:s==="ko"?"요청이 거부되었습니다.":"リクエストが拒否されました。"})}catch(m){console.error("요청 거부 오류:",m),o({title:n("error.generic"),description:n("error.try_again"),variant:"destructive"})}finally{u(null)}},g=x=>{f(w=>({...w,[x]:!0})),console.error("Failed to load image for request ID:",x)};return l.jsxs(xt,{children:[l.jsx(Ut,{children:l.jsx(zt,{children:n("admin.profile_photo")})}),l.jsx(bt,{children:t?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):Object.keys(p).length>0?l.jsx(d5,{type:"single",collapsible:!0,className:"w-full",children:Object.entries(p).map(([x,w])=>l.jsxs(mj,{value:x,children:[l.jsx(gj,{className:"hover:bg-accent/20 px-4 hover:no-underline",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(hc,{className:"h-8 w-8",children:l.jsx(pc,{children:w.displayName.substring(0,2).toUpperCase()})}),l.jsxs("span",{className:"font-medium",children:[w.displayName," (",w.requests.length," ",s==="ko"?"장":"枚",")"]})]})}),l.jsx(vj,{className:"pt-4",children:l.jsx("div",{className:"space-y-8",children:w.requests.map(m=>{var b;return l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s==="ko"?"요청 날짜":"リクエスト日"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(m.created_at).toLocaleString()})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:s==="ko"?"프로필 사진":"プロフィール写真"}),m.photo_url&&l.jsx("div",{className:"max-w-sm mx-auto",children:d[m.id]?l.jsxs("div",{className:"border rounded-md p-4 text-center bg-gray-100 h-64 flex flex-col items-center justify-center",children:[l.jsx(hc,{className:"h-16 w-16 mb-2",children:l.jsx(pc,{children:((b=w.displayName)==null?void 0:b.substring(0,2))||"??"})}),l.jsx("p",{className:"text-sm text-muted-foreground",children:s==="ko"?"이미지를 불러올 수 없습니다":"画像を読み込めません"}),l.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:m.photo_url?new URL(m.photo_url).pathname.split("/").pop():"Unknown file"})]}):l.jsx("a",{href:m.photo_url,target:"_blank",rel:"noopener noreferrer",children:l.jsx("img",{src:m.photo_url,alt:"Profile Photo",className:"w-full rounded-md border object-contain max-h-64",onError:()=>g(m.id)})})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(kn,{htmlFor:`rejection-reason-${m.id}`,children:s==="ko"?"거부 사유 (거부 시 필수)":"拒否理由（拒否する場合は必須）"}),l.jsx(Yr,{id:`rejection-reason-${m.id}`,value:i[m.id]||"",onChange:_=>a(k=>({...k,[m.id]:_.target.value})),placeholder:s==="ko"?"거부 사유를 입력하세요":"拒否理由を入力してください"})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(X,{variant:"destructive",onClick:()=>y(m),disabled:c===m.id,children:c===m.id?l.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}):n("admin.reject")}),l.jsx(X,{onClick:()=>v(m),disabled:c===m.id,children:c===m.id?l.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}):n("admin.approve")})]})]})]},m.id)})})})]},x))}):l.jsx("div",{className:"py-8 text-center text-muted-foreground",children:n("admin.no_requests")})})]})},h5=({identityRequests:e,loading:t,onRefresh:r})=>{const{t:n,language:s}=ae(),{toast:o}=Se(),[i,a]=h.useState(""),[c,u]=h.useState(null),[d,f]=h.useState({}),p=async g=>{u(g.id);try{const{error:x}=await I.from("identity_verifications").update({status:"approved",updated_at:new Date().toISOString()}).eq("id",g.id);if(x)throw x;const{error:w}=await I.from("users").update({is_verified:!0,updated_at:new Date().toISOString()}).eq("id",g.user_id);if(w)throw w;const{data:m,error:b}=await I.rpc("create_admin_notification",{p_user_id:g.user_id,p_type:"verify_passed",p_title:s==="ko"?"신분증 인증 완료":"本人確認完了",p_body:s==="ko"?"신분증 인증이 완료되었습니다. 이제 채팅 기능을 사용할 수 있습니다.":"本人確認が完了しました。チャット機能が使えるようになりました。"});if(b)throw b;r(),o({title:s==="ko"?"승인 완료":"承認完了",description:s==="ko"?"요청이 승인되었습니다.":"リクエストが承認されました。"})}catch(x){console.error("요청 승인 오류:",x),o({title:n("error.generic"),description:n("error.try_again"),variant:"destructive"})}finally{u(null)}},v=async g=>{if(!i){o({title:s==="ko"?"거부 사유 필요":"拒否理由が必要です",description:s==="ko"?"거부 사유를 입력해주세요.":"拒否理由を入力してください。",variant:"destructive"});return}u(g.id);try{const{error:x}=await I.from("identity_verifications").update({status:"rejected",rejection_reason:i,updated_at:new Date().toISOString()}).eq("id",g.id);if(x)throw x;const{error:w}=await I.from("users").update({is_verified:!1,updated_at:new Date().toISOString()}).eq("id",g.user_id);if(w)throw w;const{data:m,error:b}=await I.rpc("create_admin_notification",{p_user_id:g.user_id,p_type:"verify_rejected",p_title:s==="ko"?"신분증 인증 거부":"本人確認拒否",p_body:s==="ko"?`사유: ${i}`:`理由: ${i}`});if(b)throw b;r(),a(""),o({title:s==="ko"?"거부 완료":"拒否完了",description:s==="ko"?"요청이 거부되었습니다.":"リクエストが拒否されました。"})}catch(x){console.error("요청 거부 오류:",x),o({title:n("error.generic"),description:n("error.try_again"),variant:"destructive"})}finally{u(null)}},y=g=>{f(x=>({...x,[g]:!0})),console.error("Failed to load image for request ID:",g)};return l.jsxs(xt,{children:[l.jsxs(Ut,{className:"flex flex-row items-center justify-between",children:[l.jsx(zt,{children:n("admin.identity_verification")}),l.jsxs(X,{variant:"outline",size:"sm",className:"flex gap-1 items-center",onClick:r,children:[l.jsx(mN,{className:"h-4 w-4"}),s==="ko"?"새로고침":"更新"]})]}),l.jsx(bt,{children:t?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.length>0?l.jsx("div",{className:"space-y-8",children:e.map(g=>{var x;return l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:s==="ko"?"사용자":"ユーザー"}),l.jsx("p",{children:g.user_display_name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(g.created_at).toLocaleString()})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-2",children:s==="ko"?"신분증":"身分証明書"}),g.id_front_url&&l.jsx("div",{className:"max-w-sm mx-auto",children:d[g.id]?l.jsxs("div",{className:"border rounded-md p-4 text-center bg-gray-100 h-64 flex flex-col items-center justify-center",children:[l.jsx(hc,{className:"h-16 w-16 mb-2",children:l.jsx(pc,{children:((x=g.user_display_name)==null?void 0:x.substring(0,2))||"??"})}),l.jsx("p",{className:"text-sm text-muted-foreground",children:s==="ko"?"이미지를 불러올 수 없습니다":"画像を読み込めません"})]}):l.jsx("img",{src:g.id_front_url,alt:"ID Document",className:"w-full rounded-md border object-contain max-h-64",onError:()=>y(g.id)})})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(kn,{htmlFor:`rejection-reason-${g.id}`,children:s==="ko"?"거부 사유 (거부 시 필수)":"拒否理由（拒否する場合は必須）"}),l.jsx(Yr,{id:`rejection-reason-${g.id}`,value:i,onChange:w=>a(w.target.value),placeholder:s==="ko"?"거부 사유를 입력하세요":"拒否理由を入力してください"})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx(X,{variant:"destructive",onClick:()=>v(g),disabled:c===g.id,children:c===g.id?l.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}):n("admin.reject")}),l.jsx(X,{onClick:()=>p(g),disabled:c===g.id,children:c===g.id?l.jsx("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-background border-t-transparent"}):n("admin.approve")})]})]})]},g.id)})}):l.jsx("div",{className:"py-8 text-center text-muted-foreground",children:n("admin.no_requests")})})]})};function p5(){const{toast:e}=Se(),[t,r]=h.useState([]),[n,s]=h.useState(!0),[o,i]=h.useState({});h.useEffect(()=>{const u=async()=>{try{s(!0);const{data:f,error:p}=await I.from("verification_requests").select(`
            id,
            user_id,
            created_at,
            users (
              id,
              nickname,
              bio
            )
          `).eq("type","bio_update").eq("status","pending").order("created_at",{ascending:!1});if(p)throw p;r(f||[])}catch(f){console.error("Error fetching pending bio approvals:",f),e({title:"Error",description:"Failed to load pending bio approvals",variant:"destructive"})}finally{s(!1)}};u();const d=I.channel("verification_requests_changes").on("postgres_changes",{event:"*",schema:"public",table:"verification_requests",filter:"type=eq.bio_update"},()=>{u()}).subscribe();return()=>{I.removeChannel(d)}},[e]);const a=async(u,d)=>{i(f=>({...f,[u]:!0}));try{const{error:f}=await I.from("verification_requests").update({status:"approved"}).eq("id",u);if(f)throw f;const{error:p}=await I.from("notifications").insert({user_id:d,type:"bio_approved",title:"자기소개 승인 완료",body:"회원님의 자기소개가 승인되었습니다.",is_read:!1});p&&console.error("Error creating notification:",p),r(v=>v.filter(y=>y.id!==u)),e({title:"Approved",description:"Bio has been approved successfully"})}catch(f){console.error("Error approving bio:",f),e({title:"Error",description:"Failed to approve bio",variant:"destructive"})}finally{i(f=>({...f,[u]:!1}))}},c=async(u,d)=>{i(f=>({...f,[u]:!0}));try{const{error:f}=await I.from("verification_requests").update({status:"rejected"}).eq("id",u);if(f)throw f;const{error:p}=await I.from("notifications").insert({user_id:d,type:"bio_rejected",title:"자기소개 반려됨",body:"회원님의 자기소개가 반려되었습니다. 내용을 수정하여 다시 제출해주세요.",is_read:!1});p&&console.error("Error creating notification:",p),r(v=>v.filter(y=>y.id!==u)),e({title:"Rejected",description:"Bio has been rejected"})}catch(f){console.error("Error rejecting bio:",f),e({title:"Error",description:"Failed to reject bio",variant:"destructive"})}finally{i(f=>({...f,[u]:!1}))}};return n?l.jsx("div",{className:"flex justify-center p-8",children:l.jsx(Ot,{className:"h-8 w-8 animate-spin text-primary"})}):t.length===0?l.jsx("div",{className:"text-center p-8",children:l.jsx("p",{className:"text-muted-foreground",children:"No pending bio approvals"})}):l.jsx("div",{className:"space-y-6",children:t.map(u=>{var d,f;return l.jsxs(xt,{children:[l.jsx(Ut,{className:"pb-2",children:l.jsxs(zt,{className:"text-lg",children:["Bio Update from ",((d=u.users)==null?void 0:d.nickname)||"Unknown User"]})}),l.jsxs(bt,{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("h3",{className:"text-sm font-medium mb-1",children:"Bio Content:"}),l.jsx("div",{className:"p-3 bg-muted rounded-md whitespace-pre-wrap",children:((f=u.users)==null?void 0:f.bio)||"No content"})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsxs(X,{variant:"outline",size:"sm",onClick:()=>c(u.id,u.user_id),disabled:o[u.id],className:"flex items-center",children:[o[u.id]?l.jsx(Ot,{className:"mr-1 h-3 w-3 animate-spin"}):l.jsx(Ds,{className:"mr-1 h-3 w-3"}),"Reject"]}),l.jsxs(X,{size:"sm",onClick:()=>a(u.id,u.user_id),disabled:o[u.id],className:"flex items-center",children:[o[u.id]?l.jsx(Ot,{className:"mr-1 h-3 w-3 animate-spin"}):l.jsx(Ms,{className:"mr-1 h-3 w-3"}),"Approve"]})]})]})]},u.id)})})}const yj=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:r,className:H("w-full caption-bottom text-sm",e),...t})}));yj.displayName="Table";const wj=h.forwardRef(({className:e,...t},r)=>l.jsx("thead",{ref:r,className:H("[&_tr]:border-b",e),...t}));wj.displayName="TableHeader";const xj=h.forwardRef(({className:e,...t},r)=>l.jsx("tbody",{ref:r,className:H("[&_tr:last-child]:border-0",e),...t}));xj.displayName="TableBody";const m5=h.forwardRef(({className:e,...t},r)=>l.jsx("tfoot",{ref:r,className:H("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));m5.displayName="TableFooter";const Zs=h.forwardRef(({className:e,...t},r)=>l.jsx("tr",{ref:r,className:H("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Zs.displayName="TableRow";const Uf=h.forwardRef(({className:e,...t},r)=>l.jsx("th",{ref:r,className:H("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Uf.displayName="TableHead";const Ur=h.forwardRef(({className:e,...t},r)=>l.jsx("td",{ref:r,className:H("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Ur.displayName="TableCell";const g5=h.forwardRef(({className:e,...t},r)=>l.jsx("caption",{ref:r,className:H("mt-4 text-sm text-muted-foreground",e),...t}));g5.displayName="TableCaption";const v5=({user:e,isAdmin:t,adminCheckComplete:r,loading:n})=>l.jsxs(xt,{className:"mb-6",children:[l.jsx(Ut,{children:l.jsx(zt,{children:"디버깅 정보"})}),l.jsx(bt,{children:l.jsxs(yj,{children:[l.jsx(wj,{children:l.jsxs(Zs,{children:[l.jsx(Uf,{children:"키"}),l.jsx(Uf,{children:"값"})]})}),l.jsxs(xj,{children:[l.jsxs(Zs,{children:[l.jsx(Ur,{children:"사용자 ID"}),l.jsx(Ur,{children:(e==null?void 0:e.id)||"없음"})]}),l.jsxs(Zs,{children:[l.jsx(Ur,{children:"관리자 상태"}),l.jsx(Ur,{children:t?"관리자임":"관리자 아님"})]}),l.jsxs(Zs,{children:[l.jsx(Ur,{children:"관리자 확인 완료"}),l.jsx(Ur,{children:r?"완료":"진행 중"})]}),l.jsxs(Zs,{children:[l.jsx(Ur,{children:"로딩 상태"}),l.jsx(Ur,{children:n?"로딩 중":"로딩 완료"})]})]})]})})]});function y5(){const{user:e}=$e(),[t,r]=h.useState([]),[n,s]=h.useState([]),[o,i]=h.useState(!0),[a,c]=h.useState(!1),[u,d]=h.useState(!1);h.useEffect(()=>{(async()=>{if(e)try{const{data:v}=await I.from("admin_users").select("*").eq("user_id",e.id).maybeSingle();c(!!v),d(!0)}catch(v){console.error("Error checking admin status:",v)}})()},[e]),h.useEffect(()=>{(async()=>{if(e)try{i(!0);const{data:v,error:y}=await I.from("verification_requests").select("*, users(id, nickname)").eq("type","profile_photo").eq("status","pending").order("created_at",{ascending:!1});if(y)throw y;const g=(v||[]).map(b=>{var _;return{...b,user_display_name:b.user_display_name||((_=b.users)==null?void 0:_.nickname)||"Unknown User"}});r(g);const{data:x,error:w}=await I.from("identity_verifications").select("*, users(id, nickname)").eq("status","submitted").order("created_at",{ascending:!1});if(w)throw w;const m=(x||[]).map(b=>{var _;return{...b,user_display_name:((_=b.users)==null?void 0:_.nickname)||"Unknown User",type:"identity"}});s(m)}catch(v){console.error("Error fetching verification requests:",v)}finally{i(!1)}})()},[e]);const f=async()=>{if(e){i(!0);try{const{data:p}=await I.from("verification_requests").select("*, users(id, nickname)").eq("type","profile_photo").eq("status","pending").order("created_at",{ascending:!1}),v=(p||[]).map(x=>{var w;return{...x,user_display_name:x.user_display_name||((w=x.users)==null?void 0:w.nickname)||"Unknown User"}});r(v);const{data:y}=await I.from("identity_verifications").select("*, users(id, nickname)").eq("status","submitted").order("created_at",{ascending:!1}),g=(y||[]).map(x=>{var w;return{...x,user_display_name:((w=x.users)==null?void 0:w.nickname)||"Unknown User",type:"identity"}});s(g)}catch(p){console.error("Error refreshing verification requests:",p)}finally{i(!1)}}};return l.jsxs(Ip,{defaultValue:"profile-verifications",className:"w-full",children:[l.jsxs(au,{className:"grid grid-cols-4 mb-8",children:[l.jsx(qr,{value:"profile-verifications",children:"프로필 승인"}),l.jsx(qr,{value:"identity-verifications",children:"신분증 인증"}),l.jsx(qr,{value:"bio-approvals",children:"자기소개 승인"}),l.jsx(qr,{value:"debug",children:"디버그"})]}),l.jsx(Gr,{value:"profile-verifications",children:l.jsx(f5,{photoRequests:t,loading:o,onRefresh:f})}),l.jsx(Gr,{value:"identity-verifications",children:l.jsx(h5,{identityRequests:n,loading:o,onRefresh:f})}),l.jsx(Gr,{value:"bio-approvals",children:l.jsx(p5,{})}),l.jsx(Gr,{value:"debug",children:l.jsx(v5,{user:e,isAdmin:a,adminCheckComplete:u,loading:o})})]})}function w5(){const{user:e}=$e(),t=it(),[r,n]=h.useState(!1),[s,o]=h.useState(!0);return h.useEffect(()=>{(async()=>{if(!e){t("/login");return}try{const{data:a,error:c}=await I.from("admin_users").select("*").eq("user_id",e.id).maybeSingle();if(c)throw c;if(!a){t("/home");return}n(!0)}catch(a){console.error("Error checking admin status:",a),t("/home")}finally{o(!1)}})()},[e,t]),s?l.jsx(Je,{children:l.jsx("div",{className:"flex justify-center items-center h-[60vh]",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):r?l.jsx(Je,{children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[l.jsx("h1",{className:"text-3xl font-bold mb-8",children:"관리자 페이지"}),l.jsx(y5,{})]})}):null}function x5(){const{t:e,language:t}=ae(),{user:r}=$e(),{toast:n}=Se(),s=it(),[o,i]=h.useState(""),[a,c]=h.useState(!1),[u,d]=h.useState(!1),[f,p]=h.useState(null),v=h.useRef(null),[y,g]=h.useState(!1),[x,w]=h.useState(!0);h.useEffect(()=>{(async()=>{if(!r){s("/login");return}try{const{data:j,error:E}=await I.from("users").select("is_verified").eq("id",r.id).single();if(E)throw E;g((j==null?void 0:j.is_verified)||!1),j!=null&&j.is_verified&&s("/home")}catch(j){console.error("Error checking verification status:",j)}finally{w(!1)}})()},[r,s]);const m=k=>{k.target.files&&k.target.files[0]&&(p(k.target.files[0]),c(!0))},b=async()=>{if(!(!f||!o||!r)){d(!0);try{const k=await g1(r.id,f),{error:j}=await I.from("identity_verifications").insert({user_id:r.id,country_code:t==="ko"?"KR":"JP",doc_type:o,id_front_url:k,status:"submitted",submitted_at:new Date().toISOString(),updated_at:new Date().toISOString()});if(j)throw j;n({title:t==="ko"?"신분증이 제출되었습니다":"身分証明書が提出されました",description:t==="ko"?"검토 후 알림으로 알려드립니다":"審査後、通知でお知らせします"}),s("/home")}catch(k){console.error("Error submitting verification:",k),n({title:e("error.generic"),description:k instanceof Error?k.message:e("error.try_again"),variant:"destructive"})}finally{d(!1)}}},_=()=>{s("/home")};return x?l.jsx(Je,{children:l.jsx("div",{className:"flex justify-center items-center h-[50vh]",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):l.jsx(Je,{children:l.jsx("div",{className:"max-w-xl mx-auto px-4 py-12",children:l.jsxs(xt,{className:"shadow-md",children:[l.jsxs(Ut,{className:"text-center",children:[l.jsx("div",{className:"w-16 h-16 rounded-full bg-pastel-mint/30 flex items-center justify-center mx-auto mb-4",children:l.jsx(Px,{className:"h-8 w-8 text-green-600"})}),l.jsx(zt,{className:"text-2xl font-semibold",children:e("verify.title")}),l.jsx(ho,{children:e("verify.desc")})]}),l.jsxs(bt,{className:"space-y-6",children:[l.jsx("div",{className:"bg-pastel-mint/30 rounded-lg p-4 border border-pastel-mint",children:l.jsx("p",{className:"text-sm",children:t==="ko"?"신분증 정보는 안전하게 암호화되어 저장됩니다. 신분증 인증은 안전한 매칭 서비스를 제공하기 위함입니다.":"身分証明書の情報は安全に暗号化されて保存されます。身分証明書の確認は安全なマッチングサービスを提供するためです。"})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"docType",className:"text-sm font-medium",children:t==="ko"?"신분증 종류":"身分証明書の種類"}),l.jsxs(bs,{value:o,onValueChange:i,children:[l.jsx(zn,{id:"docType",className:"pasar-input",children:l.jsx(_s,{placeholder:t==="ko"?"신분증 종류 선택":"身分証明書の種類を選択"})}),l.jsxs(Bn,{children:[l.jsx(we,{value:"resident_card",children:t==="ko"?"주민등록증":"住民基本台帳カード"}),l.jsx(we,{value:"driver_license",children:t==="ko"?"운전면허증":"運転免許証"}),l.jsx(we,{value:"passport",children:t==="ko"?"여권":"パスポート"}),t==="ja"&&l.jsx(we,{value:"my_number_card",children:"マイナンバーカード"})]})]})]}),o&&l.jsxs("div",{className:"space-y-3",children:[l.jsx("label",{className:"text-sm font-medium",children:t==="ko"?"신분증 앞면":"身分証明書の表面"}),l.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center relative",children:[a?l.jsxs("div",{className:"flex flex-col items-center text-center",children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-pastel-mint flex items-center justify-center mb-3",children:l.jsx(Ms,{className:"w-6 h-6 text-green-600"})}),l.jsx("p",{className:"text-sm font-medium text-gray-700",children:t==="ko"?"파일이 업로드되었습니다":"ファイルがアップロードされました"}),l.jsx(X,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>{c(!1),p(null),v.current&&(v.current.value="")},children:t==="ko"?"다시 선택":"再選択"})]}):l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center mb-3",children:l.jsx(zh,{className:"w-6 h-6 text-gray-500"})}),l.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t==="ko"?"이미지를 끌어다 놓거나 클릭하여 업로드":"画像をドラッグ＆ドロップするか、クリックしてアップロード"}),l.jsx("p",{className:"text-xs text-gray-400",children:t==="ko"?"JPG, PNG, 최대 5MB":"JPG、PNG、最大5MB"})]}),l.jsx("input",{ref:v,type:"file",accept:"image/*",className:`absolute inset-0 w-full h-full opacity-0 cursor-pointer ${a?"hidden":""}`,onChange:m})]})]})]}),l.jsxs("div",{className:"flex justify-between mt-8",children:[l.jsx(X,{variant:"outline",onClick:_,className:"rounded-full",children:e("verify.later")}),l.jsx(X,{onClick:b,className:"pasar-btn",disabled:!o||!a||u,children:u?l.jsxs("span",{className:"flex items-center",children:[l.jsx(Ot,{className:"mr-2 h-4 w-4 animate-spin"}),t==="ko"?"제출 중...":"送信中..."]}):t==="ko"?"제출하기":"送信する"})]})]})]})})})}function b5({profile:e,onLike:t,onPass:r}){ae();const n=e.photos&&e.photos.length>0?e.photos[0].url:"/placeholder.svg";return l.jsxs("div",{className:"pasar-card overflow-hidden max-w-lg w-full mx-auto h-[70vh] md:h-[500px] flex flex-col",children:[l.jsxs("div",{className:"relative w-full h-4/6 overflow-hidden rounded-t-xl",children:[l.jsx("img",{src:n,alt:e.name,className:"w-full h-full object-cover"}),l.jsxs(rt,{to:`/profile/${e.id}`,className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4 text-white",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsxs("h3",{className:"text-xl font-semibold",children:[e.name,", ",e.age]}),e.isVerified&&l.jsx(sN,{className:"h-5 w-5 text-primary bg-white rounded-full p-0.5"})]}),l.jsx("p",{className:"text-sm opacity-90",children:e.city})]})]}),l.jsxs("div",{className:"flex-grow flex flex-col justify-between p-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("p",{className:"text-sm text-muted-foreground",children:e.job||""}),l.jsx("p",{className:"text-sm line-clamp-3",children:e.bio})]}),l.jsxs("div",{className:"flex justify-center space-x-4 mt-4",children:[l.jsx(X,{onClick:()=>r(e.id),className:"rounded-full h-14 w-14 bg-gray-100 hover:bg-gray-200 text-gray-500",size:"icon",children:l.jsx(Ds,{className:"h-6 w-6"})}),l.jsx(X,{onClick:()=>t(e.id),className:"rounded-full h-14 w-14 bg-primary hover:bg-primary/90 text-primary-foreground",size:"icon",children:l.jsx(Dc,{className:"h-6 w-6"})})]})]})]})}const _5=async()=>{try{const{data:e,error:t}=await I.rpc("get_daily_recommendations_rpc");if(t)return console.error("Error fetching recommendations:",t),[];const r=e;return!r||typeof r!="object"||!("success"in r)||!("data"in r)?(console.error("Invalid recommendation data structure:",e),[]):r.data.map(s=>{const o=s.photos||[];return s.photo_url&&o.length===0&&o.push({url:s.photo_url}),{...s,photos:o}})}catch(e){return console.error("Error in getDailyRecommendations:",e),[]}},k5=async e=>{try{const{data:t,error:r}=await I.rpc("send_match_request_rpc",{target_profile_id:e});if(r)return console.error("Error liking profile:",r),!1;const n=t;return typeof n=="object"&&n!==null&&"success"in n?n.success:!1}catch(t){return console.error("Error in likeProfile:",t),!1}},j5=async e=>(console.log("User passed on profile:",e),!0);function S5(){const{t:e,language:t}=ae(),{toast:r}=Se(),[n,s]=h.useState([]),[o,i]=h.useState(0),[a,c]=h.useState(!0),[u,d]=h.useState(null);h.useEffect(()=>{(async()=>{try{console.log("[RecommendationList Debug] Loading recommendations"),c(!0);const x=await _5();console.log("[RecommendationList Debug] Recommendations data received:",JSON.stringify(x)),Array.isArray(x)?(console.log("[RecommendationList Debug] Valid array of recommendations, length:",x.length),s(x)):(console.error("[RecommendationList Debug] Recommendations is not an array:",x),s([]),d("No recommendations available"))}catch(x){console.error("[RecommendationList Debug] Error loading recommendations:",x),d("Error loading recommendations"),r({title:t==="ko"?"추천 목록을 불러오는데 실패했습니다":"おすすめリストの読み込みに失敗しました",description:t==="ko"?"나중에 다시 시도해주세요":"後でもう一度お試しください",variant:"destructive"})}finally{c(!1)}})()},[r,t]);const f=async g=>{console.log("[RecommendationList Debug] Like clicked for profile:",g),await k5(g)&&r({title:t==="ko"?"좋아요!":"いいね！",description:t==="ko"?"매치 요청을 보냈습니다":"マッチリクエストを送信しました"}),o<n.length-1?i(w=>w+1):s([])},p=async g=>{console.log("[RecommendationList Debug] Pass clicked for profile:",g),await j5(g),o<n.length-1?i(x=>x+1):s([])};if(console.log("[RecommendationList Debug] Render state:",{loading:a,error:u,profileCount:n.length,currentIndex:o,hasCurrentProfile:o<n.length&&!!n[o]}),a)return l.jsx("div",{className:"flex justify-center items-center py-12",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(u||n.length===0)return l.jsxs("div",{className:"pasar-card max-w-lg mx-auto p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 mx-auto mb-6 rounded-full bg-pastel-pink/20 flex items-center justify-center",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M9 16h6v-2a3 3 0 00-6 0v2z"})})}),l.jsx("h3",{className:"text-xl font-medium mb-3",children:t==="ko"?"오늘의 추천이 없습니다":"今日のおすすめはありません"}),l.jsx("p",{className:"text-muted-foreground",children:t==="ko"?"내일 다시 확인해보세요!":"また明日確認してください！"})]});if(o>=n.length)return console.error("[RecommendationList Debug] Current index out of bounds:",{currentIndex:o,profilesLength:n.length}),l.jsx("div",{className:"text-center py-4",children:t==="ko"?"추천 프로필이 더 이상 없습니다.":"おすすめのプロフィールはこれ以上ありません。"});const v=n[o];if(!v)return console.error("[RecommendationList Debug] Current profile is undefined:",{currentIndex:o,profiles:n}),l.jsx("div",{className:"text-center py-4",children:t==="ko"?"추천 프로필이 더 이상 없습니다.":"おすすめのプロフィールはこれ以上ありません。"});console.log("[RecommendationList Debug] Converting profile:",v);const y={id:v.id,name:v.name,age:v.age,city:v.location,bio:v.bio,job:v.job,photos:v.photos||[{url:v.photo_url||"/placeholder.svg"}],isVerified:!!v.is_verified};return console.log("[RecommendationList Debug] Mapped profile:",y),l.jsxs("div",{children:[l.jsx(b5,{profile:y,onLike:f,onPass:p}),l.jsx("div",{className:"text-center mt-4 text-sm text-muted-foreground",children:t==="ko"?`${o+1}/${n.length} 프로필`:`${o+1}/${n.length} プロフィール`})]})}const E5=Jo("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),bj=h.forwardRef(({className:e,variant:t,...r},n)=>l.jsx("div",{ref:n,role:"alert",className:H(E5({variant:t}),e),...r}));bj.displayName="Alert";const _j=h.forwardRef(({className:e,...t},r)=>l.jsx("h5",{ref:r,className:H("mb-1 font-medium leading-none tracking-tight",e),...t}));_j.displayName="AlertTitle";const kj=h.forwardRef(({className:e,...t},r)=>l.jsx("div",{ref:r,className:H("text-sm [&_p]:leading-relaxed",e),...t}));kj.displayName="AlertDescription";function C5(){const{t:e,language:t}=ae(),{user:r}=$e(),n=it();Se();const[s,o]=h.useState(!0),[i,a]=h.useState(!1),[c,u]=h.useState("");return h.useEffect(()=>{if(!r){n("/login");return}(async()=>{try{const{is_verified:f,verification_status:p}=await H_();a(f),u(p)}catch(f){console.error("Error checking access:",f)}finally{o(!1)}})()},[r,n,t]),s?l.jsx(Je,{children:l.jsx("div",{className:"flex justify-center items-center h-[50vh]",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):l.jsx(Je,{children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:[l.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:t==="ko"?"오늘의 추천":"今日のおすすめ"}),!i&&c&&l.jsxs(bj,{className:"mb-6",children:[l.jsx(_j,{children:t==="ko"?"채팅 기능 이용에 제한이 있을 수 있습니다":"チャット機能の利用に制限がある場合があります"}),l.jsx(kj,{children:t==="ko"?c==="submitted"||c==="in_review"?"신분증 인증이 검토 중입니다. 승인 후 채팅이 가능합니다. 잠시만 기다려 주세요.":"채팅 기능을 이용하시려면 신분증 인증이 필요합니다.":c==="submitted"||c==="in_review"?"身分証明書の確認が審査中です。承認までしばらくお待ちください。承認後にチャットが可能になります。":"チャット機能を利用するには、身分証明書の認証が必要です。"})]}),l.jsx(S5,{})]})})}const N5=new _2,P5=()=>l.jsx(j2,{client:N5,children:l.jsx(wR,{children:l.jsx(CR,{children:l.jsx(VO,{children:l.jsxs(ZT,{children:[l.jsx(JN,{}),l.jsx(CP,{}),l.jsxs(fR,{children:[l.jsx(ut,{path:"/",element:l.jsx(lF,{})}),l.jsx(ut,{path:"/login",element:l.jsx(dI,{})}),l.jsx(ut,{path:"/onboarding/:step",element:l.jsx(f4,{})}),l.jsx(ut,{path:"/verify",element:l.jsx(x5,{})}),l.jsx(ut,{path:"/home",element:l.jsx(h4,{})}),l.jsx(ut,{path:"/recommendations",element:l.jsx(C5,{})}),l.jsx(ut,{path:"/profile/:id",element:l.jsx(T4,{})}),l.jsx(ut,{path:"/mypage",element:l.jsx(BF,{})}),l.jsx(ut,{path:"/matches",element:l.jsx($3,{})}),l.jsx(ut,{path:"/chat",element:l.jsx(Pv,{})}),l.jsx(ut,{path:"/chat/:id",element:l.jsx(Pv,{})}),l.jsx(ut,{path:"/notifications",element:l.jsx(X3,{})}),l.jsx(ut,{path:"/settings",element:l.jsx(iF,{})}),l.jsx(ut,{path:"/admin",element:l.jsx(w5,{})}),l.jsx(ut,{path:"*",element:l.jsx(aF,{})})]})]})})})})});ud.createRoot(document.getElementById("root")).render(l.jsx(A.StrictMode,{children:l.jsx(P5,{})}));export{$v as g};
